<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sign Transaction</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="./libs/html5-qrcode.min.js"></script>
    <script src="./libs/qrcode.min.js"></script>
    <script src="./libs/ethers.umd.min.js"></script>

    <link rel="stylesheet" href="styles.css">

    <style>
      /* Define a CSS variable for consistency */
	  :root{
	    --max-width: 600px; /* keep yours */
	    --bg: #fafbfc;
	    --text: #0f172a;
	    --muted:#475569;
	    --border:#e2e8f0;
	    --panel:#ffffff;
	    --accent: #357CBA;
	    --danger:#ef4444;
	    --success:#22c55e;
 	   --radius: 10px;

	  /* Current layout had 2 columns with 8px gap. Approx. single block width was (max-width - gap)/2. */
  	  --grid-gap: 8px;
 	  --single-block-width: calc((var(--max-width) - var(--grid-gap)) / 2);

	  /* Default for narrow screens (phone): do NOT apply the multiplier */
	  --single-column-width: calc(var(--single-block-width) * 1);
	  }

	/* Only apply the 1.7x rule on wider screens (tablet/desktop) */
	@media (min-width: 500px){
 	 :root{
 	   --single-column-width: calc(var(--single-block-width) * 1.7);
	  }
	}

      #reader {
        width: 100%;
        max-width: 266px;   /* for example */
        height: 200px;      /* match qrbox size */
        margin: 0 auto;
        overflow: hidden;
      }

      #reader video {
        width: 100%;
        height: 100%;
        object-fit: contain;  /* no cropping */
      }

      /* Make QR preview respect its container */
      #sigQr canvas,
      #sigQr img {
        max-width: 100%;
        max-height: 100%;
        display: block;
      }

      /* New container for the sleeker layout */
      #main-container {
        max-width: var(--single-column-width);
        padding: 0 8px; /* Small padding on edges for mobile view */
        width: 100%;
      }

      /* Apply max-width to the header for consistency */
      header {
        max-width: var(--single-column-width);
        margin: 8px auto 8px auto !important; /* Center the header */
      }

      /* --- CENTERING LOGIC ---
         NOTE: Keeping your general centering approach, but we will stabilize layout by
         fixing right-panel min-heights in JS (see syncRightPanelHeights()).
      */
      body {
        margin: 0;
        padding: 0;
        min-height: 100vh;

        display: flex;
        flex-direction: column;

        align-items: center;
        justify-content: flex-start;

        flex-wrap: wrap;
        overflow: auto;
      }

      /* ===== Wallet banner styles (UPDATED) ===== */
      .alert{
        border-left: 4px solid;
      }

      .alert-red {
        background-color: #ffdddd;  /* light red */
        color: #a00000;             /* dark red text */
        border-color: #d00000;
      }

      .alert-green{
        background-color: #ddffea;
        color: #065f46;
        border-color: #16a34a;
      }
      /* ======================================== */

      /* keystore-tool button styling */
      .btn{
        display:inline-block;
        padding: 7px 6px;
        border-radius: 8px;
        border: 1px solid var(--accent);
        color:#fff;
        background: var(--accent);
        font-weight: 600;
        cursor:pointer;
        font-size: 0.72rem;
        box-shadow: none;
      }

      .btn.secondary{
        background: transparent;
        color: var(--accent);
        border-color: var(--border);
      }

      .btn:disabled{
        opacity: 0.65;
        cursor:not-allowed;
      }
      .btn.secondary:hover,
      .btn.secondary:active,
      .btn.secondary:focus {
        background: transparent;
        color: var(--accent);
        border-color: var(--border);
      }

      /* Wallet status pill (NEW) */
      .status-pill{
        position:absolute;
        top:8px;
        right:8px;
        display:inline-flex;
        align-items:center;
        gap:6px;
        padding:4px 8px;
        border-radius:999px;
        border:1px solid var(--border);
        background: rgba(255,255,255,0.92);
        backdrop-filter: blur(6px);
        font-size: 11px;
        line-height: 1;
        color: var(--muted);
        max-width: calc(100% - 16px);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        pointer-events:none; /* never interfere with camera */
      }
      .status-pill::before{
        content:'';
        width:8px;
        height:8px;
        border-radius:999px;
        background: var(--danger);
        flex:0 0 auto;
      }
      .status-pill--unlocked{
        color: #065f46;
        border-color: rgba(34,197,94,0.35);
      }
      .status-pill--unlocked::before{
        background: var(--success);
      }

      /* Remove wallet button */
      .btn.danger{
        background: transparent;
        border-color: var(--border);
        color: var(--accent);
      }
      .btn.danger:disabled{
        opacity: 0.65;
      }

      .compact-input[type="file"]{
        padding: 4px 4px;
      }

      .compact-input[type="password"]{
        padding: 7px 4px;
      }

      .compact-input[type="text"]{
        padding: 7px 3px;
      }

      /* NEW: Single-column layout wrapper (replacing the 2x2 grid) */
      .grid-2{
        display: grid;
        grid-template-columns: 1fr; /* single column */
        gap: var(--grid-gap);
        align-items: stretch;
      }

      /* In single-column mode, let cards size naturally */
      .grid-2 > .card{
        height: auto;
        min-height: 0;
        overflow: hidden;
      }

      .card{
        box-sizing: border-box;
        width: 100%;
        border:3px solid var(--border);
        border-radius:var(--radius);
      }

      .card > *{
        min-width: 0;
      }

      #walletAlert{
        min-height: 12px;
        display: flex;
        align-items: center;
      }

      #walletAlert{
        margin: 0 !important;
      }

      #walletAlert {
        margin-bottom: 0px !important;
      }

      #walletStatusRow{
        margin-top: -10px !important;
      }

      #scanCard{
        overflow: hidden;
      }
      #scanCard .actions{
        overflow: auto;
        max-height: 70px;
      }

      .tx-header{
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
      }

      .tx-header > *{
        white-space: nowrap;
      }

      /* Optional small-screen behavior: still single column; just ensure inputs wrap */
      @media (max-width: 760px){
        #unlock-keystore > div,
        #unlock-pkFile > div,
        #unlock-manual > div,
        #unlock-mnemonic > div,
        #unlock-mnemonicPass > div{
          flex-wrap: wrap !important;
          align-items: stretch;
        }
      }
	  
      /* Header row */
      #txCard .tx-header{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap: 8px;
        flex-wrap: wrap;
        margin-bottom: 6px;
      }

      #txCard .tx-title{
        font-weight: 700;
        font-size: 14px;
        margin: 0;
        text-align: left;
        flex: 0 0 auto;
      }

      /* Buttons group: ONE-ROW behavior by default (wide screens) */
      #txCard .tx-actions{
        display:flex;
         gap: 6px;
         margin: 0;

          /* Keep the actions on the right when in the same row */
         margin-left: auto;
         justify-content: flex-end;

        /* Allow wrapping when needed */
        flex-wrap: wrap;
       }

        #txCard .tx-actions .btn{
        flex: 0 0 auto;        /* narrow buttons on wide screens */
        white-space: nowrap;
        margin: 0;
      }

       /* TWO-ROW behavior (narrow screens): actions take full width and buttons stretch */
      @media (max-width: 520px){
        #txCard .tx-actions{
          flex: 1 1 100%;
          width: 100%;
          margin-left: 0;              /* no longer “push right” */
          justify-content: space-between; /* spread across the row */
        }

        #txCard .tx-actions .btn{
          flex: 1 1 0;                 /* each button expands */
          min-width: 0;                /* prevents overflow in tight spaces */
        }
      }
	  
	  #walletAlert,
      #walletUnlockedNote{
        display: block !important;
        width: 100%;
        white-space: normal;
        box-sizing: border-box;
      }
	  
	  /* =========================
      Sleeker "Unlock Wallet" UI
      (layout-only; keeps logic)
      ========================= */

      #unlockCard {
        gap: 10px;
      }

      #unlockCard .unlock-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
      }

      #unlockCard .wallet-panel {
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 10px;
        background: linear-gradient(180deg, rgba(250,251,252,0.9), rgba(255,255,255,0.95));
        box-shadow: 0 1px 0 rgba(15, 23, 42, 0.03);
        overflow: hidden; /* keeps things tight */
      }

      #unlockCard .unlock-mode {
        margin: 0 0 10px 0;
        width: 100%;
        border-radius: 10px;
      }

      /* Each mode section as a compact "form row" */
      #unlockCard .unlock-section {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 10px;
        align-items: end;
      }

      /* Two-field rows (keystore, mnemonic, mnemonicPass) */
      #unlockCard .unlock-fields-2 {
        display: grid;
        grid-template-columns: 1fr 0.7fr;
        gap: 10px;
      }

      /* Three-field rows (mnemonic+pass) */
      #unlockCard .unlock-fields-3 {
        display: grid;
        grid-template-columns: 1.3fr 0.8fr 0.8fr;
        gap: 10px;
      }

      #unlockCard label {
        display: block;
        font-weight: 700;
        font-size: 12px;
        color: var(--muted);
        margin-bottom: 4px;
      }

      #unlockCard input.compact-input,
      #unlockCard select.compact-input {
        width: 100%;
        border-radius: 10px;
        border: 1px solid var(--border);
        background: rgba(255,255,255,0.95);
      }

      #unlockCard .unlock-action {
        display: flex;
        align-items: end;
        justify-content: end;
      }

      #unlockCard .unlock-action .btn {
        padding: 6px 10px;          /* slightly more premium */
        border-radius: 10px;
        font-size: 0.78rem;
      }

      /* Footer note stays pinned and cleaner */
      #unlockCard .unlock-footer {
        margin-top: auto;
        border-radius: 10px;
        padding: 8px 10px;
      }

      /* Responsive: collapse multi-field rows on narrow screens */
      @media (max-width: 560px) {
        #unlockCard .unlock-section {
          grid-template-columns: 1fr;
        }
        #unlockCard .unlock-fields-2,
        #unlockCard .unlock-fields-3 {
          grid-template-columns: 1fr;
        }
        #unlockCard .unlock-action {
          justify-content: stretch;
        }
        #unlockCard .unlock-action .btn {
          width: 100%;
        }
      }
	  
	  /* Unified card titles */
      .card-title {
        font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
		font-weight: 600;
        font-size: 14px;
        margin: 0;
        letter-spacing: 0.01em;
      }

	  /* Default: mobile / narrow screens → stacked */
	  .sig-layout {
	    display: flex;
	    flex-direction: column;
	    gap: 12px;
	    flex: 1 1 auto;
	    overflow: hidden;
	  }

	/* QR block should not shrink */
	.sig-layout > div:first-child {
	  flex: 0 0 auto;
	}

	/* Wider screens → side-by-side */
	@media (min-width: 768px) {
	  .sig-layout {
	    flex-direction: row;
 	   align-items: flex-start;
	    gap: 8px;
	  }

   .sig-layout > div:first-child {
     flex: 0 0 160px;
   }

   .sig-layout > div:last-child {
     flex: 1 1 auto;
   }
 }

	/* Prevent mobile font inflation */
	html {
 	 -webkit-text-size-adjust: 100%;
	  text-size-adjust: 100%;
	}

	.tx-grid{
	  display: grid;
	  grid-template-columns: max-content minmax(0, 1fr);
	  column-gap: 10px;
	  row-gap: 6px;
 	 align-items: baseline;
	  margin: 6px 8px;
	}

	/* Labels: keep compact and stable */
	.tx-grid > .muted{
	  white-space: nowrap;
	  font-size: 0.8rem;
	}

	/* Value column — CRITICAL */
	.tx-val{
	  min-width: 0;                 /* allows shrinking */
	  overflow-wrap: anywhere;      /* breaks long strings */
	  word-break: break-word;
	  line-height: 1.3;
	}

	/* Code blocks (addresses, URs) */
	.tx-code{
	  display: block;
	  max-width: 100%;
	  font-size: 12px;
	  white-space: normal;          /* allow wrapping */
	  overflow-wrap: anywhere;
	  word-break: break-word;
	}

	/* Summary text explicitly allowed to wrap */
	.tx-summary{
	  white-space: normal;
 	  overflow-wrap: anywhere;
	  word-break: break-word;
	}
	
	/* Ensure the grid cell can actually shrink */
	.tx-grid > div {
	  min-width: 0;
	}

	/* Values: allow wrapping of long/unbroken strings */
	.tx-val {
	  min-width: 0;
	  overflow-wrap: anywhere;
	  word-break: break-word;
	}

	/* Summary: force wrapping for anything inside it (including nested <code>) */
	.tx-summary,
	.tx-summary * {
	  min-width: 0;
	  max-width: 100%;
	  white-space: normal;
 	 overflow-wrap: anywhere;
	  word-break: break-word;
	}

	/* If actionLine includes <code>, this is the usual culprit */
	.tx-summary code {
	  white-space: normal !important;
	  overflow-wrap: anywhere !important;
	  word-break: break-word !important;
	  display: inline; /* or block if you prefer */
	}


	html, body {
	  -webkit-text-size-adjust: 100% !important;
	  text-size-adjust: 100% !important;
	}

	#decodedSummary,
	#decodedSummary * {
	  -webkit-text-size-adjust: 100% !important;
	  text-size-adjust: 100% !important;
	}

	body { font-size: 14px; }
	#decodedSummary { font-size: 12px; }
	.tx-grid b { font-size: inherit; }

	/* Keep the outer card properly clipped */
	#sigCard {
	  overflow: hidden;
	  box-sizing: border-box;
	}

	/* Add safe inner spacing for textarea column */
	#sigCard .sig-layout > div:last-child {
	  padding: 4px;
	  box-sizing: border-box;
	}

	/* Constrain textarea correctly */
	#sigText {
	  width: 100%;
	  max-width: 100%;
	  box-sizing: border-box;
	  display: block;
	}

	/* ===== Signature panel: prevent horizontal overflow on phones ===== */

	/* Keep the card rounded and clipping */
	#sigCard {
	  overflow: hidden;
	  padding: 8px;              /* key: gives textarea/header breathing room */
	  box-sizing: border-box;
	}

	/* Do not clip inside the layout */
	#sigCard .sig-layout {
	  overflow: visible;
	}

	/* Critical for flex children: allow shrinking instead of overflowing */
	#sigCard .sig-layout > div {
	  min-width: 0;
	}

	/* Override the global nowrap that causes the overflow */
	#sigCard .tx-header > * {
	  white-space: normal;
	}

	/* Make right column a flex stack so textarea can size cleanly */
	#sigCard .sig-layout > div:last-child {
	  display: flex;
	  flex-direction: column;
	  min-width: 0;
	}

	/* Fix textarea sizing: don't use height:100% here (it causes bad math in flex layouts) */
	#sigText {
	  width: 100%;
	  max-width: 100%;
	  box-sizing: border-box;
	  display: block;

	  height: auto !important;   /* overrides your inline height:100% */
	  flex: 1 1 auto;
	  min-height: 0;
	}

	.wallet-address {
	  font-family: monospace;
	  font-size: 1em;

 	 /* default: wide screens */
	  white-space: nowrap;
	  margin-left: 4px;
	}

	/* Narrow screens: allow wrapping */
	@media (max-width: 520px) {
	  .wallet-address {
	    display: block;              /* moves to second row */
	    margin-left: 0;
 	   margin-top: 2px;

 	   white-space: normal;
 	   overflow-wrap: anywhere;
 	   word-break: break-word;
 	 }
	}

    </style>
  </head>

  <body>
    <header style="margin-bottom: 8px; text-align:center;">
      <h1 style="margin-bottom: 8px; margin-top: 24px; font-size: 17px; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; line-height: 1.1;">Sign Transaction</h1>
      <p class="muted small" style="max-width: 800px; margin: 0 auto; font-size: 14px; margin-bottom: 8px;">
        Scan signature request, verify & sign transaction
      </p>
    </header>

    <div id="main-container">
      <!-- Single column: Camera -> Unlock Wallet -> Transaction details -> Signature -->
      <div class="grid-2">

        <!-- Camera -->
        <div id="cameraCard" class="card"
             style="display:flex; flex-direction:column; overflow:hidden; position:relative;">
          <div id="reader"
               style="
                 flex:0 0 auto;
                 height:200px;
                 max-height:200px;
                 margin: 0 auto;
                 overflow:hidden;
               ">
          </div>

          <div id="walletStatusPill" class="status-pill status-pill--locked" aria-live="polite">No wallet unlocked</div>

          <div class="actions"
               style="
                 margin-top: 0px;
                 flex-wrap: wrap;
                 gap: 4px;
                 justify-content: center;
                 text-align: center;
               ">
            <button id="cameraToggleBtn" class="btn" type="button" style="margin-top: 0px;">Start camera</button>
            <button id="unlockWalletBtn" class="btn secondary" type="button" style="margin-top: 0px;">Unlock wallet</button>
            <button id="removeWalletBtn" class="btn danger" type="button" style="margin-top: 0px; display:none;">Remove wallet</button>
          </div>

          <!-- (1) Camera status removed from UI per request -->
        </div>

        <!-- Unlock Wallet -->
        <div id="unlockCard" class="card" style="display:none; flex-direction:column;">

          <!-- Header -->
          <div class="unlock-header">
            <div class="card-title">Unlock Wallet</div>
          </div>

          <!-- Status row (kept for compatibility, still hidden by your JS) -->
          <div id="walletStatusRow" style="display:none;"></div>

          <!-- Main content -->
          <div class="wallet-panel" style="flex:1 1 auto;">

			<select id="unlockMode" class="compact-input unlock-mode">
			<option value="keystore">Import Keystore</option>
			<option value="pkFile">Import Private key</option>
			<option value="manual">Enter Private key</option>
			<option value="mnemonic">Enter Seed phrase</option>
			<option value="mnemonicPass">Enter Seed phrase + Passphrase</option>
			</select>

			<!-- Keystore -->
			<div id="unlock-keystore" class="compact-text">
			<div class="unlock-section">
				<div class="unlock-fields-2">
				<div>
					<label for="keystoreFile">Keystore (.json)</label>
					<input id="keystoreFile" type="file" accept=".json" class="compact-input">
				</div>

				<div>
					<label for="keystorePassword">Password</label>
					<input id="keystorePassword" type="password" autocomplete="off"
						class="compact-input" placeholder="Password">
				</div>
				</div>

				<div class="unlock-action">
				<button id="keystoreUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			</div>
			</div>

			<!-- Private key file -->
			<div id="unlock-pkFile" class="compact-text" style="display:none;">
			<div class="unlock-section">
				<div>
				<label for="pkFile">Private key file (.txt)</label>
				<input id="pkFile" type="file" accept=".txt" class="compact-input">
				</div>

				<div class="unlock-action">
				<button id="pkFileUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			</div>
			</div>

			<!-- Manual private key -->
			<div id="unlock-manual" class="compact-text" style="display:none;">
			<div class="unlock-section">
				<div>
				<label for="pkManual">Private key</label>
				<input id="pkManual" type="password" autocomplete="off"
						class="compact-input" placeholder="Enter private key">
				</div>

				<div class="unlock-action">
				<button id="manualUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			</div>
			</div>

			<!-- Mnemonic -->
			<div id="unlock-mnemonic" class="compact-text" style="display:none;">
			<div class="unlock-section">
				<div class="unlock-fields-2">
				<div>
					<label for="mnemonicInput">Mnemonic phrase</label>
					<input id="mnemonicInput" type="password" autocomplete="off"
						class="compact-input" placeholder="Enter seed phrase">
				</div>
	
				<div>
					<label for="derivationPathInput">Path</label>
					<input id="derivationPathInput" type="text" autocomplete="off"
						class="compact-input" value="m/44'/60'/0'/0/0">
				</div>
				</div>

				<div class="unlock-action">
				<button id="mnemonicUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			</div>
			</div>

			<!-- Mnemonic + passphrase -->
			<div id="unlock-mnemonicPass" class="compact-text" style="display:none;">
			<div class="unlock-section">
				<div class="unlock-fields-3">
				 <div>
					<label for="mnemonicInput2">Mnemonic</label>
					<input id="mnemonicInput2" type="password" autocomplete="off"
						class="compact-input" placeholder="Seed phrase">
				 </div>
		
				 <div>
					<label for="mnemonicPassphraseInput">Passphrase</label>
					<input id="mnemonicPassphraseInput" type="password" autocomplete="off"
						class="compact-input" placeholder="Optional">
				 </div>

				 <div>
					<label for="derivationPathInput2">Path</label>
					<input id="derivationPathInput2" type="text" autocomplete="off"
						class="compact-input" value="m/44'/60'/0'/0/0">
				 </div>
				</div>

				<div class="unlock-action">
				<button id="mnemonicPassUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			 </div>
			</div>

		 </div>

		 <!-- Security note (pinned to bottom) -->
		 <div id="walletAlert" class="alert alert-red compact-text unlock-footer">
			<strong>Security Note:</strong>
			&thinsp; Use this tool on an air-gapped machine for maximum security.
		 </div>

		 <!-- Unlocked note -->
		 <div id="walletUnlockedNote" class="muted compact-text" style="margin-top:2px; display:none;"></div>

	    </div>


        <!-- Transaction details -->
        <div id="txCard" class="card" aria-label="Decoded request panel"
             style="display:flex; flex-direction:column; min-height:180px;">

        <div class="tx-header">
          <h3 class="card-title" style="margin-bottom:4px; margin-top:4px;">Transaction Details</h3>

          <!-- Buttons hidden by default; only shown when transaction details are successfully rendered -->
          <div id="txActions" class="tx-actions" style="display:none;">
            <button id="signBtn" class="btn" type="button">&thinsp;&thinsp;&thinsp;&thinsp;Sign&thinsp;&thinsp;&thinsp;&thinsp;</button>
            <button id="refreshPreviewBtn" class="btn secondary" type="button">Refresh</button>
            <button id="resetBtn" class="btn secondary" type="button">Reset</button>
          </div>
        </div>

          <div id="decodedSummary" class="compact-text"
               style="flex:1 1 auto; max-height:100%; border:1px solid var(--border); border-radius:10px; padding:6px; background:#fff; overflow:auto; margin-top:-10px;">
            <div class="muted">Scan a transaction request QR code</div>
          </div>
        </div>

        <!-- Signature -->
        <div id="sigCard" class="card"
             style="display:none; flex-direction:column; min-height:180px;">

          <div class="sig-layout">


            <div style="flex:0 0 160px;">
              <h3 class="card-title" style="margin-top:4px; margin-bottom:2px;">Signature QR</h3>
              <div id="sigQr" style="width:153px; height:153px; margin-top: 8px;"></div>
            </div>

            <div style="flex:1 1 auto;">
              <div class="tx-header" style="margin-top:0;">
                <h3 class="card-title">UR:ETH-SIGNATURE</h3>
                <!-- (4) Now acts as a reset button too (implemented in JS), label unchanged -->
                <button id="clearSigBtn" class="btn secondary" disabled type="button" style="padding:6px 8px;">Clear</button>
              </div>
              <textarea id="sigText"
                        rows="9"
                        class="mono compact-text"
                        readonly
                        style="width:100%; height:100%; margin-top:4px; resize:none; overflow:auto; font-size:0.86rem;"></textarea>
            </div>
          </div>

          <div style="display:none;">
            <span id="rHex"></span>
            <span id="sHex"></span>
            <span id="vParity"></span>
          </div>
        </div>

      </div>
    </div>

    <div style="display:none;">
      <textarea id="log" rows="8" class="mono" readonly></textarea>
      <div id="result" class="muted small">Waiting for frames…</div>
    </div>

    <script>
(()=>{var Id=Object.create;var Na=Object.defineProperty;var Od=Object.getOwnPropertyDescriptor;var Dd=Object.getOwnPropertyNames;var Td=Object.getPrototypeOf,Pd=Object.prototype.hasOwnProperty;var D=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Dd(t))!Pd.call(e,o)&&o!==r&&Na(e,o,{get:()=>t[o],enumerable:!(n=Od(t,o))||n.enumerable});return e};var Ma=(e,t,r)=>(r=e!=null?Id(Td(e)):{},qd(t||!e||!e.__esModule?Na(r,"default",{value:e,enumerable:!0}):r,e));var Tn=D(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.InvalidChecksumError=Ve.InvalidSequenceComponentError=Ve.InvalidTypeError=Ve.InvalidPathLengthError=Ve.InvalidSchemeError=void 0;var bo=class extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}};Ve.InvalidSchemeError=bo;var mo=class extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}};Ve.InvalidPathLengthError=mo;var _o=class extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}};Ve.InvalidTypeError=_o;var vo=class extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}};Ve.InvalidSequenceComponentError=vo;var wo=class extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}};Ve.InvalidChecksumError=wo});var Dt=D((T4,Bo)=>{typeof Object.create=="function"?Bo.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Bo.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var ka=D(Pn=>{"use strict";Pn.byteLength=Rd;Pn.toByteArray=Fd;Pn.fromByteArray=jd;var xt=[],ze=[],Cd=typeof Uint8Array<"u"?Uint8Array:Array,Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Kt=0,ja=Eo.length;Kt<ja;++Kt)xt[Kt]=Eo[Kt],ze[Eo.charCodeAt(Kt)]=Kt;var Kt,ja;ze[45]=62;ze[95]=63;function La(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Rd(e){var t=La(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Ud(e,t,r){return(t+r)*3/4-r}function Fd(e){var t,r=La(e),n=r[0],o=r[1],i=new Cd(Ud(e,n,o)),f=0,a=o>0?n-4:n,s;for(s=0;s<a;s+=4)t=ze[e.charCodeAt(s)]<<18|ze[e.charCodeAt(s+1)]<<12|ze[e.charCodeAt(s+2)]<<6|ze[e.charCodeAt(s+3)],i[f++]=t>>16&255,i[f++]=t>>8&255,i[f++]=t&255;return o===2&&(t=ze[e.charCodeAt(s)]<<2|ze[e.charCodeAt(s+1)]>>4,i[f++]=t&255),o===1&&(t=ze[e.charCodeAt(s)]<<10|ze[e.charCodeAt(s+1)]<<4|ze[e.charCodeAt(s+2)]>>2,i[f++]=t>>8&255,i[f++]=t&255),i}function Nd(e){return xt[e>>18&63]+xt[e>>12&63]+xt[e>>6&63]+xt[e&63]}function Md(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(Nd(n));return o.join("")}function jd(e){for(var t,r=e.length,n=r%3,o=[],i=16383,f=0,a=r-n;f<a;f+=i)o.push(Md(e,f,f+i>a?a:f+i));return n===1?(t=e[r-1],o.push(xt[t>>2]+xt[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(xt[t>>10]+xt[t>>4&63]+xt[t<<2&63]+"=")),o.join("")}});var Ha=D(Ao=>{Ao.read=function(e,t,r,n,o){var i,f,a=o*8-n-1,s=(1<<a)-1,u=s>>1,c=-7,l=r?o-1:0,x=r?-1:1,g=e[t+l];for(l+=x,i=g&(1<<-c)-1,g>>=-c,c+=a;c>0;i=i*256+e[t+l],l+=x,c-=8);for(f=i&(1<<-c)-1,i>>=-c,c+=n;c>0;f=f*256+e[t+l],l+=x,c-=8);if(i===0)i=1-u;else{if(i===s)return f?NaN:(g?-1:1)*(1/0);f=f+Math.pow(2,n),i=i-u}return(g?-1:1)*f*Math.pow(2,i-n)};Ao.write=function(e,t,r,n,o,i){var f,a,s,u=i*8-o-1,c=(1<<u)-1,l=c>>1,x=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:i-1,v=n?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,f=c):(f=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-f))<1&&(f--,s*=2),f+l>=1?t+=x/s:t+=x*Math.pow(2,1-l),t*s>=2&&(f++,s/=2),f+l>=c?(a=0,f=c):f+l>=1?(a=(t*s-1)*Math.pow(2,o),f=f+l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),f=0));o>=8;e[r+g]=a&255,g+=v,a/=256,o-=8);for(f=f<<o|a,u+=o;u>0;e[r+g]=f&255,g+=v,f/=256,u-=8);e[r+g-v]|=E*128}});var Le=D(dr=>{"use strict";var So=ka(),xr=Ha(),$a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;dr.Buffer=N;dr.SlowBuffer=Vd;dr.INSPECT_MAX_BYTES=50;var qn=2147483647;dr.kMaxLength=qn;N.TYPED_ARRAY_SUPPORT=Ld();!N.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ld(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.buffer}});Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.byteOffset}});function vt(e){if(e>qn)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,N.prototype),t}function N(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return To(e)}return za(e,t,r)}N.poolSize=8192;function za(e,t,r){if(typeof e=="string")return Hd(e,t);if(ArrayBuffer.isView(e))return $d(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(dt(e,ArrayBuffer)||e&&dt(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dt(e,SharedArrayBuffer)||e&&dt(e.buffer,SharedArrayBuffer)))return Oo(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return N.from(n,t,r);var o=Gd(e);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return N.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}N.from=function(e,t,r){return za(e,t,r)};Object.setPrototypeOf(N.prototype,Uint8Array.prototype);Object.setPrototypeOf(N,Uint8Array);function Wa(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function kd(e,t,r){return Wa(e),e<=0?vt(e):t!==void 0?typeof r=="string"?vt(e).fill(t,r):vt(e).fill(t):vt(e)}N.alloc=function(e,t,r){return kd(e,t,r)};function To(e){return Wa(e),vt(e<0?0:Po(e)|0)}N.allocUnsafe=function(e){return To(e)};N.allocUnsafeSlow=function(e){return To(e)};function Hd(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!N.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=Ya(e,t)|0,n=vt(r),o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}function Io(e){for(var t=e.length<0?0:Po(e.length)|0,r=vt(t),n=0;n<t;n+=1)r[n]=e[n]&255;return r}function $d(e){if(dt(e,Uint8Array)){var t=new Uint8Array(e);return Oo(t.buffer,t.byteOffset,t.byteLength)}return Io(e)}function Oo(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,N.prototype),n}function Gd(e){if(N.isBuffer(e)){var t=Po(e.length)|0,r=vt(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||qo(e.length)?vt(0):Io(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Io(e.data)}function Po(e){if(e>=qn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+qn.toString(16)+" bytes");return e|0}function Vd(e){return+e!=e&&(e=0),N.alloc(+e)}N.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==N.prototype};N.compare=function(t,r){if(dt(t,Uint8Array)&&(t=N.from(t,t.offset,t.byteLength)),dt(r,Uint8Array)&&(r=N.from(r,r.offset,r.byteLength)),!N.isBuffer(t)||!N.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var n=t.length,o=r.length,i=0,f=Math.min(n,o);i<f;++i)if(t[i]!==r[i]){n=t[i],o=r[i];break}return n<o?-1:o<n?1:0};N.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};N.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return N.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var o=N.allocUnsafe(r),i=0;for(n=0;n<t.length;++n){var f=t[n];if(dt(f,Uint8Array))i+f.length>o.length?N.from(f).copy(o,i):Uint8Array.prototype.set.call(o,f,i);else if(N.isBuffer(f))f.copy(o,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=f.length}return o};function Ya(e,t){if(N.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||dt(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Do(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return es(e).length;default:if(o)return n?-1:Do(e).length;t=(""+t).toLowerCase(),o=!0}}N.byteLength=Ya;function zd(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return rp(this,t,r);case"utf8":case"utf-8":return Ja(this,t,r);case"ascii":return ep(this,t,r);case"latin1":case"binary":return tp(this,t,r);case"base64":return Qd(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return np(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}N.prototype._isBuffer=!0;function Qt(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}N.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)Qt(this,r,r+1);return this};N.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)Qt(this,r,r+3),Qt(this,r+1,r+2);return this};N.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)Qt(this,r,r+7),Qt(this,r+1,r+6),Qt(this,r+2,r+5),Qt(this,r+3,r+4);return this};N.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Ja(this,0,t):zd.apply(this,arguments)};N.prototype.toLocaleString=N.prototype.toString;N.prototype.equals=function(t){if(!N.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:N.compare(this,t)===0};N.prototype.inspect=function(){var t="",r=dr.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};$a&&(N.prototype[$a]=N.prototype.inspect);N.prototype.compare=function(t,r,n,o,i){if(dt(t,Uint8Array)&&(t=N.from(t,t.offset,t.byteLength)),!N.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),r<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&r>=n)return 0;if(o>=i)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,i>>>=0,this===t)return 0;for(var f=i-o,a=n-r,s=Math.min(f,a),u=this.slice(o,i),c=t.slice(r,n),l=0;l<s;++l)if(u[l]!==c[l]){f=u[l],a=c[l];break}return f<a?-1:a<f?1:0};function Xa(e,t,r,n,o){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,qo(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0)if(o)r=0;else return-1;if(typeof t=="string"&&(t=N.from(t,n)),N.isBuffer(t))return t.length===0?-1:Ga(e,t,r,n,o);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Ga(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function Ga(e,t,r,n,o){var i=1,f=e.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;i=2,f/=2,a/=2,r/=2}function s(g,v){return i===1?g[v]:g.readUInt16BE(v*i)}var u;if(o){var c=-1;for(u=r;u<f;u++)if(s(e,u)===s(t,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===a)return c*i}else c!==-1&&(u-=u-c),c=-1}else for(r+a>f&&(r=f-a),u=r;u>=0;u--){for(var l=!0,x=0;x<a;x++)if(s(e,u+x)!==s(t,x)){l=!1;break}if(l)return u}return-1}N.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1};N.prototype.indexOf=function(t,r,n){return Xa(this,t,r,n,!0)};N.prototype.lastIndexOf=function(t,r,n){return Xa(this,t,r,n,!1)};function Wd(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=t.length;n>i/2&&(n=i/2);for(var f=0;f<n;++f){var a=parseInt(t.substr(f*2,2),16);if(qo(a))return f;e[r+f]=a}return f}function Yd(e,t,r,n){return Cn(Do(t,e.length-r),e,r,n)}function Xd(e,t,r,n){return Cn(ap(t),e,r,n)}function Jd(e,t,r,n){return Cn(es(t),e,r,n)}function Kd(e,t,r,n){return Cn(sp(t,e.length-r),e,r,n)}N.prototype.write=function(t,r,n,o){if(r===void 0)o="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")o=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-r;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var f=!1;;)switch(o){case"hex":return Wd(this,t,r,n);case"utf8":case"utf-8":return Yd(this,t,r,n);case"ascii":case"latin1":case"binary":return Xd(this,t,r,n);case"base64":return Jd(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kd(this,t,r,n);default:if(f)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),f=!0}};N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qd(e,t,r){return t===0&&r===e.length?So.fromByteArray(e):So.fromByteArray(e.slice(t,r))}function Ja(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i=e[o],f=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=r){var s,u,c,l;switch(a){case 1:i<128&&(f=i);break;case 2:s=e[o+1],(s&192)===128&&(l=(i&31)<<6|s&63,l>127&&(f=l));break;case 3:s=e[o+1],u=e[o+2],(s&192)===128&&(u&192)===128&&(l=(i&15)<<12|(s&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(f=l));break;case 4:s=e[o+1],u=e[o+2],c=e[o+3],(s&192)===128&&(u&192)===128&&(c&192)===128&&(l=(i&15)<<18|(s&63)<<12|(u&63)<<6|c&63,l>65535&&l<1114112&&(f=l))}}f===null?(f=65533,a=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|f&1023),n.push(f),o+=a}return Zd(n)}var Va=4096;function Zd(e){var t=e.length;if(t<=Va)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Va));return r}function ep(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]&127);return n}function tp(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function rp(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=fp[e[i]];return o}function np(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+n[i+1]*256);return o}N.prototype.slice=function(t,r){var n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var o=this.subarray(t,r);return Object.setPrototypeOf(o,N.prototype),o};function _e(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}N.prototype.readUintLE=N.prototype.readUIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||_e(t,r,this.length);for(var o=this[t],i=1,f=0;++f<r&&(i*=256);)o+=this[t+f]*i;return o};N.prototype.readUintBE=N.prototype.readUIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||_e(t,r,this.length);for(var o=this[t+--r],i=1;r>0&&(i*=256);)o+=this[t+--r]*i;return o};N.prototype.readUint8=N.prototype.readUInt8=function(t,r){return t=t>>>0,r||_e(t,1,this.length),this[t]};N.prototype.readUint16LE=N.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||_e(t,2,this.length),this[t]|this[t+1]<<8};N.prototype.readUint16BE=N.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||_e(t,2,this.length),this[t]<<8|this[t+1]};N.prototype.readUint32LE=N.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||_e(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};N.prototype.readUint32BE=N.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||_e(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};N.prototype.readIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||_e(t,r,this.length);for(var o=this[t],i=1,f=0;++f<r&&(i*=256);)o+=this[t+f]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o};N.prototype.readIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||_e(t,r,this.length);for(var o=r,i=1,f=this[t+--o];o>0&&(i*=256);)f+=this[t+--o]*i;return i*=128,f>=i&&(f-=Math.pow(2,8*r)),f};N.prototype.readInt8=function(t,r){return t=t>>>0,r||_e(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};N.prototype.readInt16LE=function(t,r){t=t>>>0,r||_e(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};N.prototype.readInt16BE=function(t,r){t=t>>>0,r||_e(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};N.prototype.readInt32LE=function(t,r){return t=t>>>0,r||_e(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};N.prototype.readInt32BE=function(t,r){return t=t>>>0,r||_e(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};N.prototype.readFloatLE=function(t,r){return t=t>>>0,r||_e(t,4,this.length),xr.read(this,t,!0,23,4)};N.prototype.readFloatBE=function(t,r){return t=t>>>0,r||_e(t,4,this.length),xr.read(this,t,!1,23,4)};N.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||_e(t,8,this.length),xr.read(this,t,!0,52,8)};N.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||_e(t,8,this.length),xr.read(this,t,!1,52,8)};function je(e,t,r,n,o,i){if(!N.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}N.prototype.writeUintLE=N.prototype.writeUIntLE=function(t,r,n,o){if(t=+t,r=r>>>0,n=n>>>0,!o){var i=Math.pow(2,8*n)-1;je(this,t,r,n,i,0)}var f=1,a=0;for(this[r]=t&255;++a<n&&(f*=256);)this[r+a]=t/f&255;return r+n};N.prototype.writeUintBE=N.prototype.writeUIntBE=function(t,r,n,o){if(t=+t,r=r>>>0,n=n>>>0,!o){var i=Math.pow(2,8*n)-1;je(this,t,r,n,i,0)}var f=n-1,a=1;for(this[r+f]=t&255;--f>=0&&(a*=256);)this[r+f]=t/a&255;return r+n};N.prototype.writeUint8=N.prototype.writeUInt8=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,1,255,0),this[r]=t&255,r+1};N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};N.prototype.writeIntLE=function(t,r,n,o){if(t=+t,r=r>>>0,!o){var i=Math.pow(2,8*n-1);je(this,t,r,n,i-1,-i)}var f=0,a=1,s=0;for(this[r]=t&255;++f<n&&(a*=256);)t<0&&s===0&&this[r+f-1]!==0&&(s=1),this[r+f]=(t/a>>0)-s&255;return r+n};N.prototype.writeIntBE=function(t,r,n,o){if(t=+t,r=r>>>0,!o){var i=Math.pow(2,8*n-1);je(this,t,r,n,i-1,-i)}var f=n-1,a=1,s=0;for(this[r+f]=t&255;--f>=0&&(a*=256);)t<0&&s===0&&this[r+f+1]!==0&&(s=1),this[r+f]=(t/a>>0)-s&255;return r+n};N.prototype.writeInt8=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};N.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};N.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};N.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};N.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||je(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function Ka(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Qa(e,t,r,n,o){return t=+t,r=r>>>0,o||Ka(e,t,r,4,34028234663852886e22,-34028234663852886e22),xr.write(e,t,r,n,23,4),r+4}N.prototype.writeFloatLE=function(t,r,n){return Qa(this,t,r,!0,n)};N.prototype.writeFloatBE=function(t,r,n){return Qa(this,t,r,!1,n)};function Za(e,t,r,n,o){return t=+t,r=r>>>0,o||Ka(e,t,r,8,17976931348623157e292,-17976931348623157e292),xr.write(e,t,r,n,52,8),r+8}N.prototype.writeDoubleLE=function(t,r,n){return Za(this,t,r,!0,n)};N.prototype.writeDoubleBE=function(t,r,n){return Za(this,t,r,!1,n)};N.prototype.copy=function(t,r,n,o){if(!N.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<n&&(o=n),o===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-n&&(o=t.length-r+n);var i=o-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,o):Uint8Array.prototype.set.call(t,this.subarray(n,o),r),i};N.prototype.fill=function(t,r,n,o){if(typeof t=="string"){if(typeof r=="string"?(o=r,r=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!N.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(t.length===1){var i=t.charCodeAt(0);(o==="utf8"&&i<128||o==="latin1")&&(t=i)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var f;if(typeof t=="number")for(f=r;f<n;++f)this[f]=t;else{var a=N.isBuffer(t)?t:N.from(t,o),s=a.length;if(s===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(f=0;f<n-r;++f)this[f+r]=a[f%s]}return this};var ip=/[^+/0-9A-Za-z-_]/g;function op(e){if(e=e.split("=")[0],e=e.trim().replace(ip,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Do(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],f=0;f<n;++f){if(r=e.charCodeAt(f),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(f+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function ap(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function sp(e,t){for(var r,n,o,i=[],f=0;f<e.length&&!((t-=2)<0);++f)r=e.charCodeAt(f),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function es(e){return So.toByteArray(op(e))}function Cn(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function dt(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function qo(e){return e!==e}var fp=(function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=r*16,o=0;o<16;++o)t[n+o]=e[r]+e[o];return t})()});var wt=D((Co,rs)=>{var Rn=Le(),pt=Rn.Buffer;function ts(e,t){for(var r in e)t[r]=e[r]}pt.from&&pt.alloc&&pt.allocUnsafe&&pt.allocUnsafeSlow?rs.exports=Rn:(ts(Rn,Co),Co.Buffer=Zt);function Zt(e,t,r){return pt(e,t,r)}Zt.prototype=Object.create(pt.prototype);ts(pt,Zt);Zt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return pt(e,t,r)};Zt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=pt(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Zt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return pt(e)};Zt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Rn.SlowBuffer(e)}});var is=D((R4,ns)=>{var up={}.toString;ns.exports=Array.isArray||function(e){return up.call(e)=="[object Array]"}});var er=D((U4,os)=>{"use strict";os.exports=TypeError});var Un=D((F4,as)=>{"use strict";as.exports=Object});var fs=D((N4,ss)=>{"use strict";ss.exports=Error});var cs=D((M4,us)=>{"use strict";us.exports=EvalError});var hs=D((j4,ls)=>{"use strict";ls.exports=RangeError});var ds=D((L4,xs)=>{"use strict";xs.exports=ReferenceError});var Ro=D((k4,ps)=>{"use strict";ps.exports=SyntaxError});var ys=D((H4,gs)=>{"use strict";gs.exports=URIError});var ms=D(($4,bs)=>{"use strict";bs.exports=Math.abs});var vs=D((G4,_s)=>{"use strict";_s.exports=Math.floor});var Bs=D((V4,ws)=>{"use strict";ws.exports=Math.max});var As=D((z4,Es)=>{"use strict";Es.exports=Math.min});var Is=D((W4,Ss)=>{"use strict";Ss.exports=Math.pow});var Ds=D((Y4,Os)=>{"use strict";Os.exports=Math.round});var Ps=D((X4,Ts)=>{"use strict";Ts.exports=Number.isNaN||function(t){return t!==t}});var Cs=D((J4,qs)=>{"use strict";var cp=Ps();qs.exports=function(t){return cp(t)||t===0?t:t<0?-1:1}});var Us=D((K4,Rs)=>{"use strict";Rs.exports=Object.getOwnPropertyDescriptor});var tr=D((Q4,Fs)=>{"use strict";var Fn=Us();if(Fn)try{Fn([],"length")}catch{Fn=null}Fs.exports=Fn});var Hr=D((Z4,Ns)=>{"use strict";var Nn=Object.defineProperty||!1;if(Nn)try{Nn({},"a",{value:1})}catch{Nn=!1}Ns.exports=Nn});var Mn=D((e8,Ms)=>{"use strict";Ms.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var f=Object.getOwnPropertySymbols(t);if(f.length!==1||f[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0}});var ks=D((t8,Ls)=>{"use strict";var js=typeof Symbol<"u"&&Symbol,lp=Mn();Ls.exports=function(){return typeof js!="function"||typeof Symbol!="function"||typeof js("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:lp()}});var Uo=D((r8,Hs)=>{"use strict";Hs.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Fo=D((n8,$s)=>{"use strict";var hp=Un();$s.exports=hp.getPrototypeOf||null});var zs=D((i8,Vs)=>{"use strict";var xp="Function.prototype.bind called on incompatible ",dp=Object.prototype.toString,pp=Math.max,gp="[object Function]",Gs=function(t,r){for(var n=[],o=0;o<t.length;o+=1)n[o]=t[o];for(var i=0;i<r.length;i+=1)n[i+t.length]=r[i];return n},yp=function(t,r){for(var n=[],o=r||0,i=0;o<t.length;o+=1,i+=1)n[i]=t[o];return n},bp=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};Vs.exports=function(t){var r=this;if(typeof r!="function"||dp.apply(r)!==gp)throw new TypeError(xp+r);for(var n=yp(arguments,1),o,i=function(){if(this instanceof o){var c=r.apply(this,Gs(n,arguments));return Object(c)===c?c:this}return r.apply(t,Gs(n,arguments))},f=pp(0,r.length-n.length),a=[],s=0;s<f;s++)a[s]="$"+s;if(o=Function("binder","return function ("+bp(a,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}});var pr=D((o8,Ws)=>{"use strict";var mp=zs();Ws.exports=Function.prototype.bind||mp});var jn=D((a8,Ys)=>{"use strict";Ys.exports=Function.prototype.call});var Ln=D((s8,Xs)=>{"use strict";Xs.exports=Function.prototype.apply});var Ks=D((f8,Js)=>{"use strict";Js.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var No=D((u8,Qs)=>{"use strict";var _p=pr(),vp=Ln(),wp=jn(),Bp=Ks();Qs.exports=Bp||_p.call(wp,vp)});var kn=D((c8,Zs)=>{"use strict";var Ep=pr(),Ap=er(),Sp=jn(),Ip=No();Zs.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new Ap("a function is required");return Ip(Ep,Sp,t)}});var af=D((l8,of)=>{"use strict";var Op=kn(),ef=tr(),rf;try{rf=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var Mo=!!rf&&ef&&ef(Object.prototype,"__proto__"),nf=Object,tf=nf.getPrototypeOf;of.exports=Mo&&typeof Mo.get=="function"?Op([Mo.get]):typeof tf=="function"?function(t){return tf(t==null?t:nf(t))}:!1});var Hn=D((h8,cf)=>{"use strict";var sf=Uo(),ff=Fo(),uf=af();cf.exports=sf?function(t){return sf(t)}:ff?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return ff(t)}:uf?function(t){return uf(t)}:null});var jo=D((x8,lf)=>{"use strict";var Dp=Function.prototype.call,Tp=Object.prototype.hasOwnProperty,Pp=pr();lf.exports=Pp.call(Dp,Tp)});var Vn=D((d8,yf)=>{"use strict";var Q,qp=Un(),Cp=fs(),Rp=cs(),Up=hs(),Fp=ds(),mr=Ro(),br=er(),Np=ys(),Mp=ms(),jp=vs(),Lp=Bs(),kp=As(),Hp=Is(),$p=Ds(),Gp=Cs(),pf=Function,Lo=function(e){try{return pf('"use strict"; return ('+e+").constructor;")()}catch{}},$r=tr(),Vp=Hr(),ko=function(){throw new br},zp=$r?(function(){try{return arguments.callee,ko}catch{try{return $r(arguments,"callee").get}catch{return ko}}})():ko,gr=ks()(),ve=Hn(),Wp=Fo(),Yp=Uo(),gf=Ln(),Gr=jn(),yr={},Xp=typeof Uint8Array>"u"||!ve?Q:ve(Uint8Array),rr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Q:ArrayBuffer,"%ArrayIteratorPrototype%":gr&&ve?ve([][Symbol.iterator]()):Q,"%AsyncFromSyncIteratorPrototype%":Q,"%AsyncFunction%":yr,"%AsyncGenerator%":yr,"%AsyncGeneratorFunction%":yr,"%AsyncIteratorPrototype%":yr,"%Atomics%":typeof Atomics>"u"?Q:Atomics,"%BigInt%":typeof BigInt>"u"?Q:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Cp,"%eval%":eval,"%EvalError%":Rp,"%Float16Array%":typeof Float16Array>"u"?Q:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Q:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Q:FinalizationRegistry,"%Function%":pf,"%GeneratorFunction%":yr,"%Int8Array%":typeof Int8Array>"u"?Q:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Q:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":gr&&ve?ve(ve([][Symbol.iterator]())):Q,"%JSON%":typeof JSON=="object"?JSON:Q,"%Map%":typeof Map>"u"?Q:Map,"%MapIteratorPrototype%":typeof Map>"u"||!gr||!ve?Q:ve(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":qp,"%Object.getOwnPropertyDescriptor%":$r,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Q:Promise,"%Proxy%":typeof Proxy>"u"?Q:Proxy,"%RangeError%":Up,"%ReferenceError%":Fp,"%Reflect%":typeof Reflect>"u"?Q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Q:Set,"%SetIteratorPrototype%":typeof Set>"u"||!gr||!ve?Q:ve(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":gr&&ve?ve(""[Symbol.iterator]()):Q,"%Symbol%":gr?Symbol:Q,"%SyntaxError%":mr,"%ThrowTypeError%":zp,"%TypedArray%":Xp,"%TypeError%":br,"%Uint8Array%":typeof Uint8Array>"u"?Q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Q:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Q:Uint32Array,"%URIError%":Np,"%WeakMap%":typeof WeakMap>"u"?Q:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Q:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Q:WeakSet,"%Function.prototype.call%":Gr,"%Function.prototype.apply%":gf,"%Object.defineProperty%":Vp,"%Object.getPrototypeOf%":Wp,"%Math.abs%":Mp,"%Math.floor%":jp,"%Math.max%":Lp,"%Math.min%":kp,"%Math.pow%":Hp,"%Math.round%":$p,"%Math.sign%":Gp,"%Reflect.getPrototypeOf%":Yp};if(ve)try{null.error}catch(e){hf=ve(ve(e)),rr["%Error.prototype%"]=hf}var hf,Jp=function e(t){var r;if(t==="%AsyncFunction%")r=Lo("async function () {}");else if(t==="%GeneratorFunction%")r=Lo("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Lo("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&ve&&(r=ve(o.prototype))}return rr[t]=r,r},xf={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vr=pr(),$n=jo(),Kp=Vr.call(Gr,Array.prototype.concat),Qp=Vr.call(gf,Array.prototype.splice),df=Vr.call(Gr,String.prototype.replace),Gn=Vr.call(Gr,String.prototype.slice),Zp=Vr.call(Gr,RegExp.prototype.exec),e1=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,t1=/\\(\\)?/g,r1=function(t){var r=Gn(t,0,1),n=Gn(t,-1);if(r==="%"&&n!=="%")throw new mr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new mr("invalid intrinsic syntax, expected opening `%`");var o=[];return df(t,e1,function(i,f,a,s){o[o.length]=a?df(s,t1,"$1"):f||i}),o},n1=function(t,r){var n=t,o;if($n(xf,n)&&(o=xf[n],n="%"+o[0]+"%"),$n(rr,n)){var i=rr[n];if(i===yr&&(i=Jp(n)),typeof i>"u"&&!r)throw new br("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new mr("intrinsic "+t+" does not exist!")};yf.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new br("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new br('"allowMissing" argument must be a boolean');if(Zp(/^%?[^%]*%?$/,t)===null)throw new mr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=r1(t),o=n.length>0?n[0]:"",i=n1("%"+o+"%",r),f=i.name,a=i.value,s=!1,u=i.alias;u&&(o=u[0],Qp(n,Kp([0,1],u)));for(var c=1,l=!0;c<n.length;c+=1){var x=n[c],g=Gn(x,0,1),v=Gn(x,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new mr("property names with quotes must have matching quotes");if((x==="constructor"||!l)&&(s=!0),o+="."+x,f="%"+o+"%",$n(rr,f))a=rr[f];else if(a!=null){if(!(x in a)){if(!r)throw new br("base intrinsic for "+t+" exists, but the property is not available.");return}if($r&&c+1>=n.length){var E=$r(a,x);l=!!E,l&&"get"in E&&!("originalValue"in E.get)?a=E.get:a=a[x]}else l=$n(a,x),a=a[x];l&&!s&&(rr[f]=a)}}return a}});var Tt=D((p8,_f)=>{"use strict";var bf=Vn(),mf=kn(),i1=mf([bf("%String.prototype.indexOf%")]);_f.exports=function(t,r){var n=bf(t,!!r);return typeof n=="function"&&i1(t,".prototype.")>-1?mf([n]):n}});var Ef=D((g8,Bf)=>{"use strict";var wf=Function.prototype.toString,_r=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,$o,zn;if(typeof _r=="function"&&typeof Object.defineProperty=="function")try{$o=Object.defineProperty({},"length",{get:function(){throw zn}}),zn={},_r(function(){throw 42},null,$o)}catch(e){e!==zn&&(_r=null)}else _r=null;var o1=/^\s*class\b/,Go=function(t){try{var r=wf.call(t);return o1.test(r)}catch{return!1}},Ho=function(t){try{return Go(t)?!1:(wf.call(t),!0)}catch{return!1}},Wn=Object.prototype.toString,a1="[object Object]",s1="[object Function]",f1="[object GeneratorFunction]",u1="[object HTMLAllCollection]",c1="[object HTML document.all class]",l1="[object HTMLCollection]",h1=typeof Symbol=="function"&&!!Symbol.toStringTag,x1=!(0 in[,]),Vo=function(){return!1};typeof document=="object"&&(vf=document.all,Wn.call(vf)===Wn.call(document.all)&&(Vo=function(t){if((x1||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=Wn.call(t);return(r===u1||r===c1||r===l1||r===a1)&&t("")==null}catch{}return!1}));var vf;Bf.exports=_r?function(t){if(Vo(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{_r(t,null,$o)}catch(r){if(r!==zn)return!1}return!Go(t)&&Ho(t)}:function(t){if(Vo(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(h1)return Ho(t);if(Go(t))return!1;var r=Wn.call(t);return r!==s1&&r!==f1&&!/^\[object HTML/.test(r)?!1:Ho(t)}});var If=D((y8,Sf)=>{"use strict";var d1=Ef(),p1=Object.prototype.toString,Af=Object.prototype.hasOwnProperty,g1=function(t,r,n){for(var o=0,i=t.length;o<i;o++)Af.call(t,o)&&(n==null?r(t[o],o,t):r.call(n,t[o],o,t))},y1=function(t,r,n){for(var o=0,i=t.length;o<i;o++)n==null?r(t.charAt(o),o,t):r.call(n,t.charAt(o),o,t)},b1=function(t,r,n){for(var o in t)Af.call(t,o)&&(n==null?r(t[o],o,t):r.call(n,t[o],o,t))};function m1(e){return p1.call(e)==="[object Array]"}Sf.exports=function(t,r,n){if(!d1(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),m1(t)?g1(t,r,o):typeof t=="string"?y1(t,r,o):b1(t,r,o)}});var Df=D((b8,Of)=>{"use strict";Of.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var Pf=D((m8,Tf)=>{"use strict";var zo=Df(),_1=typeof globalThis>"u"?global:globalThis;Tf.exports=function(){for(var t=[],r=0;r<zo.length;r++)typeof _1[zo[r]]=="function"&&(t[t.length]=zo[r]);return t}});var Wo=D((_8,Rf)=>{"use strict";var qf=Hr(),v1=Ro(),vr=er(),Cf=tr();Rf.exports=function(t,r,n){if(!t||typeof t!="object"&&typeof t!="function")throw new vr("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new vr("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new vr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new vr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new vr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new vr("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,s=!!Cf&&Cf(t,r);if(qf)qf(t,r,{configurable:f===null&&s?s.configurable:!f,enumerable:o===null&&s?s.enumerable:!o,value:n,writable:i===null&&s?s.writable:!i});else if(a||!o&&!i&&!f)t[r]=n;else throw new v1("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var Xo=D((v8,Ff)=>{"use strict";var Yo=Hr(),Uf=function(){return!!Yo};Uf.hasArrayLengthDefineBug=function(){if(!Yo)return null;try{return Yo([],"length",{value:1}).length!==1}catch{return!0}};Ff.exports=Uf});var kf=D((w8,Lf)=>{"use strict";var w1=Vn(),Nf=Wo(),B1=Xo()(),Mf=tr(),jf=er(),E1=w1("%Math.floor%");Lf.exports=function(t,r){if(typeof t!="function")throw new jf("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||E1(r)!==r)throw new jf("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,i=!0;if("length"in t&&Mf){var f=Mf(t,"length");f&&!f.configurable&&(o=!1),f&&!f.writable&&(i=!1)}return(o||i||!n)&&(B1?Nf(t,"length",r,!0,!0):Nf(t,"length",r)),t}});var $f=D((B8,Hf)=>{"use strict";var A1=pr(),S1=Ln(),I1=No();Hf.exports=function(){return I1(A1,S1,arguments)}});var zr=D((E8,Yn)=>{"use strict";var O1=kf(),Gf=Hr(),D1=kn(),Vf=$f();Yn.exports=function(t){var r=D1(arguments),n=t.length-(arguments.length-1);return O1(r,1+(n>0?n:0),!0)};Gf?Gf(Yn.exports,"apply",{value:Vf}):Yn.exports.apply=Vf});var Wr=D((A8,zf)=>{"use strict";var T1=Mn();zf.exports=function(){return T1()&&!!Symbol.toStringTag}});var Zo=D((S8,Jf)=>{"use strict";var Kn=If(),P1=Pf(),Wf=zr(),Ko=Tt(),Jn=tr(),Xn=Hn(),q1=Ko("Object.prototype.toString"),Xf=Wr()(),Yf=typeof globalThis>"u"?global:globalThis,Jo=P1(),Qo=Ko("String.prototype.slice"),C1=Ko("Array.prototype.indexOf",!0)||function(t,r){for(var n=0;n<t.length;n+=1)if(t[n]===r)return n;return-1},Qn={__proto__:null};Xf&&Jn&&Xn?Kn(Jo,function(e){var t=new Yf[e];if(Symbol.toStringTag in t&&Xn){var r=Xn(t),n=Jn(r,Symbol.toStringTag);if(!n&&r){var o=Xn(r);n=Jn(o,Symbol.toStringTag)}Qn["$"+e]=Wf(n.get)}}):Kn(Jo,function(e){var t=new Yf[e],r=t.slice||t.set;r&&(Qn["$"+e]=Wf(r))});var R1=function(t){var r=!1;return Kn(Qn,function(n,o){if(!r)try{"$"+n(t)===o&&(r=Qo(o,1))}catch{}}),r},U1=function(t){var r=!1;return Kn(Qn,function(n,o){if(!r)try{n(t),r=Qo(o,1)}catch{}}),r};Jf.exports=function(t){if(!t||typeof t!="object")return!1;if(!Xf){var r=Qo(q1(t),8,-1);return C1(Jo,r)>-1?r:r!=="Object"?!1:U1(t)}return Jn?R1(t):null}});var e0=D((I8,Kf)=>{"use strict";var F1=Zo();Kf.exports=function(t){return!!F1(t)}});var Zf=D((O8,Qf)=>{"use strict";var N1=er(),M1=Tt(),j1=M1("TypedArray.prototype.buffer",!0),L1=e0();Qf.exports=j1||function(t){if(!L1(t))throw new N1("Not a Typed Array");return t.buffer}});var ru=D((D8,tu)=>{"use strict";var it=wt().Buffer,k1=is(),H1=Zf(),$1=ArrayBuffer.isView||function(t){try{return H1(t),!0}catch{return!1}},G1=typeof Uint8Array<"u",eu=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",V1=eu&&(it.prototype instanceof Uint8Array||it.TYPED_ARRAY_SUPPORT);tu.exports=function(t,r){if(it.isBuffer(t))return t.constructor&&!("isBuffer"in t)?it.from(t):t;if(typeof t=="string")return it.from(t,r);if(eu&&$1(t)){if(t.byteLength===0)return it.alloc(0);if(V1){var n=it.from(t.buffer,t.byteOffset,t.byteLength);if(n.byteLength===t.byteLength)return n}var o=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i=it.from(o);if(i.length===t.byteLength)return i}if(G1&&t instanceof Uint8Array)return it.from(t);var f=k1(t);if(f)for(var a=0;a<t.length;a+=1){var s=t[a];if(typeof s!="number"||s<0||s>255||~~s!==s)throw new RangeError("Array items must be numbers in the range 0-255.")}if(f||it.isBuffer(t)&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return it.from(t);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}});var nr=D((T8,nu)=>{"use strict";var z1=wt().Buffer,W1=ru();function Zn(e,t){this._block=z1.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Zn.prototype.update=function(e,t){e=W1(e,t||"utf8");for(var r=this._block,n=this._blockSize,o=e.length,i=this._len,f=0;f<o;){for(var a=i%n,s=Math.min(o-f,n-a),u=0;u<s;u++)r[a+u]=e[f+u];i+=s,f+=s,i%n===0&&this._update(r)}return this._len+=o,this};Zn.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,o=(r-n)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i};Zn.prototype._update=function(){throw new Error("_update must be implemented by subclass")};nu.exports=Zn});var au=D((P8,ou)=>{"use strict";var Y1=Dt(),iu=nr(),X1=wt().Buffer,J1=[1518500249,1859775393,-1894007588,-899497514],K1=new Array(80);function Yr(){this.init(),this._w=K1,iu.call(this,64,56)}Y1(Yr,iu);Yr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Q1(e){return e<<5|e>>>27}function Z1(e){return e<<30|e>>>2}function eg(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Yr.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,f=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var s=0;s<80;++s){var u=~~(s/20),c=Q1(r)+eg(u,n,o,i)+f+t[s]+J1[u]|0;f=i,i=o,o=Z1(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=f+this._e|0};Yr.prototype._hash=function(){var e=X1.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};ou.exports=Yr});var uu=D((q8,fu)=>{"use strict";var tg=Dt(),su=nr(),rg=wt().Buffer,ng=[1518500249,1859775393,-1894007588,-899497514],ig=new Array(80);function Xr(){this.init(),this._w=ig,su.call(this,64,56)}tg(Xr,su);Xr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function og(e){return e<<1|e>>>31}function ag(e){return e<<5|e>>>27}function sg(e){return e<<30|e>>>2}function fg(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Xr.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,f=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=og(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var s=0;s<80;++s){var u=~~(s/20),c=ag(r)+fg(u,n,o,i)+f+t[s]+ng[u]|0;f=i,i=o,o=sg(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=f+this._e|0};Xr.prototype._hash=function(){var e=rg.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};fu.exports=Xr});var t0=D((C8,lu)=>{"use strict";var ug=Dt(),cu=nr(),cg=wt().Buffer,lg=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],hg=new Array(64);function Jr(){this.init(),this._w=hg,cu.call(this,64,56)}ug(Jr,cu);Jr.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function xg(e,t,r){return r^e&(t^r)}function dg(e,t,r){return e&t|r&(e|t)}function pg(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function gg(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function yg(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function bg(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Jr.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,f=this._e|0,a=this._f|0,s=this._g|0,u=this._h|0,c=0;c<16;++c)t[c]=e.readInt32BE(c*4);for(;c<64;++c)t[c]=bg(t[c-2])+t[c-7]+yg(t[c-15])+t[c-16]|0;for(var l=0;l<64;++l){var x=u+gg(f)+xg(f,a,s)+lg[l]+t[l]|0,g=pg(r)+dg(r,n,o)|0;u=s,s=a,a=f,f=i+x|0,i=o,o=n,n=r,r=x+g|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=f+this._e|0,this._f=a+this._f|0,this._g=s+this._g|0,this._h=u+this._h|0};Jr.prototype._hash=function(){var e=cg.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};lu.exports=Jr});var xu=D((R8,hu)=>{"use strict";var mg=Dt(),_g=t0(),vg=nr(),wg=wt().Buffer,Bg=new Array(64);function ei(){this.init(),this._w=Bg,vg.call(this,64,56)}mg(ei,_g);ei.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};ei.prototype._hash=function(){var e=wg.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};hu.exports=ei});var r0=D((U8,_u)=>{"use strict";var Eg=Dt(),mu=nr(),Ag=wt().Buffer,du=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Sg=new Array(160);function Kr(){this.init(),this._w=Sg,mu.call(this,128,112)}Eg(Kr,mu);Kr.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function pu(e,t,r){return r^e&(t^r)}function gu(e,t,r){return e&t|r&(e|t)}function yu(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function bu(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Ig(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Og(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Dg(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Tg(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function we(e,t){return e>>>0<t>>>0?1:0}Kr.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,o=this._ch|0,i=this._dh|0,f=this._eh|0,a=this._fh|0,s=this._gh|0,u=this._hh|0,c=this._al|0,l=this._bl|0,x=this._cl|0,g=this._dl|0,v=this._el|0,E=this._fl|0,C=this._gl|0,I=this._hl|0,q=0;q<32;q+=2)t[q]=e.readInt32BE(q*4),t[q+1]=e.readInt32BE(q*4+4);for(;q<160;q+=2){var F=t[q-30],M=t[q-30+1],d=Ig(F,M),b=Og(M,F);F=t[q-4],M=t[q-4+1];var h=Dg(F,M),y=Tg(M,F),_=t[q-14],j=t[q-14+1],H=t[q-32],Y=t[q-32+1],te=b+j|0,J=d+_+we(te,b)|0;te=te+y|0,J=J+h+we(te,y)|0,te=te+Y|0,J=J+H+we(te,Y)|0,t[q]=J,t[q+1]=te}for(var le=0;le<160;le+=2){J=t[le],te=t[le+1];var He=gu(r,n,o),mt=gu(c,l,x),Jt=yu(r,c),nt=yu(c,r),Nr=bu(f,v),_t=bu(v,f),Mr=du[le],k=du[le+1],jr=pu(f,a,s),Lr=pu(v,E,C),Be=I+_t|0,de=u+Nr+we(Be,I)|0;Be=Be+Lr|0,de=de+jr+we(Be,Lr)|0,Be=Be+k|0,de=de+Mr+we(Be,k)|0,Be=Be+te|0,de=de+J+we(Be,te)|0;var $e=nt+mt|0,p=Jt+He+we($e,nt)|0;u=s,I=C,s=a,C=E,a=f,E=v,v=g+Be|0,f=i+de+we(v,g)|0,i=o,g=x,o=n,x=l,n=r,l=c,c=Be+$e|0,r=de+p+we(c,Be)|0}this._al=this._al+c|0,this._bl=this._bl+l|0,this._cl=this._cl+x|0,this._dl=this._dl+g|0,this._el=this._el+v|0,this._fl=this._fl+E|0,this._gl=this._gl+C|0,this._hl=this._hl+I|0,this._ah=this._ah+r+we(this._al,c)|0,this._bh=this._bh+n+we(this._bl,l)|0,this._ch=this._ch+o+we(this._cl,x)|0,this._dh=this._dh+i+we(this._dl,g)|0,this._eh=this._eh+f+we(this._el,v)|0,this._fh=this._fh+a+we(this._fl,E)|0,this._gh=this._gh+s+we(this._gl,C)|0,this._hh=this._hh+u+we(this._hl,I)|0};Kr.prototype._hash=function(){var e=Ag.allocUnsafe(64);function t(r,n,o){e.writeInt32BE(r,o),e.writeInt32BE(n,o+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};_u.exports=Kr});var wu=D((F8,vu)=>{"use strict";var Pg=Dt(),qg=r0(),Cg=nr(),Rg=wt().Buffer,Ug=new Array(160);function ti(){this.init(),this._w=Ug,Cg.call(this,128,112)}Pg(ti,qg);ti.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};ti.prototype._hash=function(){var e=Rg.allocUnsafe(48);function t(r,n,o){e.writeInt32BE(r,o),e.writeInt32BE(n,o+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};vu.exports=ti});var Bu=D((N8,Bt)=>{"use strict";Bt.exports=function(t){var r=t.toLowerCase(),n=Bt.exports[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n};Bt.exports.sha=au();Bt.exports.sha1=uu();Bt.exports.sha224=xu();Bt.exports.sha256=t0();Bt.exports.sha384=wu();Bt.exports.sha512=r0()});var We=D(n0=>{"use strict";Object.defineProperty(n0,"__esModule",{value:!0});var wr=Le(),Fg=wr.Buffer.from&&wr.Buffer.alloc&&wr.Buffer.allocUnsafe&&wr.Buffer.allocUnsafeSlow?wr.Buffer.from:function(e){return new wr.Buffer(e)};n0.default=Fg});var Ye=D(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0});i0.default=function(e,t){var r=function(o,i){return t(o,i)>>>0};return r.signed=t,r.unsigned=r,r.model=e,r}});var Au=D(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});var Ng=Le(),Mg=We(),jg=Eu(Mg),Lg=Ye(),kg=Eu(Lg);function Eu(e){return e&&e.__esModule?e:{default:e}}var Hg=(0,kg.default)("crc1",function(e,t){Ng.Buffer.isBuffer(e)||(e=(0,jg.default)(e));for(var r=~~t,n=0,o=0;o<e.length;o++){var i=e[o];n+=i}return r+=n%256,r%256});o0.default=Hg});var Iu=D((k8,Su)=>{"use strict";Su.exports=Au().default});var Du=D(s0=>{"use strict";Object.defineProperty(s0,"__esModule",{value:!0});var $g=Le(),Gg=We(),Vg=Ou(Gg),zg=Ye(),Wg=Ou(zg);function Ou(e){return e&&e.__esModule?e:{default:e}}var a0=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array<"u"&&(a0=new Int32Array(a0));var Yg=(0,Wg.default)("crc-8",function(e,t){$g.Buffer.isBuffer(e)||(e=(0,Vg.default)(e));for(var r=~~t,n=0;n<e.length;n++){var o=e[n];r=a0[(r^o)&255]&255}return r});s0.default=Yg});var Pu=D(($8,Tu)=>{"use strict";Tu.exports=Du().default});var Cu=D(u0=>{"use strict";Object.defineProperty(u0,"__esModule",{value:!0});var Xg=Le(),Jg=We(),Kg=qu(Jg),Qg=Ye(),Zg=qu(Qg);function qu(e){return e&&e.__esModule?e:{default:e}}var f0=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array<"u"&&(f0=new Int32Array(f0));var ey=(0,Zg.default)("dallas-1-wire",function(e,t){Xg.Buffer.isBuffer(e)||(e=(0,Kg.default)(e));for(var r=~~t,n=0;n<e.length;n++){var o=e[n];r=f0[(r^o)&255]&255}return r});u0.default=ey});var Uu=D((V8,Ru)=>{"use strict";Ru.exports=Cu().default});var Nu=D(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0});var ty=Le(),ry=We(),ny=Fu(ry),iy=Ye(),oy=Fu(iy);function Fu(e){return e&&e.__esModule?e:{default:e}}var c0=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(c0=new Int32Array(c0));var ay=(0,oy.default)("crc-16",function(e,t){ty.Buffer.isBuffer(e)||(e=(0,ny.default)(e));for(var r=~~t,n=0;n<e.length;n++){var o=e[n];r=(c0[(r^o)&255]^r>>8)&65535}return r});l0.default=ay});var ju=D((W8,Mu)=>{"use strict";Mu.exports=Nu().default});var ku=D(x0=>{"use strict";Object.defineProperty(x0,"__esModule",{value:!0});var sy=Le(),fy=We(),uy=Lu(fy),cy=Ye(),ly=Lu(cy);function Lu(e){return e&&e.__esModule?e:{default:e}}var h0=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array<"u"&&(h0=new Int32Array(h0));var hy=(0,ly.default)("ccitt",function(e,t){sy.Buffer.isBuffer(e)||(e=(0,uy.default)(e));for(var r=typeof t<"u"?~~t:65535,n=0;n<e.length;n++){var o=e[n];r=(h0[(r>>8^o)&255]^r<<8)&65535}return r});x0.default=hy});var $u=D((X8,Hu)=>{"use strict";Hu.exports=ku().default});var Vu=D(p0=>{"use strict";Object.defineProperty(p0,"__esModule",{value:!0});var xy=Le(),dy=We(),py=Gu(dy),gy=Ye(),yy=Gu(gy);function Gu(e){return e&&e.__esModule?e:{default:e}}var d0=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(d0=new Int32Array(d0));var by=(0,yy.default)("crc-16-modbus",function(e,t){xy.Buffer.isBuffer(e)||(e=(0,py.default)(e));for(var r=typeof t<"u"?~~t:65535,n=0;n<e.length;n++){var o=e[n];r=(d0[(r^o)&255]^r>>8)&65535}return r});p0.default=by});var Wu=D((K8,zu)=>{"use strict";zu.exports=Vu().default});var Xu=D(g0=>{"use strict";Object.defineProperty(g0,"__esModule",{value:!0});var my=Le(),_y=We(),vy=Yu(_y),wy=Ye(),By=Yu(wy);function Yu(e){return e&&e.__esModule?e:{default:e}}var Ey=(0,By.default)("xmodem",function(e,t){my.Buffer.isBuffer(e)||(e=(0,vy.default)(e));for(var r=typeof t<"u"?~~t:0,n=0;n<e.length;n++){var o=e[n],i=r>>>8&255;i^=o&255,i^=i>>>4,r=r<<8&65535,r^=i,i=i<<5&65535,r^=i,i=i<<7&65535,r^=i}return r});g0.default=Ey});var Ku=D((Z8,Ju)=>{"use strict";Ju.exports=Xu().default});var Zu=D(b0=>{"use strict";Object.defineProperty(b0,"__esModule",{value:!0});var Ay=Le(),Sy=We(),Iy=Qu(Sy),Oy=Ye(),Dy=Qu(Oy);function Qu(e){return e&&e.__esModule?e:{default:e}}var y0=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array<"u"&&(y0=new Int32Array(y0));var Ty=(0,Dy.default)("kermit",function(e,t){Ay.Buffer.isBuffer(e)||(e=(0,Iy.default)(e));for(var r=typeof t<"u"?~~t:0,n=0;n<e.length;n++){var o=e[n];r=(y0[(r^o)&255]^r>>8)&65535}return r});b0.default=Ty});var tc=D((t_,ec)=>{"use strict";ec.exports=Zu().default});var nc=D(_0=>{"use strict";Object.defineProperty(_0,"__esModule",{value:!0});var Py=Le(),qy=We(),Cy=rc(qy),Ry=Ye(),Uy=rc(Ry);function rc(e){return e&&e.__esModule?e:{default:e}}var m0=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array<"u"&&(m0=new Int32Array(m0));var Fy=(0,Uy.default)("crc-24",function(e,t){Py.Buffer.isBuffer(e)||(e=(0,Cy.default)(e));for(var r=typeof t<"u"?~~t:11994318,n=0;n<e.length;n++){var o=e[n];r=(m0[(r>>16^o)&255]^r<<8)&16777215}return r});_0.default=Fy});var oc=D((n_,ic)=>{"use strict";ic.exports=nc().default});var sc=D(w0=>{"use strict";Object.defineProperty(w0,"__esModule",{value:!0});var Ny=Le(),My=We(),jy=ac(My),Ly=Ye(),ky=ac(Ly);function ac(e){return e&&e.__esModule?e:{default:e}}var v0=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(v0=new Int32Array(v0));var Hy=(0,ky.default)("crc-32",function(e,t){Ny.Buffer.isBuffer(e)||(e=(0,jy.default)(e));for(var r=t===0?0:~~t^-1,n=0;n<e.length;n++){var o=e[n];r=v0[(r^o)&255]^r>>>8}return r^-1});w0.default=Hy});var uc=D((o_,fc)=>{"use strict";fc.exports=sc().default});var lc=D(E0=>{"use strict";Object.defineProperty(E0,"__esModule",{value:!0});var $y=Le(),Gy=We(),Vy=cc(Gy),zy=Ye(),Wy=cc(zy);function cc(e){return e&&e.__esModule?e:{default:e}}var B0=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(B0=new Int32Array(B0));var Yy=(0,Wy.default)("jam",function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;$y.Buffer.isBuffer(e)||(e=(0,Vy.default)(e));for(var r=t===0?0:~~t,n=0;n<e.length;n++){var o=e[n];r=B0[(r^o)&255]^r>>>8}return r});E0.default=Yy});var xc=D((s_,hc)=>{"use strict";hc.exports=lc().default});var pc=D((f_,dc)=>{"use strict";dc.exports={crc1:Iu(),crc8:Pu(),crc81wire:Uu(),crc16:ju(),crc16ccitt:$u(),crc16modbus:Wu(),crc16xmodem:Ku(),crc16kermit:tc(),crc24:oc(),crc32:uc(),crcjam:xc()}});var Pt=D(oe=>{"use strict";var Xy=oe&&oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oe,"__esModule",{value:!0});oe.bufferXOR=oe.setDifference=oe.arrayContains=oe.arraysEqual=oe.hasPrefix=oe.isURType=oe.intToBytes=oe.toUint32=oe.getCRCHex=oe.getCRC=oe.split=oe.partition=oe.sha256Hash=void 0;var Jy=Xy(Bu()),gc=pc(),Ky=e=>Jy.default("sha256").update(e).digest();oe.sha256Hash=Ky;var Qy=(e,t)=>e.match(new RegExp(".{1,"+t+"}","g"))||[e];oe.partition=Qy;var Zy=(e,t)=>[e.slice(0,-t),e.slice(-t)];oe.split=Zy;var eb=e=>gc.crc32(e);oe.getCRC=eb;var tb=e=>gc.crc32(e).toString(16).padStart(8,"0");oe.getCRCHex=tb;var rb=e=>e>>>0;oe.toUint32=rb;var nb=e=>{let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),Buffer.from(t)};oe.intToBytes=nb;var ib=e=>e.split("").every((t,r)=>{let n=e.charCodeAt(r);return 97<=n&&n<=122||48<=n&&n<=57||n===45});oe.isURType=ib;var ob=(e,t)=>e.indexOf(t)===0;oe.hasPrefix=ob;var ab=(e,t)=>e.length!==t.length?!1:e.every(r=>t.includes(r));oe.arraysEqual=ab;var sb=(e,t)=>t.every(r=>e.includes(r));oe.arrayContains=sb;var fb=(e,t)=>e.filter(r=>t.indexOf(r)<0);oe.setDifference=fb;var ub=(e,t)=>{let r=Math.max(e.length,t.length),n=Buffer.allocUnsafe(r);for(let o=0;o<r;++o)n[o]=e[o]^t[o];return n};oe.bufferXOR=ub});var bc=D((yc,ri)=>{(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof ri<"u"&&ri.exports?ri.exports=t():e.CBOR=t()})(yc,function(){var e=(function(){function t(d){this.$hex=d}t.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var b="",h=0;h<this.$hex.length;h+=2)b+="%"+this.$hex.substring(h,h+2);return decodeURIComponent(b)}if(d==="latin"){for(var b=[],h=0;h<this.$hex.length;h+=2)b.push(parseInt(this.$hex.substring(h,h+2),16));return String.fromCharCode.apply(String,b)}throw new Error("Unrecognised format: "+d)}},t.fromLatinString=function(d){for(var b="",h=0;h<d.length;h++){var y=d.charCodeAt(h).toString(16);y.length===1&&(y="0"+y),b+=y}return new t(b)},t.fromUtf8String=function(d){for(var b=encodeURIComponent(d),h="",y=0;y<b.length;y++)if(b.charAt(y)==="%")h+=b.substring(y+1,y+3),y+=2;else{var _=b.charCodeAt(y).toString(16);_.length<2&&(_="0"+_),h+=_}return new t(h)};var r=[],n={},o=function(d){return function(){throw new Error(d+" not implemented")}};function i(){}i.prototype={peekByte:o("peekByte"),readByte:o("readByte"),readChunk:o("readChunk"),readFloat16:function(){var d=this.readUint16(),b=(d&32767)>>10,h=d&1023,y=d&32768;if(b===31)return h===0?y?-1/0:1/0:NaN;var _=b?Math.pow(2,b-25)*(1024+h):Math.pow(2,-24)*h;return y?-_:_},readFloat32:function(){var d=this.readUint32(),b=(d&2147483647)>>23,h=d&8388607,y=d&2147483648;if(b===255)return h===0?y?-1/0:1/0:NaN;var _=b?Math.pow(2,b-23-127)*(8388608+h):Math.pow(2,-149)*h;return y?-_:_},readFloat64:function(){var d=this.readUint32(),b=this.readUint32(),h=d>>20&2047,y=(d&1048575)*4294967296+b,_=d&2147483648;if(h===2047)return y===0?_?-1/0:1/0:NaN;var j=h?Math.pow(2,h-52-1023)*(4503599627370496+y):Math.pow(2,-1074)*y;return _?-j:j},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function f(){}f.prototype={writeByte:o("writeByte"),result:o("result"),writeFloat16:o("writeFloat16"),writeFloat32:o("writeFloat32"),writeFloat64:o("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:o("writeString"),canWriteBinary:function(d){return!1},writeBinary:o("writeChunk")};function a(d){var b=d.readByte(),h=b>>5,y=b&31;return{type:h,value:y}}function s(d,b){var h=d.value;if(h<24)return h;if(h==24)return b.readByte();if(h==25)return b.readUint16();if(h==26)return b.readUint32();if(h==27)return b.readUint64();if(h==31)return null;o("Additional info: "+h)()}function u(d,b,h){h.writeByte(d<<5|b)}function c(d,b,h){var y=d<<5;b<24?h.writeByte(y|b):b<256?(h.writeByte(y|24),h.writeByte(b)):b<65536?(h.writeByte(y|25),h.writeUint16(b)):b<4294967296?(h.writeByte(y|26),h.writeUint32(b)):(h.writeByte(y|27),h.writeUint64(b))}var l=new Error;function x(d){var b=a(d);switch(b.type){case 0:return s(b,d);case 1:return-1-s(b,d);case 2:return d.readChunk(s(b,d));case 3:var h=d.readChunk(s(b,d));return h.toString("utf-8");case 4:case 5:var y=s(b,d),J=[];if(y!==null){b.type===5&&(y*=2);for(var _=0;_<y;_++)J[_]=x(d)}else for(var j;(j=x(d))!==l;)J.push(j);if(b.type===5){for(var H={},_=0;_<J.length;_+=2)H[J[_]]=J[_+1];return H}else return J;case 6:var Y=s(b,d),te=n[Y],J=x(d);return te?te(J):J;case 7:if(b.value===25)return d.readFloat16();if(b.value===26)return d.readFloat32();if(b.value===27)return d.readFloat64();switch(s(b,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return l;default:throw new Error("Unknown fixed value: "+b.value)}default:throw new Error("Unsupported header: "+JSON.stringify(b))}throw new Error("not implemented yet")}function g(d,b){for(var h=0;h<r.length;h++){var y=r[h].fn(d);if(y!==void 0)return c(6,r[h].tag,b),g(y,b)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)c(7,20,b);else if(d===!0)c(7,21,b);else if(d===null)c(7,22,b);else if(d===void 0)c(7,23,b);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?c(1,-1-d,b):c(0,d,b):(u(7,27,b),b.writeFloat64(d));else if(typeof d=="string")b.writeString(d,function(j){c(3,j,b)});else if(b.canWriteBinary(d))b.writeBinary(d,function(j){c(2,j,b)});else if(typeof d=="object")if(C.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){c(4,d.length,b);for(var h=0;h<d.length;h++)g(d[h],b)}else{var _=Object.keys(d);c(5,_.length,b);for(var h=0;h<_.length;h++)g(_[h],b),g(d[_[h]],b)}else throw new Error("CBOR encoding not supported: "+d)}var v=[],E=[],C={config:{useToJSON:!0},addWriter:function(d,b){typeof d=="string"?E.push(function(h){if(d===h)return b(h)}):E.push(d)},addReader:function(d,b){typeof d=="string"?v.push(function(h,y){if(d===y)return b(h,y)}):v.push(d)},encode:function(d,b){for(var h=0;h<E.length;h++){var y=E[h],_=y(b);if(_)return g(d,_),_.result()}throw new Error("Unsupported output format: "+b)},decode:function(d,b){for(var h=0;h<v.length;h++){var y=v[h],_=y(d,b);if(_)return x(_)}throw new Error("Unsupported input format: "+b)},addSemanticEncode:function(d,b){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return r.push({tag:d,fn:b}),this},addSemanticDecode:function(d,b){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n[d]=b,this},Reader:i,Writer:f};function I(d){this.buffer=d,this.pos=0}I.prototype=Object.create(i.prototype),I.prototype.peekByte=function(){return this.buffer[this.pos]},I.prototype.readByte=function(){return this.buffer[this.pos++]},I.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},I.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},I.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},I.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},I.prototype.readChunk=function(d){var b=Buffer.alloc(d);return this.buffer.copy(b,0,this.pos,this.pos+=d),b};function q(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}q.prototype=Object.create(f.prototype),q.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},q.prototype.writeFloat32=function(d){var b=Buffer.alloc(4);b.writeFloatBE(d,0),this.writeBuffer(b)},q.prototype.writeFloat64=function(d){var b=Buffer.alloc(8);b.writeDoubleBE(d,0),this.writeBuffer(b)},q.prototype.writeString=function(d,b){var h=Buffer.from(d,"utf-8");b(h.length),this.writeBuffer(h)},q.prototype.canWriteBinary=function(d){return d instanceof Buffer},q.prototype.writeBinary=function(d,b){b(d.length),this.writeBuffer(d)},q.prototype.writeBuffer=function(d){if(!(d instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},q.prototype.result=function(){for(var d=Buffer.alloc(this.byteLength),b=0,h=0;h<this.completeBuffers.length;h++){var y=this.completeBuffers[h];y.copy(d,b,0,y.length),b+=y.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,b,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof Buffer=="function"&&(C.addReader(function(d,b){if(d instanceof Buffer)return new I(d);if(b==="hex"||b==="base64"){var h=Buffer.from(d,b);return new I(h)}}),C.addWriter(function(d){if(!d||d==="buffer")return new q;if(d==="hex"||d==="base64")return new q(d)}));function F(d){this.hex=d,this.pos=0}F.prototype=Object.create(i.prototype),F.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},F.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},F.prototype.readChunk=function(d){var b=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof Buffer=="function"?Buffer.from(b,"hex"):new t(b)};function M(d){this.$hex="",this.finalFormat=d||"hex"}return M.prototype=Object.create(f.prototype),M.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var b=d.toString(16);b.length==1&&(b="0"+b),this.$hex+=b},M.prototype.canWriteBinary=function(d){return d instanceof t||typeof Buffer=="function"&&d instanceof Buffer},M.prototype.writeBinary=function(d,b){if(d instanceof t)b(d.length()),this.$hex+=d.$hex;else if(typeof Buffer=="function"&&d instanceof Buffer)b(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},M.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new t(this.$hex).toString(this.finalFormat)},M.prototype.writeString=function(d,b){var h=t.fromUtf8String(d);b(h.length()),this.$hex+=h.$hex},C.addReader(function(d,b){if(d instanceof t||d.$hex)return new F(d.$hex);if(b==="hex")return new F(d)}),C.addWriter(function(d){if(d==="hex")return new M}),C})();return e.addSemanticEncode(0,function(t){if(t instanceof Date)return t.toISOString()}).addSemanticDecode(0,function(t){return new Date(t)}).addSemanticDecode(1,function(t){return new Date(t)}),e})});var A0=D(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.cborDecode=Br.cborEncode=void 0;var mc=bc(),cb=e=>mc.encode(e);Br.cborEncode=cb;var lb=e=>mc.decode(Buffer.isBuffer(e)?e:Buffer.from(e,"hex"));Br.cborDecode=lb});var O0=D(I0=>{"use strict";Object.defineProperty(I0,"__esModule",{value:!0});var hb=Tn(),xb=Pt(),_c=A0(),S0=class e{constructor(t,r="bytes"){if(this._cborPayload=t,this._type=r,!xb.isURType(this._type))throw new hb.InvalidTypeError}static fromBuffer(t){return new e(_c.cborEncode(t))}static from(t,r){return e.fromBuffer(Buffer.from(t,r))}decodeCBOR(){return _c.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(t){return this.type===t.type&&this.cbor.equals(t.cbor)}};I0.default=S0});var Bc=D((h_,wc)=>{"use strict";var db=Wr()(),pb=Tt(),D0=pb("Object.prototype.toString"),ni=function(t){return db&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:D0(t)==="[object Arguments]"},vc=function(t){return ni(t)?!0:t!==null&&typeof t=="object"&&"length"in t&&typeof t.length=="number"&&t.length>=0&&D0(t)!=="[object Array]"&&"callee"in t&&D0(t.callee)==="[object Function]"},gb=(function(){return ni(arguments)})();ni.isLegacyArguments=vc;wc.exports=gb?ni:vc});var Dc=D((x_,Oc)=>{"use strict";var Ec=Tt(),yb=Wr()(),bb=jo(),mb=tr(),q0;yb?(Ac=Ec("RegExp.prototype.exec"),T0={},ii=function(){throw T0},P0={toString:ii,valueOf:ii},typeof Symbol.toPrimitive=="symbol"&&(P0[Symbol.toPrimitive]=ii),q0=function(t){if(!t||typeof t!="object")return!1;var r=mb(t,"lastIndex"),n=r&&bb(r,"value");if(!n)return!1;try{Ac(t,P0)}catch(o){return o===T0}}):(Sc=Ec("Object.prototype.toString"),Ic="[object RegExp]",q0=function(t){return!t||typeof t!="object"&&typeof t!="function"?!1:Sc(t)===Ic});var Ac,T0,ii,P0,Sc,Ic;Oc.exports=q0});var Pc=D((d_,Tc)=>{"use strict";var _b=Tt(),vb=Dc(),wb=_b("RegExp.prototype.exec"),Bb=er();Tc.exports=function(t){if(!vb(t))throw new Bb("`regex` must be a RegExp");return function(n){return wb(t,n)!==null}}});var Cc=D((p_,qc)=>{"use strict";var Eb=function*(){}.constructor;qc.exports=()=>Eb});var Nc=D((g_,Fc)=>{"use strict";var Uc=Tt(),Ab=Pc(),Sb=Ab(/^\s*(?:function)?\*/),Ib=Wr()(),Rc=Hn(),Ob=Uc("Object.prototype.toString"),Db=Uc("Function.prototype.toString"),Tb=Cc();Fc.exports=function(t){if(typeof t!="function")return!1;if(Sb(Db(t)))return!0;if(!Ib){var r=Ob(t);return r==="[object GeneratorFunction]"}if(!Rc)return!1;var n=Tb();return n&&Rc(t)===n.prototype}});var Kc=D(Z=>{"use strict";var Pb=Bc(),qb=Nc(),ot=Zo(),Mc=e0();function Er(e){return e.call.bind(e)}var jc=typeof BigInt<"u",Lc=typeof Symbol<"u",Xe=Er(Object.prototype.toString),Cb=Er(Number.prototype.valueOf),Rb=Er(String.prototype.valueOf),Ub=Er(Boolean.prototype.valueOf);jc&&(kc=Er(BigInt.prototype.valueOf));var kc;Lc&&(Hc=Er(Symbol.prototype.valueOf));var Hc;function Zr(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}Z.isArgumentsObject=Pb;Z.isGeneratorFunction=qb;Z.isTypedArray=Mc;function Fb(e){return typeof Promise<"u"&&e instanceof Promise||e!==null&&typeof e=="object"&&typeof e.then=="function"&&typeof e.catch=="function"}Z.isPromise=Fb;function Nb(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):Mc(e)||Gc(e)}Z.isArrayBufferView=Nb;function Mb(e){return ot(e)==="Uint8Array"}Z.isUint8Array=Mb;function jb(e){return ot(e)==="Uint8ClampedArray"}Z.isUint8ClampedArray=jb;function Lb(e){return ot(e)==="Uint16Array"}Z.isUint16Array=Lb;function kb(e){return ot(e)==="Uint32Array"}Z.isUint32Array=kb;function Hb(e){return ot(e)==="Int8Array"}Z.isInt8Array=Hb;function $b(e){return ot(e)==="Int16Array"}Z.isInt16Array=$b;function Gb(e){return ot(e)==="Int32Array"}Z.isInt32Array=Gb;function Vb(e){return ot(e)==="Float32Array"}Z.isFloat32Array=Vb;function zb(e){return ot(e)==="Float64Array"}Z.isFloat64Array=zb;function Wb(e){return ot(e)==="BigInt64Array"}Z.isBigInt64Array=Wb;function Yb(e){return ot(e)==="BigUint64Array"}Z.isBigUint64Array=Yb;function oi(e){return Xe(e)==="[object Map]"}oi.working=typeof Map<"u"&&oi(new Map);function Xb(e){return typeof Map>"u"?!1:oi.working?oi(e):e instanceof Map}Z.isMap=Xb;function ai(e){return Xe(e)==="[object Set]"}ai.working=typeof Set<"u"&&ai(new Set);function Jb(e){return typeof Set>"u"?!1:ai.working?ai(e):e instanceof Set}Z.isSet=Jb;function si(e){return Xe(e)==="[object WeakMap]"}si.working=typeof WeakMap<"u"&&si(new WeakMap);function Kb(e){return typeof WeakMap>"u"?!1:si.working?si(e):e instanceof WeakMap}Z.isWeakMap=Kb;function R0(e){return Xe(e)==="[object WeakSet]"}R0.working=typeof WeakSet<"u"&&R0(new WeakSet);function Qb(e){return R0(e)}Z.isWeakSet=Qb;function fi(e){return Xe(e)==="[object ArrayBuffer]"}fi.working=typeof ArrayBuffer<"u"&&fi(new ArrayBuffer);function $c(e){return typeof ArrayBuffer>"u"?!1:fi.working?fi(e):e instanceof ArrayBuffer}Z.isArrayBuffer=$c;function ui(e){return Xe(e)==="[object DataView]"}ui.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ui(new DataView(new ArrayBuffer(1),0,1));function Gc(e){return typeof DataView>"u"?!1:ui.working?ui(e):e instanceof DataView}Z.isDataView=Gc;var C0=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Qr(e){return Xe(e)==="[object SharedArrayBuffer]"}function Vc(e){return typeof C0>"u"?!1:(typeof Qr.working>"u"&&(Qr.working=Qr(new C0)),Qr.working?Qr(e):e instanceof C0)}Z.isSharedArrayBuffer=Vc;function Zb(e){return Xe(e)==="[object AsyncFunction]"}Z.isAsyncFunction=Zb;function e2(e){return Xe(e)==="[object Map Iterator]"}Z.isMapIterator=e2;function t2(e){return Xe(e)==="[object Set Iterator]"}Z.isSetIterator=t2;function r2(e){return Xe(e)==="[object Generator]"}Z.isGeneratorObject=r2;function n2(e){return Xe(e)==="[object WebAssembly.Module]"}Z.isWebAssemblyCompiledModule=n2;function zc(e){return Zr(e,Cb)}Z.isNumberObject=zc;function Wc(e){return Zr(e,Rb)}Z.isStringObject=Wc;function Yc(e){return Zr(e,Ub)}Z.isBooleanObject=Yc;function Xc(e){return jc&&Zr(e,kc)}Z.isBigIntObject=Xc;function Jc(e){return Lc&&Zr(e,Hc)}Z.isSymbolObject=Jc;function i2(e){return zc(e)||Wc(e)||Yc(e)||Xc(e)||Jc(e)}Z.isBoxedPrimitive=i2;function o2(e){return typeof Uint8Array<"u"&&($c(e)||Vc(e))}Z.isAnyArrayBuffer=o2;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(Z,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})});var Zc=D((b_,Qc)=>{Qc.exports=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}});var Sr=D(ee=>{var el=Object.getOwnPropertyDescriptors||function(t){for(var r=Object.keys(t),n={},o=0;o<r.length;o++)n[r[o]]=Object.getOwnPropertyDescriptor(t,r[o]);return n},a2=/%[sdj%]/g;ee.format=function(e){if(!gi(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(qt(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,i=String(e).replace(a2,function(a){if(a==="%%")return"%";if(r>=o)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),f=n[r];r<o;f=n[++r])pi(f)||!Ar(f)?i+=" "+f:i+=" "+qt(f);return i};ee.deprecate=function(e,t){if(typeof process<"u"&&process.noDeprecation===!0)return e;if(typeof process>"u")return function(){return ee.deprecate(e,t).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(t);process.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}return n};var ci={},tl=/^$/;process.env.NODE_DEBUG&&(li=process.env.NODE_DEBUG,li=li.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),tl=new RegExp("^"+li+"$","i"));var li;ee.debuglog=function(e){if(e=e.toUpperCase(),!ci[e])if(tl.test(e)){var t=process.pid;ci[e]=function(){var r=ee.format.apply(ee,arguments);console.error("%s %d: %s",e,t,r)}}else ci[e]=function(){};return ci[e]};function qt(e,t){var r={seen:[],stylize:f2};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),M0(t)?r.showHidden=t:t&&ee._extend(r,t),or(r.showHidden)&&(r.showHidden=!1),or(r.depth)&&(r.depth=2),or(r.colors)&&(r.colors=!1),or(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s2),xi(r,e,r.depth)}ee.inspect=qt;qt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};qt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s2(e,t){var r=qt.styles[t];return r?"\x1B["+qt.colors[r][0]+"m"+e+"\x1B["+qt.colors[r][1]+"m":e}function f2(e,t){return e}function u2(e){var t={};return e.forEach(function(r,n){t[r]=!0}),t}function xi(e,t,r){if(e.customInspect&&t&&hi(t.inspect)&&t.inspect!==ee.inspect&&!(t.constructor&&t.constructor.prototype===t)){var n=t.inspect(r,e);return gi(n)||(n=xi(e,n,r)),n}var o=c2(e,t);if(o)return o;var i=Object.keys(t),f=u2(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),tn(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return U0(t);if(i.length===0){if(hi(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(en(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(di(t))return e.stylize(Date.prototype.toString.call(t),"date");if(tn(t))return U0(t)}var s="",u=!1,c=["{","}"];if(rl(t)&&(u=!0,c=["[","]"]),hi(t)){var l=t.name?": "+t.name:"";s=" [Function"+l+"]"}if(en(t)&&(s=" "+RegExp.prototype.toString.call(t)),di(t)&&(s=" "+Date.prototype.toUTCString.call(t)),tn(t)&&(s=" "+U0(t)),i.length===0&&(!u||t.length==0))return c[0]+s+c[1];if(r<0)return en(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return u?x=l2(e,t,r,f,i):x=i.map(function(g){return N0(e,t,r,f,g,u)}),e.seen.pop(),h2(x,s,c)}function c2(e,t){if(or(t))return e.stylize("undefined","undefined");if(gi(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(nl(t))return e.stylize(""+t,"number");if(M0(t))return e.stylize(""+t,"boolean");if(pi(t))return e.stylize("null","null")}function U0(e){return"["+Error.prototype.toString.call(e)+"]"}function l2(e,t,r,n,o){for(var i=[],f=0,a=t.length;f<a;++f)il(t,String(f))?i.push(N0(e,t,r,n,String(f),!0)):i.push("");return o.forEach(function(s){s.match(/^\d+$/)||i.push(N0(e,t,r,n,s,!0))}),i}function N0(e,t,r,n,o,i){var f,a,s;if(s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},s.get?s.set?a=e.stylize("[Getter/Setter]","special"):a=e.stylize("[Getter]","special"):s.set&&(a=e.stylize("[Setter]","special")),il(n,o)||(f="["+o+"]"),a||(e.seen.indexOf(s.value)<0?(pi(r)?a=xi(e,s.value,null):a=xi(e,s.value,r-1),a.indexOf(`
`)>-1&&(i?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=e.stylize("[Circular]","special")),or(f)){if(i&&o.match(/^\d+$/))return a;f=JSON.stringify(""+o),f.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(f=f.slice(1,-1),f=e.stylize(f,"name")):(f=f.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),f=e.stylize(f,"string"))}return f+": "+a}function h2(e,t,r){var n=0,o=e.reduce(function(i,f){return n++,f.indexOf(`
`)>=0&&n++,i+f.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(t===""?"":t+`
 `)+" "+e.join(`,
  `)+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}ee.types=Kc();function rl(e){return Array.isArray(e)}ee.isArray=rl;function M0(e){return typeof e=="boolean"}ee.isBoolean=M0;function pi(e){return e===null}ee.isNull=pi;function x2(e){return e==null}ee.isNullOrUndefined=x2;function nl(e){return typeof e=="number"}ee.isNumber=nl;function gi(e){return typeof e=="string"}ee.isString=gi;function d2(e){return typeof e=="symbol"}ee.isSymbol=d2;function or(e){return e===void 0}ee.isUndefined=or;function en(e){return Ar(e)&&j0(e)==="[object RegExp]"}ee.isRegExp=en;ee.types.isRegExp=en;function Ar(e){return typeof e=="object"&&e!==null}ee.isObject=Ar;function di(e){return Ar(e)&&j0(e)==="[object Date]"}ee.isDate=di;ee.types.isDate=di;function tn(e){return Ar(e)&&(j0(e)==="[object Error]"||e instanceof Error)}ee.isError=tn;ee.types.isNativeError=tn;function hi(e){return typeof e=="function"}ee.isFunction=hi;function p2(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}ee.isPrimitive=p2;ee.isBuffer=Zc();function j0(e){return Object.prototype.toString.call(e)}function F0(e){return e<10?"0"+e.toString(10):e.toString(10)}var g2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function y2(){var e=new Date,t=[F0(e.getHours()),F0(e.getMinutes()),F0(e.getSeconds())].join(":");return[e.getDate(),g2[e.getMonth()],t].join(" ")}ee.log=function(){console.log("%s - %s",y2(),ee.format.apply(ee,arguments))};ee.inherits=Dt();ee._extend=function(e,t){if(!t||!Ar(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};function il(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ir=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;ee.promisify=function(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');if(ir&&t[ir]){var r=t[ir];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,ir,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,o,i=new Promise(function(s,u){n=s,o=u}),f=[],a=0;a<arguments.length;a++)f.push(arguments[a]);f.push(function(s,u){s?o(s):n(u)});try{t.apply(this,f)}catch(s){o(s)}return i}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),ir&&Object.defineProperty(r,ir,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,el(t))};ee.promisify.custom=ir;function b2(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function m2(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');function t(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if(typeof o!="function")throw new TypeError("The last argument must be of type Function");var i=this,f=function(){return o.apply(i,arguments)};e.apply(this,r).then(function(a){process.nextTick(f.bind(null,null,a))},function(a){process.nextTick(b2.bind(null,a,f))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,el(e)),t}ee.callbackify=m2});var H0=D((__,fl)=>{"use strict";function Ct(e){"@babel/helpers - typeof";return Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(e)}function ol(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v2(n.key),n)}}function _2(e,t,r){return t&&ol(e.prototype,t),r&&ol(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v2(e){var t=w2(e,"string");return Ct(t)==="symbol"?t:String(t)}function w2(e,t){if(Ct(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ct(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k0(e,t)}function k0(e,t){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},k0(e,t)}function A2(e){var t=O2();return function(){var n=yi(e),o;if(t){var i=yi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return S2(this,o)}}function S2(e,t){if(t&&(Ct(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I2(e)}function I2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yi(e){return yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yi(e)}var sl={},Ir,L0;function rn(e,t,r){r||(r=Error);function n(i,f,a){return typeof t=="string"?t:t(i,f,a)}var o=(function(i){E2(a,i);var f=A2(a);function a(s,u,c){var l;return B2(this,a),l=f.call(this,n(s,u,c)),l.code=e,l}return _2(a)})(r);sl[e]=o}function al(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function D2(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function T2(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function P2(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}rn("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);rn("ERR_INVALID_ARG_TYPE",function(e,t,r){Ir===void 0&&(Ir=Or()),Ir(typeof e=="string","'name' must be a string");var n;typeof t=="string"&&D2(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var o;if(T2(e," argument"))o="The ".concat(e," ").concat(n," ").concat(al(t,"type"));else{var i=P2(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(i," ").concat(n," ").concat(al(t,"type"))}return o+=". Received type ".concat(Ct(r)),o},TypeError);rn("ERR_INVALID_ARG_VALUE",function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";L0===void 0&&(L0=Sr());var n=L0.inspect(t);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);rn("ERR_INVALID_RETURN_VALUE",function(e,t,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(Ct(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(n,".")},TypeError);rn("ERR_MISSING_ARGS",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Ir===void 0&&(Ir=Or()),Ir(t.length>0,"At least one arg needs to be specified");var n="The ",o=t.length;switch(t=t.map(function(i){return'"'.concat(i,'"')}),o){case 1:n+="".concat(t[0]," argument");break;case 2:n+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:n+=t.slice(0,o-1).join(", "),n+=", and ".concat(t[o-1]," arguments");break}return"".concat(n," must be specified")},TypeError);fl.exports.codes=sl});var bl=D((v_,yl)=>{"use strict";function ul(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ul(Object(r),!0).forEach(function(n){q2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ul(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q2(e,t,r){return t=dl(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ll(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dl(n.key),n)}}function R2(e,t,r){return t&&ll(e.prototype,t),r&&ll(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dl(e){var t=U2(e,"string");return ke(t)==="symbol"?t:String(t)}function U2(e,t){if(ke(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ke(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sn(e,t)}function N2(e){var t=gl();return function(){var n=fn(e),o;if(t){var i=fn(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return pl(this,o)}}function pl(e,t){if(t&&(ke(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $0(e)}function $0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G0(e){var t=typeof Map=="function"?new Map:void 0;return G0=function(n){if(n===null||!M2(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return bi(n,arguments,fn(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),sn(o,n)},G0(e)}function bi(e,t,r){return gl()?bi=Reflect.construct.bind():bi=function(o,i,f){var a=[null];a.push.apply(a,i);var s=Function.bind.apply(o,a),u=new s;return f&&sn(u,f.prototype),u},bi.apply(null,arguments)}function gl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M2(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function sn(e,t){return sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},sn(e,t)}function fn(e){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fn(e)}function ke(e){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(e)}var j2=Sr(),V0=j2.inspect,L2=H0(),k2=L2.codes.ERR_INVALID_ARG_TYPE;function hl(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function H2(e,t){if(t=Math.floor(t),e.length==0||t==0)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+=e.substring(0,r-e.length),e}var at="",nn="",on="",Ee="",ar={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},$2=10;function xl(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach(function(n){r[n]=e[n]}),Object.defineProperty(r,"message",{value:e.message}),r}function an(e){return V0(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function G2(e,t,r){var n="",o="",i=0,f="",a=!1,s=an(e),u=s.split(`
`),c=an(t).split(`
`),l=0,x="";if(r==="strictEqual"&&ke(e)==="object"&&ke(t)==="object"&&e!==null&&t!==null&&(r="strictEqualObject"),u.length===1&&c.length===1&&u[0]!==c[0]){var g=u[0].length+c[0].length;if(g<=$2){if((ke(e)!=="object"||e===null)&&(ke(t)!=="object"||t===null)&&(e!==0||t!==0))return"".concat(ar[r],`

`)+"".concat(u[0]," !== ").concat(c[0],`
`)}else if(r!=="strictEqualObject"){var v=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(g<v){for(;u[0][l]===c[0][l];)l++;l>2&&(x=`
  `.concat(H2(" ",l),"^"),l=0)}}}for(var E=u[u.length-1],C=c[c.length-1];E===C&&(l++<2?f=`
  `.concat(E).concat(f):n=E,u.pop(),c.pop(),!(u.length===0||c.length===0));)E=u[u.length-1],C=c[c.length-1];var I=Math.max(u.length,c.length);if(I===0){var q=s.split(`
`);if(q.length>30)for(q[26]="".concat(at,"...").concat(Ee);q.length>27;)q.pop();return"".concat(ar.notIdentical,`

`).concat(q.join(`
`),`
`)}l>3&&(f=`
`.concat(at,"...").concat(Ee).concat(f),a=!0),n!==""&&(f=`
  `.concat(n).concat(f),n="");var F=0,M=ar[r]+`
`.concat(nn,"+ actual").concat(Ee," ").concat(on,"- expected").concat(Ee),d=" ".concat(at,"...").concat(Ee," Lines skipped");for(l=0;l<I;l++){var b=l-i;if(u.length<l+1)b>1&&l>2&&(b>4?(o+=`
`.concat(at,"...").concat(Ee),a=!0):b>3&&(o+=`
  `.concat(c[l-2]),F++),o+=`
  `.concat(c[l-1]),F++),i=l,n+=`
`.concat(on,"-").concat(Ee," ").concat(c[l]),F++;else if(c.length<l+1)b>1&&l>2&&(b>4?(o+=`
`.concat(at,"...").concat(Ee),a=!0):b>3&&(o+=`
  `.concat(u[l-2]),F++),o+=`
  `.concat(u[l-1]),F++),i=l,o+=`
`.concat(nn,"+").concat(Ee," ").concat(u[l]),F++;else{var h=c[l],y=u[l],_=y!==h&&(!hl(y,",")||y.slice(0,-1)!==h);_&&hl(h,",")&&h.slice(0,-1)===y&&(_=!1,y+=","),_?(b>1&&l>2&&(b>4?(o+=`
`.concat(at,"...").concat(Ee),a=!0):b>3&&(o+=`
  `.concat(u[l-2]),F++),o+=`
  `.concat(u[l-1]),F++),i=l,o+=`
`.concat(nn,"+").concat(Ee," ").concat(y),n+=`
`.concat(on,"-").concat(Ee," ").concat(h),F+=2):(o+=n,n="",(b===1||l===0)&&(o+=`
  `.concat(y),F++))}if(F>20&&l<I-2)return"".concat(M).concat(d,`
`).concat(o,`
`).concat(at,"...").concat(Ee).concat(n,`
`)+"".concat(at,"...").concat(Ee)}return"".concat(M).concat(a?d:"",`
`).concat(o).concat(n).concat(f).concat(x)}var V2=(function(e,t){F2(n,e);var r=N2(n);function n(o){var i;if(C2(this,n),ke(o)!=="object"||o===null)throw new k2("options","Object",o);var f=o.message,a=o.operator,s=o.stackStartFn,u=o.actual,c=o.expected,l=Error.stackTraceLimit;if(Error.stackTraceLimit=0,f!=null)i=r.call(this,String(f));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(at="\x1B[34m",nn="\x1B[32m",Ee="\x1B[39m",on="\x1B[31m"):(at="",nn="",Ee="",on="")),ke(u)==="object"&&u!==null&&ke(c)==="object"&&c!==null&&"stack"in u&&u instanceof Error&&"stack"in c&&c instanceof Error&&(u=xl(u),c=xl(c)),a==="deepStrictEqual"||a==="strictEqual")i=r.call(this,G2(u,c,a));else if(a==="notDeepStrictEqual"||a==="notStrictEqual"){var x=ar[a],g=an(u).split(`
`);if(a==="notStrictEqual"&&ke(u)==="object"&&u!==null&&(x=ar.notStrictEqualObject),g.length>30)for(g[26]="".concat(at,"...").concat(Ee);g.length>27;)g.pop();g.length===1?i=r.call(this,"".concat(x," ").concat(g[0])):i=r.call(this,"".concat(x,`

`).concat(g.join(`
`),`
`))}else{var v=an(u),E="",C=ar[a];a==="notDeepEqual"||a==="notEqual"?(v="".concat(ar[a],`

`).concat(v),v.length>1024&&(v="".concat(v.slice(0,1021),"..."))):(E="".concat(an(c)),v.length>512&&(v="".concat(v.slice(0,509),"...")),E.length>512&&(E="".concat(E.slice(0,509),"...")),a==="deepEqual"||a==="equal"?v="".concat(C,`

`).concat(v,`

should equal

`):E=" ".concat(a," ").concat(E)),i=r.call(this,"".concat(v).concat(E))}return Error.stackTraceLimit=l,i.generatedMessage=!f,Object.defineProperty($0(i),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),i.code="ERR_ASSERTION",i.actual=u,i.expected=c,i.operator=a,Error.captureStackTrace&&Error.captureStackTrace($0(i),s),i.stack,i.name="AssertionError",pl(i)}return R2(n,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:t,value:function(i,f){return V0(this,cl(cl({},f),{},{customInspect:!1,depth:0}))}}]),n})(G0(Error),V0.custom);yl.exports=V2});var z0=D((w_,_l)=>{"use strict";var ml=Object.prototype.toString;_l.exports=function(t){var r=ml.call(t),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&ml.call(t.callee)==="[object Function]"),n}});var Dl=D((B_,Ol)=>{"use strict";var Il;Object.keys||(un=Object.prototype.hasOwnProperty,W0=Object.prototype.toString,vl=z0(),Y0=Object.prototype.propertyIsEnumerable,wl=!Y0.call({toString:null},"toString"),Bl=Y0.call(function(){},"prototype"),cn=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],mi=function(e){var t=e.constructor;return t&&t.prototype===e},El={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Al=(function(){if(typeof window>"u")return!1;for(var e in window)try{if(!El["$"+e]&&un.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{mi(window[e])}catch{return!0}}catch{return!0}return!1})(),Sl=function(e){if(typeof window>"u"||!Al)return mi(e);try{return mi(e)}catch{return!1}},Il=function(t){var r=t!==null&&typeof t=="object",n=W0.call(t)==="[object Function]",o=vl(t),i=r&&W0.call(t)==="[object String]",f=[];if(!r&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var a=Bl&&n;if(i&&t.length>0&&!un.call(t,0))for(var s=0;s<t.length;++s)f.push(String(s));if(o&&t.length>0)for(var u=0;u<t.length;++u)f.push(String(u));else for(var c in t)!(a&&c==="prototype")&&un.call(t,c)&&f.push(String(c));if(wl)for(var l=Sl(t),x=0;x<cn.length;++x)!(l&&cn[x]==="constructor")&&un.call(t,cn[x])&&f.push(cn[x]);return f});var un,W0,vl,Y0,wl,Bl,cn,mi,El,Al,Sl;Ol.exports=Il});var X0=D((E_,ql)=>{"use strict";var z2=Array.prototype.slice,W2=z0(),Tl=Object.keys,_i=Tl?function(t){return Tl(t)}:Dl(),Pl=Object.keys;_i.shim=function(){if(Object.keys){var t=(function(){var r=Object.keys(arguments);return r&&r.length===arguments.length})(1,2);t||(Object.keys=function(n){return W2(n)?Pl(z2.call(n)):Pl(n)})}else Object.keys=_i;return Object.keys||_i};ql.exports=_i});var Nl=D((A_,Fl)=>{"use strict";var Y2=X0(),Rl=Mn()(),Ul=Tt(),vi=Un(),X2=Ul("Array.prototype.push"),Cl=Ul("Object.prototype.propertyIsEnumerable"),J2=Rl?vi.getOwnPropertySymbols:null;Fl.exports=function(t,r){if(t==null)throw new TypeError("target must be an object");var n=vi(t);if(arguments.length===1)return n;for(var o=1;o<arguments.length;++o){var i=vi(arguments[o]),f=Y2(i),a=Rl&&(vi.getOwnPropertySymbols||J2);if(a)for(var s=a(i),u=0;u<s.length;++u){var c=s[u];Cl(i,c)&&X2(f,c)}for(var l=0;l<f.length;++l){var x=f[l];if(Cl(i,x)){var g=i[x];n[x]=g}}}return n}});var jl=D((S_,Ml)=>{"use strict";var J0=Nl(),K2=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var f in o)i+=f;return e!==i},Q2=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1};Ml.exports=function(){return!Object.assign||K2()||Q2()?J0:Object.assign}});var K0=D((I_,kl)=>{"use strict";var Ll=function(e){return e!==e};kl.exports=function(t,r){return t===0&&r===0?1/t===1/r:!!(t===r||Ll(t)&&Ll(r))}});var wi=D((O_,Hl)=>{"use strict";var Z2=K0();Hl.exports=function(){return typeof Object.is=="function"?Object.is:Z2}});var zl=D((D_,Vl)=>{"use strict";var $l=Vn(),Gl=zr(),e3=Gl($l("String.prototype.indexOf"));Vl.exports=function(t,r){var n=$l(t,!!r);return typeof n=="function"&&e3(t,".prototype.")>-1?Gl(n):n}});var ln=D((T_,Jl)=>{"use strict";var t3=X0(),r3=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n3=Object.prototype.toString,i3=Array.prototype.concat,Wl=Wo(),o3=function(e){return typeof e=="function"&&n3.call(e)==="[object Function]"},Yl=Xo()(),a3=function(e,t,r,n){if(t in e){if(n===!0){if(e[t]===r)return}else if(!o3(n)||!n())return}Yl?Wl(e,t,r,!0):Wl(e,t,r)},Xl=function(e,t){var r=arguments.length>2?arguments[2]:{},n=t3(t);r3&&(n=i3.call(n,Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;o+=1)a3(e,n[o],t[n[o]],r[n[o]])};Xl.supportsDescriptors=!!Yl;Jl.exports=Xl});var Ql=D((P_,Kl)=>{"use strict";var s3=wi(),f3=ln();Kl.exports=function(){var t=s3();return f3(Object,{is:t},{is:function(){return Object.is!==t}}),t}});var rh=D((q_,th)=>{"use strict";var u3=ln(),c3=zr(),l3=K0(),Zl=wi(),h3=Ql(),eh=c3(Zl(),Object);u3(eh,{getPolyfill:Zl,implementation:l3,shim:h3});th.exports=eh});var Q0=D((C_,nh)=>{"use strict";nh.exports=function(t){return t!==t}});var Z0=D((R_,ih)=>{"use strict";var x3=Q0();ih.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:x3}});var ah=D((U_,oh)=>{"use strict";var d3=ln(),p3=Z0();oh.exports=function(){var t=p3();return d3(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}});var ch=D((F_,uh)=>{"use strict";var g3=zr(),y3=ln(),b3=Q0(),sh=Z0(),m3=ah(),fh=g3(sh(),Number);y3(fh,{getPolyfill:sh,implementation:b3,shim:m3});uh.exports=fh});var Th=D((N_,Dh)=>{"use strict";function lh(e,t){return B3(e)||w3(e,t)||v3(e,t)||_3()}function _3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3(e,t){if(e){if(typeof e=="string")return hh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hh(e,t)}}function hh(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w3(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,i,f,a=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);s=!0);}catch(c){u=!0,o=c}finally{try{if(!s&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(u)throw o}}return a}}function B3(e){if(Array.isArray(e))return e}function Je(e){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(e)}var E3=/a/g.flags!==void 0,Di=function(t){var r=[];return t.forEach(function(n){return r.push(n)}),r},xh=function(t){var r=[];return t.forEach(function(n,o){return r.push([o,n])}),r},Eh=Object.is?Object.is:rh(),Ii=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},ea=Number.isNaN?Number.isNaN:ch();function ra(e){return e.call.bind(e)}var xn=ra(Object.prototype.hasOwnProperty),Oi=ra(Object.prototype.propertyIsEnumerable),dh=ra(Object.prototype.toString),Re=Sr().types,A3=Re.isAnyArrayBuffer,S3=Re.isArrayBufferView,ph=Re.isDate,Bi=Re.isMap,gh=Re.isRegExp,Ei=Re.isSet,I3=Re.isNativeError,O3=Re.isBoxedPrimitive,yh=Re.isNumberObject,bh=Re.isStringObject,mh=Re.isBooleanObject,_h=Re.isBigIntObject,D3=Re.isSymbolObject,T3=Re.isFloat32Array,P3=Re.isFloat64Array;function q3(e){if(e.length===0||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return e.length===10&&e>=Math.pow(2,32)}function Ai(e){return Object.keys(e).filter(q3).concat(Ii(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function Ah(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}var Si=void 0,C3=!0,R3=!1,ta=0,na=1,Sh=2,Ih=3;function U3(e,t){return E3?e.source===t.source&&e.flags===t.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(t)}function F3(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}function N3(e,t){return e.byteLength!==t.byteLength?!1:Ah(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))===0}function M3(e,t){return e.byteLength===t.byteLength&&Ah(new Uint8Array(e),new Uint8Array(t))===0}function j3(e,t){return yh(e)?yh(t)&&Eh(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):bh(e)?bh(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):mh(e)?mh(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):_h(e)?_h(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):D3(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}function Ke(e,t,r,n){if(e===t)return e!==0?!0:r?Eh(e,t):!0;if(r){if(Je(e)!=="object")return typeof e=="number"&&ea(e)&&ea(t);if(Je(t)!=="object"||e===null||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(e===null||Je(e)!=="object")return t===null||Je(t)!=="object"?e==t:!1;if(t===null||Je(t)!=="object")return!1}var o=dh(e),i=dh(t);if(o!==i)return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var f=Ai(e,Si),a=Ai(t,Si);return f.length!==a.length?!1:hn(e,t,r,n,na,f)}if(o==="[object Object]"&&(!Bi(e)&&Bi(t)||!Ei(e)&&Ei(t)))return!1;if(ph(e)){if(!ph(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(gh(e)){if(!gh(t)||!U3(e,t))return!1}else if(I3(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else if(S3(e)){if(!r&&(T3(e)||P3(e))){if(!F3(e,t))return!1}else if(!N3(e,t))return!1;var s=Ai(e,Si),u=Ai(t,Si);return s.length!==u.length?!1:hn(e,t,r,n,ta,s)}else{if(Ei(e))return!Ei(t)||e.size!==t.size?!1:hn(e,t,r,n,Sh);if(Bi(e))return!Bi(t)||e.size!==t.size?!1:hn(e,t,r,n,Ih);if(A3(e)){if(!M3(e,t))return!1}else if(O3(e)&&!j3(e,t))return!1}return hn(e,t,r,n,ta)}function vh(e,t){return t.filter(function(r){return Oi(e,r)})}function hn(e,t,r,n,o,i){if(arguments.length===5){i=Object.keys(e);var f=Object.keys(t);if(i.length!==f.length)return!1}for(var a=0;a<i.length;a++)if(!xn(t,i[a]))return!1;if(r&&arguments.length===5){var s=Ii(e);if(s.length!==0){var u=0;for(a=0;a<s.length;a++){var c=s[a];if(Oi(e,c)){if(!Oi(t,c))return!1;i.push(c),u++}else if(Oi(t,c))return!1}var l=Ii(t);if(s.length!==l.length&&vh(t,l).length!==u)return!1}else{var x=Ii(t);if(x.length!==0&&vh(t,x).length!==0)return!1}}if(i.length===0&&(o===ta||o===na&&e.length===0||e.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var g=n.val1.get(e);if(g!==void 0){var v=n.val2.get(t);if(v!==void 0)return g===v}n.position++}n.val1.set(e,n.position),n.val2.set(t,n.position);var E=G3(e,t,r,i,n,o);return n.val1.delete(e),n.val2.delete(t),E}function wh(e,t,r,n){for(var o=Di(e),i=0;i<o.length;i++){var f=o[i];if(Ke(t,f,r,n))return e.delete(f),!0}return!1}function Oh(e){switch(Je(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(ea(e))return!1}return!0}function L3(e,t,r){var n=Oh(r);return n??(t.has(n)&&!e.has(n))}function k3(e,t,r,n,o){var i=Oh(r);if(i!=null)return i;var f=t.get(i);return f===void 0&&!t.has(i)||!Ke(n,f,!1,o)?!1:!e.has(i)&&Ke(n,f,!1,o)}function H3(e,t,r,n){for(var o=null,i=Di(e),f=0;f<i.length;f++){var a=i[f];if(Je(a)==="object"&&a!==null)o===null&&(o=new Set),o.add(a);else if(!t.has(a)){if(r||!L3(e,t,a))return!1;o===null&&(o=new Set),o.add(a)}}if(o!==null){for(var s=Di(t),u=0;u<s.length;u++){var c=s[u];if(Je(c)==="object"&&c!==null){if(!wh(o,c,r,n))return!1}else if(!r&&!e.has(c)&&!wh(o,c,r,n))return!1}return o.size===0}return!0}function Bh(e,t,r,n,o,i){for(var f=Di(e),a=0;a<f.length;a++){var s=f[a];if(Ke(r,s,o,i)&&Ke(n,t.get(s),o,i))return e.delete(s),!0}return!1}function $3(e,t,r,n){for(var o=null,i=xh(e),f=0;f<i.length;f++){var a=lh(i[f],2),s=a[0],u=a[1];if(Je(s)==="object"&&s!==null)o===null&&(o=new Set),o.add(s);else{var c=t.get(s);if(c===void 0&&!t.has(s)||!Ke(u,c,r,n)){if(r||!k3(e,t,s,u,n))return!1;o===null&&(o=new Set),o.add(s)}}}if(o!==null){for(var l=xh(t),x=0;x<l.length;x++){var g=lh(l[x],2),v=g[0],E=g[1];if(Je(v)==="object"&&v!==null){if(!Bh(o,e,v,E,r,n))return!1}else if(!r&&(!e.has(v)||!Ke(e.get(v),E,!1,n))&&!Bh(o,e,v,E,!1,n))return!1}return o.size===0}return!0}function G3(e,t,r,n,o,i){var f=0;if(i===Sh){if(!H3(e,t,r,o))return!1}else if(i===Ih){if(!$3(e,t,r,o))return!1}else if(i===na)for(;f<e.length;f++)if(xn(e,f)){if(!xn(t,f)||!Ke(e[f],t[f],r,o))return!1}else{if(xn(t,f))return!1;for(var a=Object.keys(e);f<a.length;f++){var s=a[f];if(!xn(t,s)||!Ke(e[s],t[s],r,o))return!1}return a.length===Object.keys(t).length}for(f=0;f<n.length;f++){var u=n[f];if(!Ke(e[u],t[u],r,o))return!1}return!0}function V3(e,t){return Ke(e,t,R3)}function z3(e,t){return Ke(e,t,C3)}Dh.exports={isDeepEqual:V3,isDeepStrictEqual:z3}});var Or=D((M_,Yh)=>{"use strict";function st(e){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(e)}function Ph(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y3(n.key),n)}}function W3(e,t,r){return t&&Ph(e.prototype,t),r&&Ph(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y3(e){var t=X3(e,"string");return st(t)==="symbol"?t:String(t)}function X3(e,t){if(st(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(st(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var K3=H0(),dn=K3.codes,qh=dn.ERR_AMBIGUOUS_ARGUMENT,Dr=dn.ERR_INVALID_ARG_TYPE,Q3=dn.ERR_INVALID_ARG_VALUE,Z3=dn.ERR_INVALID_RETURN_VALUE,Ut=dn.ERR_MISSING_ARGS,Ft=bl(),e6=Sr(),Ti=e6.inspect,Fh=Sr().types,t6=Fh.isPromise,Pi=Fh.isRegExp,r6=jl()(),Nh=wi()(),qi=zl()("RegExp.prototype.test"),Rt,Ci;function pn(){var e=Th();Rt=e.isDeepEqual,Ci=e.isDeepStrictEqual}var Ch=!1,ue=Yh.exports=ia,Ri={};function ft(e){throw e.message instanceof Error?e.message:new Ft(e)}function Mh(e,t,r,n,o){var i=arguments.length,f;if(i===0)f="Failed";else if(i===1)r=e,e=void 0;else{if(Ch===!1){Ch=!0;var a=process.emitWarning?process.emitWarning:console.warn.bind(console);a("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}i===2&&(n="!=")}if(r instanceof Error)throw r;var s={actual:e,expected:t,operator:n===void 0?"fail":n,stackStartFn:o||Mh};r!==void 0&&(s.message=r);var u=new Ft(s);throw f&&(u.message=f,u.generatedMessage=!0),u}ue.fail=Mh;ue.AssertionError=Ft;function jh(e,t,r,n){if(!r){var o=!1;if(t===0)o=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var i=new Ft({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw i.generatedMessage=o,i}}function ia(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];jh.apply(void 0,[ia,t.length].concat(t))}ue.ok=ia;ue.equal=function e(t,r,n){if(arguments.length<2)throw new Ut("actual","expected");t!=r&&ft({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})};ue.notEqual=function e(t,r,n){if(arguments.length<2)throw new Ut("actual","expected");t==r&&ft({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})};ue.deepEqual=function e(t,r,n){if(arguments.length<2)throw new Ut("actual","expected");Rt===void 0&&pn(),Rt(t,r)||ft({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})};ue.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new Ut("actual","expected");Rt===void 0&&pn(),Rt(t,r)&&ft({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})};ue.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new Ut("actual","expected");Rt===void 0&&pn(),Ci(t,r)||ft({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})};ue.notDeepStrictEqual=Lh;function Lh(e,t,r){if(arguments.length<2)throw new Ut("actual","expected");Rt===void 0&&pn(),Ci(e,t)&&ft({actual:e,expected:t,message:r,operator:"notDeepStrictEqual",stackStartFn:Lh})}ue.strictEqual=function e(t,r,n){if(arguments.length<2)throw new Ut("actual","expected");Nh(t,r)||ft({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})};ue.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new Ut("actual","expected");Nh(t,r)&&ft({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var Rh=W3(function e(t,r,n){var o=this;J3(this,e),r.forEach(function(i){i in t&&(n!==void 0&&typeof n[i]=="string"&&Pi(t[i])&&qi(t[i],n[i])?o[i]=n[i]:o[i]=t[i])})});function n6(e,t,r,n,o,i){if(!(r in e)||!Ci(e[r],t[r])){if(!n){var f=new Rh(e,o),a=new Rh(t,o,e),s=new Ft({actual:f,expected:a,operator:"deepStrictEqual",stackStartFn:i});throw s.actual=e,s.expected=t,s.operator=i.name,s}ft({actual:e,expected:t,message:n,operator:i.name,stackStartFn:i})}}function kh(e,t,r,n){if(typeof t!="function"){if(Pi(t))return qi(t,e);if(arguments.length===2)throw new Dr("expected",["Function","RegExp"],t);if(st(e)!=="object"||e===null){var o=new Ft({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n});throw o.operator=n.name,o}var i=Object.keys(t);if(t instanceof Error)i.push("name","message");else if(i.length===0)throw new Q3("error",t,"may not be an empty object");return Rt===void 0&&pn(),i.forEach(function(f){typeof e[f]=="string"&&Pi(t[f])&&qi(t[f],e[f])||n6(e,t,f,r,i,n)}),!0}return t.prototype!==void 0&&e instanceof t?!0:Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function Hh(e){if(typeof e!="function")throw new Dr("fn","Function",e);try{e()}catch(t){return t}return Ri}function Uh(e){return t6(e)||e!==null&&st(e)==="object"&&typeof e.then=="function"&&typeof e.catch=="function"}function $h(e){return Promise.resolve().then(function(){var t;if(typeof e=="function"){if(t=e(),!Uh(t))throw new Z3("instance of Promise","promiseFn",t)}else if(Uh(e))t=e;else throw new Dr("promiseFn",["Function","Promise"],e);return Promise.resolve().then(function(){return t}).then(function(){return Ri}).catch(function(r){return r})})}function Gh(e,t,r,n){if(typeof r=="string"){if(arguments.length===4)throw new Dr("error",["Object","Error","Function","RegExp"],r);if(st(t)==="object"&&t!==null){if(t.message===r)throw new qh("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new qh("error/message",'The error "'.concat(t,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&st(r)!=="object"&&typeof r!="function")throw new Dr("error",["Object","Error","Function","RegExp"],r);if(t===Ri){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=n?": ".concat(n):".";var i=e.name==="rejects"?"rejection":"exception";ft({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(i).concat(o),stackStartFn:e})}if(r&&!kh(t,r,n,e))throw t}function Vh(e,t,r,n){if(t!==Ri){if(typeof r=="string"&&(n=r,r=void 0),!r||kh(t,r)){var o=n?": ".concat(n):".",i=e.name==="doesNotReject"?"rejection":"exception";ft({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(i).concat(o,`
`)+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}ue.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];Gh.apply(void 0,[e,Hh(t)].concat(n))};ue.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return $h(t).then(function(i){return Gh.apply(void 0,[e,i].concat(n))})};ue.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];Vh.apply(void 0,[e,Hh(t)].concat(n))};ue.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return $h(t).then(function(i){return Vh.apply(void 0,[e,i].concat(n))})};ue.ifError=function e(t){if(t!=null){var r="ifError got unwanted exception: ";st(t)==="object"&&typeof t.message=="string"?t.message.length===0&&t.constructor?r+=t.constructor.name:r+=t.message:r+=Ti(t);var n=new Ft({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),o=t.stack;if(typeof o=="string"){var i=o.split(`
`);i.shift();for(var f=n.stack.split(`
`),a=0;a<i.length;a++){var s=f.indexOf(i[a]);if(s!==-1){f=f.slice(0,s);break}}n.stack="".concat(f.join(`
`),`
`).concat(i.join(`
`))}throw n}};function zh(e,t,r,n,o){if(!Pi(t))throw new Dr("regexp","RegExp",t);var i=o==="match";if(typeof e!="string"||qi(t,e)!==i){if(r instanceof Error)throw r;var f=!r;r=r||(typeof e!="string"?'The "string" argument must be of type string. Received type '+"".concat(st(e)," (").concat(Ti(e),")"):(i?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(Ti(t),`. Input:

`).concat(Ti(e),`
`));var a=new Ft({actual:e,expected:t,message:r,operator:o,stackStartFn:n});throw a.generatedMessage=f,a}}ue.match=function e(t,r,n){zh(t,r,n,e,"match")};ue.doesNotMatch=function e(t,r,n){zh(t,r,n,e,"doesNotMatch")};function Wh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];jh.apply(void 0,[Wh,t.length].concat(t))}ue.strict=r6(Wh,ue,{equal:ue.strictEqual,deepEqual:ue.deepStrictEqual,notEqual:ue.notStrictEqual,notDeepEqual:ue.notDeepStrictEqual});ue.strict.strict=ue.strict});var Jh=D((Xh,Ui)=>{(function(e){"use strict";var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,o=Math.floor,i="[BigNumber Error] ",f=i+"Number primitive has more than 15 significant digits: ",a=1e14,s=14,u=9007199254740991,c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],l=1e7,x=1e9;function g(d){var b,h,y,_=k.prototype={constructor:k,toString:null,valueOf:null},j=new k(1),H=20,Y=4,te=-7,J=21,le=-1e7,He=1e7,mt=!1,Jt=1,nt=0,Nr={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},_t="0123456789abcdefghijklmnopqrstuvwxyz",Mr=!0;function k(p,m){var w,P,A,O,U,B,S,R,T=this;if(!(T instanceof k))return new k(p,m);if(m==null){if(p&&p._isBigNumber===!0){T.s=p.s,!p.c||p.e>He?T.c=T.e=null:p.e<le?T.c=[T.e=0]:(T.e=p.e,T.c=p.c.slice());return}if((B=typeof p=="number")&&p*0==0){if(T.s=1/p<0?(p=-p,-1):1,p===~~p){for(O=0,U=p;U>=10;U/=10,O++);O>He?T.c=T.e=null:(T.e=O,T.c=[p]);return}R=String(p)}else{if(!r.test(R=String(p)))return y(T,R,B);T.s=R.charCodeAt(0)==45?(R=R.slice(1),-1):1}(O=R.indexOf("."))>-1&&(R=R.replace(".","")),(U=R.search(/e/i))>0?(O<0&&(O=U),O+=+R.slice(U+1),R=R.substring(0,U)):O<0&&(O=R.length)}else{if(I(m,2,_t.length,"Base"),m==10&&Mr)return T=new k(p),de(T,H+T.e+1,Y);if(R=String(p),B=typeof p=="number"){if(p*0!=0)return y(T,R,B,m);if(T.s=1/p<0?(R=R.slice(1),-1):1,k.DEBUG&&R.replace(/^0\.0*|\./,"").length>15)throw Error(f+p)}else T.s=R.charCodeAt(0)===45?(R=R.slice(1),-1):1;for(w=_t.slice(0,m),O=U=0,S=R.length;U<S;U++)if(w.indexOf(P=R.charAt(U))<0){if(P=="."){if(U>O){O=S;continue}}else if(!A&&(R==R.toUpperCase()&&(R=R.toLowerCase())||R==R.toLowerCase()&&(R=R.toUpperCase()))){A=!0,U=-1,O=0;continue}return y(T,String(p),B,m)}B=!1,R=h(R,m,10,T.s),(O=R.indexOf("."))>-1?R=R.replace(".",""):O=R.length}for(U=0;R.charCodeAt(U)===48;U++);for(S=R.length;R.charCodeAt(--S)===48;);if(R=R.slice(U,++S)){if(S-=U,B&&k.DEBUG&&S>15&&(p>u||p!==o(p)))throw Error(f+T.s*p);if((O=O-U-1)>He)T.c=T.e=null;else if(O<le)T.c=[T.e=0];else{if(T.e=O,T.c=[],U=(O+1)%s,O<0&&(U+=s),U<S){for(U&&T.c.push(+R.slice(0,U)),S-=s;U<S;)T.c.push(+R.slice(U,U+=s));U=s-(R=R.slice(U)).length}else U-=S;for(;U--;R+="0");T.c.push(+R)}}else T.c=[T.e=0]}k.clone=g,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(p){var m,w;if(p!=null)if(typeof p=="object"){if(p.hasOwnProperty(m="DECIMAL_PLACES")&&(w=p[m],I(w,0,x,m),H=w),p.hasOwnProperty(m="ROUNDING_MODE")&&(w=p[m],I(w,0,8,m),Y=w),p.hasOwnProperty(m="EXPONENTIAL_AT")&&(w=p[m],w&&w.pop?(I(w[0],-x,0,m),I(w[1],0,x,m),te=w[0],J=w[1]):(I(w,-x,x,m),te=-(J=w<0?-w:w))),p.hasOwnProperty(m="RANGE"))if(w=p[m],w&&w.pop)I(w[0],-x,-1,m),I(w[1],1,x,m),le=w[0],He=w[1];else if(I(w,-x,x,m),w)le=-(He=w<0?-w:w);else throw Error(i+m+" cannot be zero: "+w);if(p.hasOwnProperty(m="CRYPTO"))if(w=p[m],w===!!w)if(w)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))mt=w;else throw mt=!w,Error(i+"crypto unavailable");else mt=w;else throw Error(i+m+" not true or false: "+w);if(p.hasOwnProperty(m="MODULO_MODE")&&(w=p[m],I(w,0,9,m),Jt=w),p.hasOwnProperty(m="POW_PRECISION")&&(w=p[m],I(w,0,x,m),nt=w),p.hasOwnProperty(m="FORMAT"))if(w=p[m],typeof w=="object")Nr=w;else throw Error(i+m+" not an object: "+w);if(p.hasOwnProperty(m="ALPHABET"))if(w=p[m],typeof w=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(w))Mr=w.slice(0,10)=="0123456789",_t=w;else throw Error(i+m+" invalid: "+w)}else throw Error(i+"Object expected: "+p);return{DECIMAL_PLACES:H,ROUNDING_MODE:Y,EXPONENTIAL_AT:[te,J],RANGE:[le,He],CRYPTO:mt,MODULO_MODE:Jt,POW_PRECISION:nt,FORMAT:Nr,ALPHABET:_t}},k.isBigNumber=function(p){if(!p||p._isBigNumber!==!0)return!1;if(!k.DEBUG)return!0;var m,w,P=p.c,A=p.e,O=p.s;e:if({}.toString.call(P)=="[object Array]"){if((O===1||O===-1)&&A>=-x&&A<=x&&A===o(A)){if(P[0]===0){if(A===0&&P.length===1)return!0;break e}if(m=(A+1)%s,m<1&&(m+=s),String(P[0]).length==m){for(m=0;m<P.length;m++)if(w=P[m],w<0||w>=a||w!==o(w))break e;if(w!==0)return!0}}}else if(P===null&&A===null&&(O===null||O===1||O===-1))return!0;throw Error(i+"Invalid BigNumber: "+p)},k.maximum=k.max=function(){return Lr(arguments,-1)},k.minimum=k.min=function(){return Lr(arguments,1)},k.random=(function(){var p=9007199254740992,m=Math.random()*p&2097151?function(){return o(Math.random()*p)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(w){var P,A,O,U,B,S=0,R=[],T=new k(j);if(w==null?w=H:I(w,0,x),U=n(w/s),mt)if(crypto.getRandomValues){for(P=crypto.getRandomValues(new Uint32Array(U*=2));S<U;)B=P[S]*131072+(P[S+1]>>>11),B>=9e15?(A=crypto.getRandomValues(new Uint32Array(2)),P[S]=A[0],P[S+1]=A[1]):(R.push(B%1e14),S+=2);S=U/2}else if(crypto.randomBytes){for(P=crypto.randomBytes(U*=7);S<U;)B=(P[S]&31)*281474976710656+P[S+1]*1099511627776+P[S+2]*4294967296+P[S+3]*16777216+(P[S+4]<<16)+(P[S+5]<<8)+P[S+6],B>=9e15?crypto.randomBytes(7).copy(P,S):(R.push(B%1e14),S+=7);S=U/7}else throw mt=!1,Error(i+"crypto unavailable");if(!mt)for(;S<U;)B=m(),B<9e15&&(R[S++]=B%1e14);for(U=R[--S],w%=s,U&&w&&(B=c[s-w],R[S]=o(U/B)*B);R[S]===0;R.pop(),S--);if(S<0)R=[O=0];else{for(O=-1;R[0]===0;R.splice(0,1),O-=s);for(S=1,B=R[0];B>=10;B/=10,S++);S<s&&(O-=s-S)}return T.e=O,T.c=R,T}})(),k.sum=function(){for(var p=1,m=arguments,w=new k(m[0]);p<m.length;)w=w.plus(m[p++]);return w},h=(function(){var p="0123456789";function m(w,P,A,O){for(var U,B=[0],S,R=0,T=w.length;R<T;){for(S=B.length;S--;B[S]*=P);for(B[0]+=O.indexOf(w.charAt(R++)),U=0;U<B.length;U++)B[U]>A-1&&(B[U+1]==null&&(B[U+1]=0),B[U+1]+=B[U]/A|0,B[U]%=A)}return B.reverse()}return function(w,P,A,O,U){var B,S,R,T,L,$,G,ie,he=w.indexOf("."),be=H,ne=Y;for(he>=0&&(T=nt,nt=0,w=w.replace(".",""),ie=new k(P),$=ie.pow(w.length-he),nt=T,ie.c=m(M(E($.c),$.e,"0"),10,A,p),ie.e=ie.c.length),G=m(w,P,A,U?(B=_t,p):(B=p,_t)),R=T=G.length;G[--T]==0;G.pop());if(!G[0])return B.charAt(0);if(he<0?--R:($.c=G,$.e=R,$.s=O,$=b($,ie,be,ne,A),G=$.c,L=$.r,R=$.e),S=R+be+1,he=G[S],T=A/2,L=L||S<0||G[S+1]!=null,L=ne<4?(he!=null||L)&&(ne==0||ne==($.s<0?3:2)):he>T||he==T&&(ne==4||L||ne==6&&G[S-1]&1||ne==($.s<0?8:7)),S<1||!G[0])w=L?M(B.charAt(1),-be,B.charAt(0)):B.charAt(0);else{if(G.length=S,L)for(--A;++G[--S]>A;)G[S]=0,S||(++R,G=[1].concat(G));for(T=G.length;!G[--T];);for(he=0,w="";he<=T;w+=B.charAt(G[he++]));w=M(w,R,B.charAt(0))}return w}})(),b=(function(){function p(P,A,O){var U,B,S,R,T=0,L=P.length,$=A%l,G=A/l|0;for(P=P.slice();L--;)S=P[L]%l,R=P[L]/l|0,U=G*S+R*$,B=$*S+U%l*l+T,T=(B/O|0)+(U/l|0)+G*R,P[L]=B%O;return T&&(P=[T].concat(P)),P}function m(P,A,O,U){var B,S;if(O!=U)S=O>U?1:-1;else for(B=S=0;B<O;B++)if(P[B]!=A[B]){S=P[B]>A[B]?1:-1;break}return S}function w(P,A,O,U){for(var B=0;O--;)P[O]-=B,B=P[O]<A[O]?1:0,P[O]=B*U+P[O]-A[O];for(;!P[0]&&P.length>1;P.splice(0,1));}return function(P,A,O,U,B){var S,R,T,L,$,G,ie,he,be,ne,se,Se,Dn,go,yo,ht,kr,Ge=P.s==A.s?1:-1,Ce=P.c,xe=A.c;if(!Ce||!Ce[0]||!xe||!xe[0])return new k(!P.s||!A.s||(Ce?xe&&Ce[0]==xe[0]:!xe)?NaN:Ce&&Ce[0]==0||!xe?Ge*0:Ge/0);for(he=new k(Ge),be=he.c=[],R=P.e-A.e,Ge=O+R+1,B||(B=a,R=v(P.e/s)-v(A.e/s),Ge=Ge/s|0),T=0;xe[T]==(Ce[T]||0);T++);if(xe[T]>(Ce[T]||0)&&R--,Ge<0)be.push(1),L=!0;else{for(go=Ce.length,ht=xe.length,T=0,Ge+=2,$=o(B/(xe[0]+1)),$>1&&(xe=p(xe,$,B),Ce=p(Ce,$,B),ht=xe.length,go=Ce.length),Dn=ht,ne=Ce.slice(0,ht),se=ne.length;se<ht;ne[se++]=0);kr=xe.slice(),kr=[0].concat(kr),yo=xe[0],xe[1]>=B/2&&yo++;do{if($=0,S=m(xe,ne,ht,se),S<0){if(Se=ne[0],ht!=se&&(Se=Se*B+(ne[1]||0)),$=o(Se/yo),$>1)for($>=B&&($=B-1),G=p(xe,$,B),ie=G.length,se=ne.length;m(G,ne,ie,se)==1;)$--,w(G,ht<ie?kr:xe,ie,B),ie=G.length,S=1;else $==0&&(S=$=1),G=xe.slice(),ie=G.length;if(ie<se&&(G=[0].concat(G)),w(ne,G,se,B),se=ne.length,S==-1)for(;m(xe,ne,ht,se)<1;)$++,w(ne,ht<se?kr:xe,se,B),se=ne.length}else S===0&&($++,ne=[0]);be[T++]=$,ne[0]?ne[se++]=Ce[Dn]||0:(ne=[Ce[Dn]],se=1)}while((Dn++<go||ne[0]!=null)&&Ge--);L=ne[0]!=null,be[0]||be.splice(0,1)}if(B==a){for(T=1,Ge=be[0];Ge>=10;Ge/=10,T++);de(he,O+(he.e=T+R*s-1)+1,U,L)}else he.e=R,he.r=+L;return he}})();function jr(p,m,w,P){var A,O,U,B,S;if(w==null?w=Y:I(w,0,8),!p.c)return p.toString();if(A=p.c[0],U=p.e,m==null)S=E(p.c),S=P==1||P==2&&(U<=te||U>=J)?F(S,U):M(S,U,"0");else if(p=de(new k(p),m,w),O=p.e,S=E(p.c),B=S.length,P==1||P==2&&(m<=O||O<=te)){for(;B<m;S+="0",B++);S=F(S,O)}else if(m-=U+(P===2&&O>U),S=M(S,O,"0"),O+1>B){if(--m>0)for(S+=".";m--;S+="0");}else if(m+=O-B,m>0)for(O+1==B&&(S+=".");m--;S+="0");return p.s<0&&A?"-"+S:S}function Lr(p,m){for(var w,P,A=1,O=new k(p[0]);A<p.length;A++)P=new k(p[A]),(!P.s||(w=C(O,P))===m||w===0&&O.s===m)&&(O=P);return O}function Be(p,m,w){for(var P=1,A=m.length;!m[--A];m.pop());for(A=m[0];A>=10;A/=10,P++);return(w=P+w*s-1)>He?p.c=p.e=null:w<le?p.c=[p.e=0]:(p.e=w,p.c=m),p}y=(function(){var p=/^(-?)0([xbo])(?=\w[\w.]*$)/i,m=/^([^.]+)\.$/,w=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(O,U,B,S){var R,T=B?U:U.replace(A,"");if(P.test(T))O.s=isNaN(T)?null:T<0?-1:1;else{if(!B&&(T=T.replace(p,function(L,$,G){return R=(G=G.toLowerCase())=="x"?16:G=="b"?2:8,!S||S==R?$:L}),S&&(R=S,T=T.replace(m,"$1").replace(w,"0.$1")),U!=T))return new k(T,R);if(k.DEBUG)throw Error(i+"Not a"+(S?" base "+S:"")+" number: "+U);O.s=null}O.c=O.e=null}})();function de(p,m,w,P){var A,O,U,B,S,R,T,L=p.c,$=c;if(L){e:{for(A=1,B=L[0];B>=10;B/=10,A++);if(O=m-A,O<0)O+=s,U=m,S=L[R=0],T=o(S/$[A-U-1]%10);else if(R=n((O+1)/s),R>=L.length)if(P){for(;L.length<=R;L.push(0));S=T=0,A=1,O%=s,U=O-s+1}else break e;else{for(S=B=L[R],A=1;B>=10;B/=10,A++);O%=s,U=O-s+A,T=U<0?0:o(S/$[A-U-1]%10)}if(P=P||m<0||L[R+1]!=null||(U<0?S:S%$[A-U-1]),P=w<4?(T||P)&&(w==0||w==(p.s<0?3:2)):T>5||T==5&&(w==4||P||w==6&&(O>0?U>0?S/$[A-U]:0:L[R-1])%10&1||w==(p.s<0?8:7)),m<1||!L[0])return L.length=0,P?(m-=p.e+1,L[0]=$[(s-m%s)%s],p.e=-m||0):L[0]=p.e=0,p;if(O==0?(L.length=R,B=1,R--):(L.length=R+1,B=$[s-O],L[R]=U>0?o(S/$[A-U]%$[U])*B:0),P)for(;;)if(R==0){for(O=1,U=L[0];U>=10;U/=10,O++);for(U=L[0]+=B,B=1;U>=10;U/=10,B++);O!=B&&(p.e++,L[0]==a&&(L[0]=1));break}else{if(L[R]+=B,L[R]!=a)break;L[R--]=0,B=1}for(O=L.length;L[--O]===0;L.pop());}p.e>He?p.c=p.e=null:p.e<le&&(p.c=[p.e=0])}return p}function $e(p){var m,w=p.e;return w===null?p.toString():(m=E(p.c),m=w<=te||w>=J?F(m,w):M(m,w,"0"),p.s<0?"-"+m:m)}return _.absoluteValue=_.abs=function(){var p=new k(this);return p.s<0&&(p.s=1),p},_.comparedTo=function(p,m){return C(this,new k(p,m))},_.decimalPlaces=_.dp=function(p,m){var w,P,A,O=this;if(p!=null)return I(p,0,x),m==null?m=Y:I(m,0,8),de(new k(O),p+O.e+1,m);if(!(w=O.c))return null;if(P=((A=w.length-1)-v(this.e/s))*s,A=w[A])for(;A%10==0;A/=10,P--);return P<0&&(P=0),P},_.dividedBy=_.div=function(p,m){return b(this,new k(p,m),H,Y)},_.dividedToIntegerBy=_.idiv=function(p,m){return b(this,new k(p,m),0,1)},_.exponentiatedBy=_.pow=function(p,m){var w,P,A,O,U,B,S,R,T,L=this;if(p=new k(p),p.c&&!p.isInteger())throw Error(i+"Exponent not an integer: "+$e(p));if(m!=null&&(m=new k(m)),B=p.e>14,!L.c||!L.c[0]||L.c[0]==1&&!L.e&&L.c.length==1||!p.c||!p.c[0])return T=new k(Math.pow(+$e(L),B?p.s*(2-q(p)):+$e(p))),m?T.mod(m):T;if(S=p.s<0,m){if(m.c?!m.c[0]:!m.s)return new k(NaN);P=!S&&L.isInteger()&&m.isInteger(),P&&(L=L.mod(m))}else{if(p.e>9&&(L.e>0||L.e<-1||(L.e==0?L.c[0]>1||B&&L.c[1]>=24e7:L.c[0]<8e13||B&&L.c[0]<=9999975e7)))return O=L.s<0&&q(p)?-0:0,L.e>-1&&(O=1/O),new k(S?1/O:O);nt&&(O=n(nt/s+2))}for(B?(w=new k(.5),S&&(p.s=1),R=q(p)):(A=Math.abs(+$e(p)),R=A%2),T=new k(j);;){if(R){if(T=T.times(L),!T.c)break;O?T.c.length>O&&(T.c.length=O):P&&(T=T.mod(m))}if(A){if(A=o(A/2),A===0)break;R=A%2}else if(p=p.times(w),de(p,p.e+1,1),p.e>14)R=q(p);else{if(A=+$e(p),A===0)break;R=A%2}L=L.times(L),O?L.c&&L.c.length>O&&(L.c.length=O):P&&(L=L.mod(m))}return P?T:(S&&(T=j.div(T)),m?T.mod(m):O?de(T,nt,Y,U):T)},_.integerValue=function(p){var m=new k(this);return p==null?p=Y:I(p,0,8),de(m,m.e+1,p)},_.isEqualTo=_.eq=function(p,m){return C(this,new k(p,m))===0},_.isFinite=function(){return!!this.c},_.isGreaterThan=_.gt=function(p,m){return C(this,new k(p,m))>0},_.isGreaterThanOrEqualTo=_.gte=function(p,m){return(m=C(this,new k(p,m)))===1||m===0},_.isInteger=function(){return!!this.c&&v(this.e/s)>this.c.length-2},_.isLessThan=_.lt=function(p,m){return C(this,new k(p,m))<0},_.isLessThanOrEqualTo=_.lte=function(p,m){return(m=C(this,new k(p,m)))===-1||m===0},_.isNaN=function(){return!this.s},_.isNegative=function(){return this.s<0},_.isPositive=function(){return this.s>0},_.isZero=function(){return!!this.c&&this.c[0]==0},_.minus=function(p,m){var w,P,A,O,U=this,B=U.s;if(p=new k(p,m),m=p.s,!B||!m)return new k(NaN);if(B!=m)return p.s=-m,U.plus(p);var S=U.e/s,R=p.e/s,T=U.c,L=p.c;if(!S||!R){if(!T||!L)return T?(p.s=-m,p):new k(L?U:NaN);if(!T[0]||!L[0])return L[0]?(p.s=-m,p):new k(T[0]?U:Y==3?-0:0)}if(S=v(S),R=v(R),T=T.slice(),B=S-R){for((O=B<0)?(B=-B,A=T):(R=S,A=L),A.reverse(),m=B;m--;A.push(0));A.reverse()}else for(P=(O=(B=T.length)<(m=L.length))?B:m,B=m=0;m<P;m++)if(T[m]!=L[m]){O=T[m]<L[m];break}if(O&&(A=T,T=L,L=A,p.s=-p.s),m=(P=L.length)-(w=T.length),m>0)for(;m--;T[w++]=0);for(m=a-1;P>B;){if(T[--P]<L[P]){for(w=P;w&&!T[--w];T[w]=m);--T[w],T[P]+=a}T[P]-=L[P]}for(;T[0]==0;T.splice(0,1),--R);return T[0]?Be(p,T,R):(p.s=Y==3?-1:1,p.c=[p.e=0],p)},_.modulo=_.mod=function(p,m){var w,P,A=this;return p=new k(p,m),!A.c||!p.s||p.c&&!p.c[0]?new k(NaN):!p.c||A.c&&!A.c[0]?new k(A):(Jt==9?(P=p.s,p.s=1,w=b(A,p,0,3),p.s=P,w.s*=P):w=b(A,p,0,Jt),p=A.minus(w.times(p)),!p.c[0]&&Jt==1&&(p.s=A.s),p)},_.multipliedBy=_.times=function(p,m){var w,P,A,O,U,B,S,R,T,L,$,G,ie,he,be,ne=this,se=ne.c,Se=(p=new k(p,m)).c;if(!se||!Se||!se[0]||!Se[0])return!ne.s||!p.s||se&&!se[0]&&!Se||Se&&!Se[0]&&!se?p.c=p.e=p.s=null:(p.s*=ne.s,!se||!Se?p.c=p.e=null:(p.c=[0],p.e=0)),p;for(P=v(ne.e/s)+v(p.e/s),p.s*=ne.s,S=se.length,L=Se.length,S<L&&(ie=se,se=Se,Se=ie,A=S,S=L,L=A),A=S+L,ie=[];A--;ie.push(0));for(he=a,be=l,A=L;--A>=0;){for(w=0,$=Se[A]%be,G=Se[A]/be|0,U=S,O=A+U;O>A;)R=se[--U]%be,T=se[U]/be|0,B=G*R+T*$,R=$*R+B%be*be+ie[O]+w,w=(R/he|0)+(B/be|0)+G*T,ie[O--]=R%he;ie[O]=w}return w?++P:ie.splice(0,1),Be(p,ie,P)},_.negated=function(){var p=new k(this);return p.s=-p.s||null,p},_.plus=function(p,m){var w,P=this,A=P.s;if(p=new k(p,m),m=p.s,!A||!m)return new k(NaN);if(A!=m)return p.s=-m,P.minus(p);var O=P.e/s,U=p.e/s,B=P.c,S=p.c;if(!O||!U){if(!B||!S)return new k(A/0);if(!B[0]||!S[0])return S[0]?p:new k(B[0]?P:A*0)}if(O=v(O),U=v(U),B=B.slice(),A=O-U){for(A>0?(U=O,w=S):(A=-A,w=B),w.reverse();A--;w.push(0));w.reverse()}for(A=B.length,m=S.length,A-m<0&&(w=S,S=B,B=w,m=A),A=0;m;)A=(B[--m]=B[m]+S[m]+A)/a|0,B[m]=a===B[m]?0:B[m]%a;return A&&(B=[A].concat(B),++U),Be(p,B,U)},_.precision=_.sd=function(p,m){var w,P,A,O=this;if(p!=null&&p!==!!p)return I(p,1,x),m==null?m=Y:I(m,0,8),de(new k(O),p,m);if(!(w=O.c))return null;if(A=w.length-1,P=A*s+1,A=w[A]){for(;A%10==0;A/=10,P--);for(A=w[0];A>=10;A/=10,P++);}return p&&O.e+1>P&&(P=O.e+1),P},_.shiftedBy=function(p){return I(p,-u,u),this.times("1e"+p)},_.squareRoot=_.sqrt=function(){var p,m,w,P,A,O=this,U=O.c,B=O.s,S=O.e,R=H+4,T=new k("0.5");if(B!==1||!U||!U[0])return new k(!B||B<0&&(!U||U[0])?NaN:U?O:1/0);if(B=Math.sqrt(+$e(O)),B==0||B==1/0?(m=E(U),(m.length+S)%2==0&&(m+="0"),B=Math.sqrt(+m),S=v((S+1)/2)-(S<0||S%2),B==1/0?m="5e"+S:(m=B.toExponential(),m=m.slice(0,m.indexOf("e")+1)+S),w=new k(m)):w=new k(B+""),w.c[0]){for(S=w.e,B=S+R,B<3&&(B=0);;)if(A=w,w=T.times(A.plus(b(O,A,R,1))),E(A.c).slice(0,B)===(m=E(w.c)).slice(0,B))if(w.e<S&&--B,m=m.slice(B-3,B+1),m=="9999"||!P&&m=="4999"){if(!P&&(de(A,A.e+H+2,0),A.times(A).eq(O))){w=A;break}R+=4,B+=4,P=1}else{(!+m||!+m.slice(1)&&m.charAt(0)=="5")&&(de(w,w.e+H+2,1),p=!w.times(w).eq(O));break}}return de(w,w.e+H+1,Y,p)},_.toExponential=function(p,m){return p!=null&&(I(p,0,x),p++),jr(this,p,m,1)},_.toFixed=function(p,m){return p!=null&&(I(p,0,x),p=p+this.e+1),jr(this,p,m)},_.toFormat=function(p,m,w){var P,A=this;if(w==null)p!=null&&m&&typeof m=="object"?(w=m,m=null):p&&typeof p=="object"?(w=p,p=m=null):w=Nr;else if(typeof w!="object")throw Error(i+"Argument not an object: "+w);if(P=A.toFixed(p,m),A.c){var O,U=P.split("."),B=+w.groupSize,S=+w.secondaryGroupSize,R=w.groupSeparator||"",T=U[0],L=U[1],$=A.s<0,G=$?T.slice(1):T,ie=G.length;if(S&&(O=B,B=S,S=O,ie-=O),B>0&&ie>0){for(O=ie%B||B,T=G.substr(0,O);O<ie;O+=B)T+=R+G.substr(O,B);S>0&&(T+=R+G.slice(O)),$&&(T="-"+T)}P=L?T+(w.decimalSeparator||"")+((S=+w.fractionGroupSize)?L.replace(new RegExp("\\d{"+S+"}\\B","g"),"$&"+(w.fractionGroupSeparator||"")):L):T}return(w.prefix||"")+P+(w.suffix||"")},_.toFraction=function(p){var m,w,P,A,O,U,B,S,R,T,L,$,G=this,ie=G.c;if(p!=null&&(B=new k(p),!B.isInteger()&&(B.c||B.s!==1)||B.lt(j)))throw Error(i+"Argument "+(B.isInteger()?"out of range: ":"not an integer: ")+$e(B));if(!ie)return new k(G);for(m=new k(j),R=w=new k(j),P=S=new k(j),$=E(ie),O=m.e=$.length-G.e-1,m.c[0]=c[(U=O%s)<0?s+U:U],p=!p||B.comparedTo(m)>0?O>0?m:R:B,U=He,He=1/0,B=new k($),S.c[0]=0;T=b(B,m,0,1),A=w.plus(T.times(P)),A.comparedTo(p)!=1;)w=P,P=A,R=S.plus(T.times(A=R)),S=A,m=B.minus(T.times(A=m)),B=A;return A=b(p.minus(w),P,0,1),S=S.plus(A.times(R)),w=w.plus(A.times(P)),S.s=R.s=G.s,O=O*2,L=b(R,P,O,Y).minus(G).abs().comparedTo(b(S,w,O,Y).minus(G).abs())<1?[R,P]:[S,w],He=U,L},_.toNumber=function(){return+$e(this)},_.toPrecision=function(p,m){return p!=null&&I(p,1,x),jr(this,p,m,2)},_.toString=function(p){var m,w=this,P=w.s,A=w.e;return A===null?P?(m="Infinity",P<0&&(m="-"+m)):m="NaN":(p==null?m=A<=te||A>=J?F(E(w.c),A):M(E(w.c),A,"0"):p===10&&Mr?(w=de(new k(w),H+A+1,Y),m=M(E(w.c),w.e,"0")):(I(p,2,_t.length,"Base"),m=h(M(E(w.c),A,"0"),10,p,P,!0)),P<0&&w.c[0]&&(m="-"+m)),m},_.valueOf=_.toJSON=function(){return $e(this)},_._isBigNumber=!0,d!=null&&k.set(d),k}function v(d){var b=d|0;return d>0||d===b?b:b-1}function E(d){for(var b,h,y=1,_=d.length,j=d[0]+"";y<_;){for(b=d[y++]+"",h=s-b.length;h--;b="0"+b);j+=b}for(_=j.length;j.charCodeAt(--_)===48;);return j.slice(0,_+1||1)}function C(d,b){var h,y,_=d.c,j=b.c,H=d.s,Y=b.s,te=d.e,J=b.e;if(!H||!Y)return null;if(h=_&&!_[0],y=j&&!j[0],h||y)return h?y?0:-Y:H;if(H!=Y)return H;if(h=H<0,y=te==J,!_||!j)return y?0:!_^h?1:-1;if(!y)return te>J^h?1:-1;for(Y=(te=_.length)<(J=j.length)?te:J,H=0;H<Y;H++)if(_[H]!=j[H])return _[H]>j[H]^h?1:-1;return te==J?0:te>J^h?1:-1}function I(d,b,h,y){if(d<b||d>h||d!==o(d))throw Error(i+(y||"Argument")+(typeof d=="number"?d<b||d>h?" out of range: ":" not an integer: ":" not a primitive number: ")+String(d))}function q(d){var b=d.c.length-1;return v(d.e/s)==b&&d.c[b]%2!=0}function F(d,b){return(d.length>1?d.charAt(0)+"."+d.slice(1):d)+(b<0?"e":"e+")+b}function M(d,b,h){var y,_;if(b<0){for(_=h+".";++b;_+=h);d=_+d}else if(y=d.length,++b>y){for(_=h,b-=y;--b;_+=h);d+=_}else b<y&&(d=d.slice(0,b)+"."+d.slice(b));return d}t=g(),t.default=t.BigNumber=t,typeof define=="function"&&define.amd?define(function(){return t}):typeof Ui<"u"&&Ui.exports?Ui.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(Xh)});var Kh=D((oa,aa)=>{(function(e,t){typeof oa=="object"&&typeof aa<"u"?aa.exports=t():typeof define=="function"&&define.amd?define(t):(e=e||self,e.JSBI=t())})(oa,function(){"use strict";var e=Math.imul,t=Math.clz32,r=Math.abs,n=Math.max,o=Math.floor;class i extends Array{constructor(a,s){if(super(a),this.sign=s,a>i.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(a){var s=Number.isFinite;if(typeof a=="number"){if(a===0)return i.__zero();if(i.__isOneDigitInt(a))return 0>a?i.__oneDigit(-a,!0):i.__oneDigit(a,!1);if(!s(a)||o(a)!==a)throw new RangeError("The number "+a+" cannot be converted to BigInt because it is not an integer");return i.__fromDouble(a)}if(typeof a=="string"){let u=i.__fromString(a);if(u===null)throw new SyntaxError("Cannot convert "+a+" to a BigInt");return u}if(typeof a=="boolean")return a===!0?i.__oneDigit(1,!1):i.__zero();if(typeof a=="object"){if(a.constructor===i)return a;let u=i.__toPrimitive(a);return i.BigInt(u)}throw new TypeError("Cannot convert "+a+" to a BigInt")}toDebugString(){let a=["BigInt["];for(let s of this)a.push((s&&(s>>>0).toString(16))+", ");return a.push("]"),a.join("")}toString(a=10){if(2>a||36<a)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(a&a-1)==0?i.__toStringBasePowerOfTwo(this,a):i.__toStringGeneric(this,a,!1)}static toNumber(a){let s=a.length;if(s===0)return 0;if(s===1){let b=a.__unsignedDigit(0);return a.sign?-b:b}let u=a.__digit(s-1),c=i.__clz30(u),l=30*s-c;if(1024<l)return a.sign?-1/0:1/0;let x=l-1,g=u,v=s-1,E=c+3,C=E===32?0:g<<E;C>>>=12;let I=E-12,q=12<=E?0:g<<20+E,F=20+E;for(0<I&&0<v&&(v--,g=a.__digit(v),C|=g>>>30-I,q=g<<I+2,F=I+2);0<F&&0<v;)v--,g=a.__digit(v),q|=30<=F?g<<F-30:g>>>30-F,F-=30;let M=i.__decideRounding(a,F,v,g);if((M===1||M===0&&(1&q)==1)&&(q=q+1>>>0,q===0&&(C++,C>>>20!=0&&(C=0,x++,1023<x))))return a.sign?-1/0:1/0;let d=a.sign?-2147483648:0;return x=x+1023<<20,i.__kBitConversionInts[1]=d|x|C,i.__kBitConversionInts[0]=q,i.__kBitConversionDouble[0]}static unaryMinus(a){if(a.length===0)return a;let s=a.__copy();return s.sign=!a.sign,s}static bitwiseNot(a){return a.sign?i.__absoluteSubOne(a).__trim():i.__absoluteAddOne(a,!0)}static exponentiate(a,s){if(s.sign)throw new RangeError("Exponent must be positive");if(s.length===0)return i.__oneDigit(1,!1);if(a.length===0)return a;if(a.length===1&&a.__digit(0)===1)return a.sign&&(1&s.__digit(0))==0?i.unaryMinus(a):a;if(1<s.length)throw new RangeError("BigInt too big");let u=s.__unsignedDigit(0);if(u===1)return a;if(u>=i.__kMaxLengthBits)throw new RangeError("BigInt too big");if(a.length===1&&a.__digit(0)===2){let x=1+(0|u/30),g=a.sign&&(1&u)!=0,v=new i(x,g);v.__initializeDigits();let E=1<<u%30;return v.__setDigit(x-1,E),v}let c=null,l=a;for((1&u)!=0&&(c=a),u>>=1;u!==0;u>>=1)l=i.multiply(l,l),(1&u)!=0&&(c===null?c=l:c=i.multiply(c,l));return c}static multiply(a,s){if(a.length===0)return a;if(s.length===0)return s;let u=a.length+s.length;30<=a.__clzmsd()+s.__clzmsd()&&u--;let c=new i(u,a.sign!==s.sign);c.__initializeDigits();for(let l=0;l<a.length;l++)i.__multiplyAccumulate(s,a.__digit(l),c,l);return c.__trim()}static divide(a,s){if(s.length===0)throw new RangeError("Division by zero");if(0>i.__absoluteCompare(a,s))return i.__zero();let u=a.sign!==s.sign,c=s.__unsignedDigit(0),l;if(s.length===1&&32767>=c){if(c===1)return u===a.sign?a:i.unaryMinus(a);l=i.__absoluteDivSmall(a,c,null)}else l=i.__absoluteDivLarge(a,s,!0,!1);return l.sign=u,l.__trim()}static remainder(a,s){if(s.length===0)throw new RangeError("Division by zero");if(0>i.__absoluteCompare(a,s))return a;let u=s.__unsignedDigit(0);if(s.length===1&&32767>=u){if(u===1)return i.__zero();let l=i.__absoluteModSmall(a,u);return l===0?i.__zero():i.__oneDigit(l,a.sign)}let c=i.__absoluteDivLarge(a,s,!1,!0);return c.sign=a.sign,c.__trim()}static add(a,s){let u=a.sign;return u===s.sign?i.__absoluteAdd(a,s,u):0<=i.__absoluteCompare(a,s)?i.__absoluteSub(a,s,u):i.__absoluteSub(s,a,!u)}static subtract(a,s){let u=a.sign;return u===s.sign?0<=i.__absoluteCompare(a,s)?i.__absoluteSub(a,s,u):i.__absoluteSub(s,a,!u):i.__absoluteAdd(a,s,u)}static leftShift(a,s){return s.length===0||a.length===0?a:s.sign?i.__rightShiftByAbsolute(a,s):i.__leftShiftByAbsolute(a,s)}static signedRightShift(a,s){return s.length===0||a.length===0?a:s.sign?i.__leftShiftByAbsolute(a,s):i.__rightShiftByAbsolute(a,s)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(a,s){return 0>i.__compareToBigInt(a,s)}static lessThanOrEqual(a,s){return 0>=i.__compareToBigInt(a,s)}static greaterThan(a,s){return 0<i.__compareToBigInt(a,s)}static greaterThanOrEqual(a,s){return 0<=i.__compareToBigInt(a,s)}static equal(a,s){if(a.sign!==s.sign||a.length!==s.length)return!1;for(let u=0;u<a.length;u++)if(a.__digit(u)!==s.__digit(u))return!1;return!0}static notEqual(a,s){return!i.equal(a,s)}static bitwiseAnd(a,s){if(!a.sign&&!s.sign)return i.__absoluteAnd(a,s).__trim();if(a.sign&&s.sign){let u=n(a.length,s.length)+1,c=i.__absoluteSubOne(a,u),l=i.__absoluteSubOne(s);return c=i.__absoluteOr(c,l,c),i.__absoluteAddOne(c,!0,c).__trim()}return a.sign&&([a,s]=[s,a]),i.__absoluteAndNot(a,i.__absoluteSubOne(s)).__trim()}static bitwiseXor(a,s){if(!a.sign&&!s.sign)return i.__absoluteXor(a,s).__trim();if(a.sign&&s.sign){let l=n(a.length,s.length),x=i.__absoluteSubOne(a,l),g=i.__absoluteSubOne(s);return i.__absoluteXor(x,g,x).__trim()}let u=n(a.length,s.length)+1;a.sign&&([a,s]=[s,a]);let c=i.__absoluteSubOne(s,u);return c=i.__absoluteXor(c,a,c),i.__absoluteAddOne(c,!0,c).__trim()}static bitwiseOr(a,s){let u=n(a.length,s.length);if(!a.sign&&!s.sign)return i.__absoluteOr(a,s).__trim();if(a.sign&&s.sign){let l=i.__absoluteSubOne(a,u),x=i.__absoluteSubOne(s);return l=i.__absoluteAnd(l,x,l),i.__absoluteAddOne(l,!0,l).__trim()}a.sign&&([a,s]=[s,a]);let c=i.__absoluteSubOne(s,u);return c=i.__absoluteAndNot(c,a,c),i.__absoluteAddOne(c,!0,c).__trim()}static asIntN(a,s){if(s.length===0)return s;if(a=o(a),0>a)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(a===0)return i.__zero();if(a>=i.__kMaxLengthBits)return s;let u=0|(a+29)/30;if(s.length<u)return s;let c=s.__unsignedDigit(u-1),l=1<<(a-1)%30;if(s.length===u&&c<l)return s;if((c&l)!==l)return i.__truncateToNBits(a,s);if(!s.sign)return i.__truncateAndSubFromPowerOfTwo(a,s,!0);if((c&l-1)==0){for(let x=u-2;0<=x;x--)if(s.__digit(x)!==0)return i.__truncateAndSubFromPowerOfTwo(a,s,!1);return s.length===u&&c===l?s:i.__truncateToNBits(a,s)}return i.__truncateAndSubFromPowerOfTwo(a,s,!1)}static asUintN(a,s){if(s.length===0)return s;if(a=o(a),0>a)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(a===0)return i.__zero();if(s.sign){if(a>i.__kMaxLengthBits)throw new RangeError("BigInt too big");return i.__truncateAndSubFromPowerOfTwo(a,s,!1)}if(a>=i.__kMaxLengthBits)return s;let u=0|(a+29)/30;if(s.length<u)return s;let c=a%30;return s.length==u&&(c===0||!(s.__digit(u-1)>>>c))?s:i.__truncateToNBits(a,s)}static ADD(a,s){if(a=i.__toPrimitive(a),s=i.__toPrimitive(s),typeof a=="string")return typeof s!="string"&&(s=s.toString()),a+s;if(typeof s=="string")return a.toString()+s;if(a=i.__toNumeric(a),s=i.__toNumeric(s),i.__isBigInt(a)&&i.__isBigInt(s))return i.add(a,s);if(typeof a=="number"&&typeof s=="number")return a+s;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(a,s){return i.__compare(a,s,0)}static LE(a,s){return i.__compare(a,s,1)}static GT(a,s){return i.__compare(a,s,2)}static GE(a,s){return i.__compare(a,s,3)}static EQ(a,s){for(;;){if(i.__isBigInt(a))return i.__isBigInt(s)?i.equal(a,s):i.EQ(s,a);if(typeof a=="number"){if(i.__isBigInt(s))return i.__equalToNumber(s,a);if(typeof s!="object")return a==s;s=i.__toPrimitive(s)}else if(typeof a=="string"){if(i.__isBigInt(s))return a=i.__fromString(a),a!==null&&i.equal(a,s);if(typeof s!="object")return a==s;s=i.__toPrimitive(s)}else if(typeof a=="boolean"){if(i.__isBigInt(s))return i.__equalToNumber(s,+a);if(typeof s!="object")return a==s;s=i.__toPrimitive(s)}else if(typeof a=="symbol"){if(i.__isBigInt(s))return!1;if(typeof s!="object")return a==s;s=i.__toPrimitive(s)}else if(typeof a=="object"){if(typeof s=="object"&&s.constructor!==i)return a==s;a=i.__toPrimitive(a)}else return a==s}}static NE(a,s){return!i.EQ(a,s)}static __zero(){return new i(0,!1)}static __oneDigit(a,s){let u=new i(1,s);return u.__setDigit(0,a),u}__copy(){let a=new i(this.length,this.sign);for(let s=0;s<this.length;s++)a[s]=this[s];return a}__trim(){let a=this.length,s=this[a-1];for(;s===0;)a--,s=this[a-1],this.pop();return a===0&&(this.sign=!1),this}__initializeDigits(){for(let a=0;a<this.length;a++)this[a]=0}static __decideRounding(a,s,u,c){if(0<s)return-1;let l;if(0>s)l=-s-1;else{if(u===0)return-1;u--,c=a.__digit(u),l=29}let x=1<<l;if((c&x)==0)return-1;if(x-=1,(c&x)!=0)return 1;for(;0<u;)if(u--,a.__digit(u)!==0)return 1;return 0}static __fromDouble(a){i.__kBitConversionDouble[0]=a;let s=2047&i.__kBitConversionInts[1]>>>20,u=s-1023,c=(0|u/30)+1,l=new i(c,0>a),x=1048575&i.__kBitConversionInts[1]|1048576,g=i.__kBitConversionInts[0],v=20,E=u%30,C,I=0;if(20>E){let q=v-E;I=q+32,C=x>>>q,x=x<<32-q|g>>>q,g<<=32-q}else if(E===20)I=32,C=x,x=g,g=0;else{let q=E-v;I=32-q,C=x<<q|g>>>32-q,x=g<<q,g=0}l.__setDigit(c-1,C);for(let q=c-2;0<=q;q--)0<I?(I-=30,C=x>>>2,x=x<<30|g>>>2,g<<=30):C=0,l.__setDigit(q,C);return l.__trim()}static __isWhitespace(a){return 13>=a&&9<=a||(159>=a?a==32:131071>=a?a==160||a==5760:196607>=a?(a&=131071,10>=a||a==40||a==41||a==47||a==95||a==4096):a==65279)}static __fromString(a,s=0){let u=0,c=a.length,l=0;if(l===c)return i.__zero();let x=a.charCodeAt(l);for(;i.__isWhitespace(x);){if(++l===c)return i.__zero();x=a.charCodeAt(l)}if(x===43){if(++l===c)return null;x=a.charCodeAt(l),u=1}else if(x===45){if(++l===c)return null;x=a.charCodeAt(l),u=-1}if(s===0){if(s=10,x===48){if(++l===c)return i.__zero();if(x=a.charCodeAt(l),x===88||x===120){if(s=16,++l===c)return null;x=a.charCodeAt(l)}else if(x===79||x===111){if(s=8,++l===c)return null;x=a.charCodeAt(l)}else if(x===66||x===98){if(s=2,++l===c)return null;x=a.charCodeAt(l)}}}else if(s===16&&x===48){if(++l===c)return i.__zero();if(x=a.charCodeAt(l),x===88||x===120){if(++l===c)return null;x=a.charCodeAt(l)}}if(u!=0&&s!==10)return null;for(;x===48;){if(++l===c)return i.__zero();x=a.charCodeAt(l)}let g=c-l,v=i.__kMaxBitsPerChar[s],E=i.__kBitsPerCharTableMultiplier-1;if(g>1073741824/v)return null;let C=v*g+E>>>i.__kBitsPerCharTableShift,I=new i(0|(C+29)/30,!1),q=10>s?s:10,F=10<s?s-10:0;if((s&s-1)==0){v>>=i.__kBitsPerCharTableShift;let M=[],d=[],b=!1;do{let h=0,y=0;for(;;){let _;if(x-48>>>0<q)_=x-48;else if((32|x)-97>>>0<F)_=(32|x)-87;else{b=!0;break}if(y+=v,h=h<<v|_,++l===c){b=!0;break}if(x=a.charCodeAt(l),30<y+v)break}M.push(h),d.push(y)}while(!b);i.__fillFromParts(I,M,d)}else{I.__initializeDigits();let M=!1,d=0;do{let b=0,h=1;for(;;){let _;if(x-48>>>0<q)_=x-48;else if((32|x)-97>>>0<F)_=(32|x)-87;else{M=!0;break}let j=h*s;if(1073741823<j)break;if(h=j,b=b*s+_,d++,++l===c){M=!0;break}x=a.charCodeAt(l)}E=30*i.__kBitsPerCharTableMultiplier-1;let y=0|(v*d+E>>>i.__kBitsPerCharTableShift)/30;I.__inplaceMultiplyAdd(h,b,y)}while(!M)}if(l!==c){if(!i.__isWhitespace(x))return null;for(l++;l<c;l++)if(x=a.charCodeAt(l),!i.__isWhitespace(x))return null}return I.sign=u==-1,I.__trim()}static __fillFromParts(a,s,u){let c=0,l=0,x=0;for(let g=s.length-1;0<=g;g--){let v=s[g],E=u[g];l|=v<<x,x+=E,x===30?(a.__setDigit(c++,l),x=0,l=0):30<x&&(a.__setDigit(c++,1073741823&l),x-=30,l=v>>>E-x)}if(l!==0){if(c>=a.length)throw new Error("implementation bug");a.__setDigit(c++,l)}for(;c<a.length;c++)a.__setDigit(c,0)}static __toStringBasePowerOfTwo(a,s){let u=a.length,c=s-1;c=(85&c>>>1)+(85&c),c=(51&c>>>2)+(51&c),c=(15&c>>>4)+(15&c);let l=c,x=s-1,g=a.__digit(u-1),v=i.__clz30(g),E=0|(30*u-v+l-1)/l;if(a.sign&&E++,268435456<E)throw new Error("string too long");let C=Array(E),I=E-1,q=0,F=0;for(let d=0;d<u-1;d++){let b=a.__digit(d),h=(q|b<<F)&x;C[I--]=i.__kConversionChars[h];let y=l-F;for(q=b>>>y,F=30-y;F>=l;)C[I--]=i.__kConversionChars[q&x],q>>>=l,F-=l}let M=(q|g<<F)&x;for(C[I--]=i.__kConversionChars[M],q=g>>>l-F;q!==0;)C[I--]=i.__kConversionChars[q&x],q>>>=l;if(a.sign&&(C[I--]="-"),I!=-1)throw new Error("implementation bug");return C.join("")}static __toStringGeneric(a,s,u){let c=a.length;if(c===0)return"";if(c===1){let d=a.__unsignedDigit(0).toString(s);return u===!1&&a.sign&&(d="-"+d),d}let l=30*c-i.__clz30(a.__digit(c-1)),x=i.__kMaxBitsPerChar[s],g=x-1,v=l*i.__kBitsPerCharTableMultiplier;v+=g-1,v=0|v/g;let E=v+1>>1,C=i.exponentiate(i.__oneDigit(s,!1),i.__oneDigit(E,!1)),I,q,F=C.__unsignedDigit(0);if(C.length===1&&32767>=F){I=new i(a.length,!1),I.__initializeDigits();let d=0;for(let b=2*a.length-1;0<=b;b--){let h=d<<15|a.__halfDigit(b);I.__setHalfDigit(b,0|h/F),d=0|h%F}q=d.toString(s)}else{let d=i.__absoluteDivLarge(a,C,!0,!0);I=d.quotient;let b=d.remainder.__trim();q=i.__toStringGeneric(b,s,!0)}I.__trim();let M=i.__toStringGeneric(I,s,!0);for(;q.length<E;)q="0"+q;return u===!1&&a.sign&&(M="-"+M),M+q}static __unequalSign(a){return a?-1:1}static __absoluteGreater(a){return a?-1:1}static __absoluteLess(a){return a?1:-1}static __compareToBigInt(a,s){let u=a.sign;if(u!==s.sign)return i.__unequalSign(u);let c=i.__absoluteCompare(a,s);return 0<c?i.__absoluteGreater(u):0>c?i.__absoluteLess(u):0}static __compareToNumber(a,s){if(i.__isOneDigitInt(s)){let u=a.sign,c=0>s;if(u!==c)return i.__unequalSign(u);if(a.length===0){if(c)throw new Error("implementation bug");return s===0?0:-1}if(1<a.length)return i.__absoluteGreater(u);let l=r(s),x=a.__unsignedDigit(0);return x>l?i.__absoluteGreater(u):x<l?i.__absoluteLess(u):0}return i.__compareToDouble(a,s)}static __compareToDouble(a,s){if(s!==s)return s;if(s===1/0)return-1;if(s===-1/0)return 1;let u=a.sign;if(u!==0>s)return i.__unequalSign(u);if(s===0)throw new Error("implementation bug: should be handled elsewhere");if(a.length===0)return-1;i.__kBitConversionDouble[0]=s;let c=2047&i.__kBitConversionInts[1]>>>20;if(c==2047)throw new Error("implementation bug: handled elsewhere");let l=c-1023;if(0>l)return i.__absoluteGreater(u);let x=a.length,g=a.__digit(x-1),v=i.__clz30(g),E=30*x-v,C=l+1;if(E<C)return i.__absoluteLess(u);if(E>C)return i.__absoluteGreater(u);let I=1048576|1048575&i.__kBitConversionInts[1],q=i.__kBitConversionInts[0],F=20,M=29-v;if(M!==(0|(E-1)%30))throw new Error("implementation bug");let d,b=0;if(20>M){let h=F-M;b=h+32,d=I>>>h,I=I<<32-h|q>>>h,q<<=32-h}else if(M===20)b=32,d=I,I=q,q=0;else{let h=M-F;b=32-h,d=I<<h|q>>>32-h,I=q<<h,q=0}if(g>>>=0,d>>>=0,g>d)return i.__absoluteGreater(u);if(g<d)return i.__absoluteLess(u);for(let h=x-2;0<=h;h--){0<b?(b-=30,d=I>>>2,I=I<<30|q>>>2,q<<=30):d=0;let y=a.__unsignedDigit(h);if(y>d)return i.__absoluteGreater(u);if(y<d)return i.__absoluteLess(u)}if(I!==0||q!==0){if(b===0)throw new Error("implementation bug");return i.__absoluteLess(u)}return 0}static __equalToNumber(a,s){return i.__isOneDigitInt(s)?s===0?a.length===0:a.length===1&&a.sign===0>s&&a.__unsignedDigit(0)===r(s):i.__compareToDouble(a,s)===0}static __comparisonResultToBool(a,s){return s===0?0>a:s===1?0>=a:s===2?0<a:s===3?0<=a:void 0}static __compare(a,s,u){if(a=i.__toPrimitive(a),s=i.__toPrimitive(s),typeof a=="string"&&typeof s=="string")switch(u){case 0:return a<s;case 1:return a<=s;case 2:return a>s;case 3:return a>=s}if(i.__isBigInt(a)&&typeof s=="string")return s=i.__fromString(s),s!==null&&i.__comparisonResultToBool(i.__compareToBigInt(a,s),u);if(typeof a=="string"&&i.__isBigInt(s))return a=i.__fromString(a),a!==null&&i.__comparisonResultToBool(i.__compareToBigInt(a,s),u);if(a=i.__toNumeric(a),s=i.__toNumeric(s),i.__isBigInt(a)){if(i.__isBigInt(s))return i.__comparisonResultToBool(i.__compareToBigInt(a,s),u);if(typeof s!="number")throw new Error("implementation bug");return i.__comparisonResultToBool(i.__compareToNumber(a,s),u)}if(typeof a!="number")throw new Error("implementation bug");if(i.__isBigInt(s))return i.__comparisonResultToBool(i.__compareToNumber(s,a),2^u);if(typeof s!="number")throw new Error("implementation bug");return u===0?a<s:u===1?a<=s:u===2?a>s:u===3?a>=s:void 0}__clzmsd(){return i.__clz30(this.__digit(this.length-1))}static __absoluteAdd(a,s,u){if(a.length<s.length)return i.__absoluteAdd(s,a,u);if(a.length===0)return a;if(s.length===0)return a.sign===u?a:i.unaryMinus(a);let c=a.length;(a.__clzmsd()===0||s.length===a.length&&s.__clzmsd()===0)&&c++;let l=new i(c,u),x=0,g=0;for(;g<s.length;g++){let v=a.__digit(g)+s.__digit(g)+x;x=v>>>30,l.__setDigit(g,1073741823&v)}for(;g<a.length;g++){let v=a.__digit(g)+x;x=v>>>30,l.__setDigit(g,1073741823&v)}return g<l.length&&l.__setDigit(g,x),l.__trim()}static __absoluteSub(a,s,u){if(a.length===0)return a;if(s.length===0)return a.sign===u?a:i.unaryMinus(a);let c=new i(a.length,u),l=0,x=0;for(;x<s.length;x++){let g=a.__digit(x)-s.__digit(x)-l;l=1&g>>>30,c.__setDigit(x,1073741823&g)}for(;x<a.length;x++){let g=a.__digit(x)-l;l=1&g>>>30,c.__setDigit(x,1073741823&g)}return c.__trim()}static __absoluteAddOne(a,s,u=null){let c=a.length;u===null?u=new i(c,s):u.sign=s;let l=1;for(let x=0;x<c;x++){let g=a.__digit(x)+l;l=g>>>30,u.__setDigit(x,1073741823&g)}return l!=0&&u.__setDigitGrow(c,1),u}static __absoluteSubOne(a,s){let u=a.length;s=s||u;let c=new i(s,!1),l=1;for(let x=0;x<u;x++){let g=a.__digit(x)-l;l=1&g>>>30,c.__setDigit(x,1073741823&g)}if(l!=0)throw new Error("implementation bug");for(let x=u;x<s;x++)c.__setDigit(x,0);return c}static __absoluteAnd(a,s,u=null){let c=a.length,l=s.length,x=l;if(c<l){x=c;let E=a,C=c;a=s,c=l,s=E,l=C}let g=x;u===null?u=new i(g,!1):g=u.length;let v=0;for(;v<x;v++)u.__setDigit(v,a.__digit(v)&s.__digit(v));for(;v<g;v++)u.__setDigit(v,0);return u}static __absoluteAndNot(a,s,u=null){let c=a.length,l=s.length,x=l;c<l&&(x=c);let g=c;u===null?u=new i(g,!1):g=u.length;let v=0;for(;v<x;v++)u.__setDigit(v,a.__digit(v)&~s.__digit(v));for(;v<c;v++)u.__setDigit(v,a.__digit(v));for(;v<g;v++)u.__setDigit(v,0);return u}static __absoluteOr(a,s,u=null){let c=a.length,l=s.length,x=l;if(c<l){x=c;let E=a,C=c;a=s,c=l,s=E,l=C}let g=c;u===null?u=new i(g,!1):g=u.length;let v=0;for(;v<x;v++)u.__setDigit(v,a.__digit(v)|s.__digit(v));for(;v<c;v++)u.__setDigit(v,a.__digit(v));for(;v<g;v++)u.__setDigit(v,0);return u}static __absoluteXor(a,s,u=null){let c=a.length,l=s.length,x=l;if(c<l){x=c;let E=a,C=c;a=s,c=l,s=E,l=C}let g=c;u===null?u=new i(g,!1):g=u.length;let v=0;for(;v<x;v++)u.__setDigit(v,a.__digit(v)^s.__digit(v));for(;v<c;v++)u.__setDigit(v,a.__digit(v));for(;v<g;v++)u.__setDigit(v,0);return u}static __absoluteCompare(a,s){let u=a.length-s.length;if(u!=0)return u;let c=a.length-1;for(;0<=c&&a.__digit(c)===s.__digit(c);)c--;return 0>c?0:a.__unsignedDigit(c)>s.__unsignedDigit(c)?1:-1}static __multiplyAccumulate(a,s,u,c){if(s===0)return;let l=32767&s,x=s>>>15,g=0,v=0;for(let E,C=0;C<a.length;C++,c++){E=u.__digit(c);let I=a.__digit(C),q=32767&I,F=I>>>15,M=i.__imul(q,l),d=i.__imul(q,x),b=i.__imul(F,l),h=i.__imul(F,x);E+=v+M+g,g=E>>>30,E&=1073741823,E+=((32767&d)<<15)+((32767&b)<<15),g+=E>>>30,v=h+(d>>>15)+(b>>>15),u.__setDigit(c,1073741823&E)}for(;g!=0||v!==0;c++){let E=u.__digit(c);E+=g+v,v=0,g=E>>>30,u.__setDigit(c,1073741823&E)}}static __internalMultiplyAdd(a,s,u,c,l){let x=u,g=0;for(let v=0;v<c;v++){let E=a.__digit(v),C=i.__imul(32767&E,s),I=i.__imul(E>>>15,s),q=C+((32767&I)<<15)+g+x;x=q>>>30,g=I>>>15,l.__setDigit(v,1073741823&q)}if(l.length>c)for(l.__setDigit(c++,x+g);c<l.length;)l.__setDigit(c++,0);else if(x+g!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(a,s,u){u>this.length&&(u=this.length);let c=32767&a,l=a>>>15,x=0,g=s;for(let v=0;v<u;v++){let E=this.__digit(v),C=32767&E,I=E>>>15,q=i.__imul(C,c),F=i.__imul(C,l),M=i.__imul(I,c),d=i.__imul(I,l),b=g+q+x;x=b>>>30,b&=1073741823,b+=((32767&F)<<15)+((32767&M)<<15),x+=b>>>30,g=d+(F>>>15)+(M>>>15),this.__setDigit(v,1073741823&b)}if(x!=0||g!==0)throw new Error("implementation bug")}static __absoluteDivSmall(a,s,u=null){u===null&&(u=new i(a.length,!1));let c=0;for(let l,x=2*a.length-1;0<=x;x-=2){l=(c<<15|a.__halfDigit(x))>>>0;let g=0|l/s;c=0|l%s,l=(c<<15|a.__halfDigit(x-1))>>>0;let v=0|l/s;c=0|l%s,u.__setDigit(x>>>1,g<<15|v)}return u}static __absoluteModSmall(a,s){let u=0;for(let c=2*a.length-1;0<=c;c--)u=0|((u<<15|a.__halfDigit(c))>>>0)%s;return u}static __absoluteDivLarge(a,s,u,c){let l=s.__halfDigitLength(),x=s.length,g=a.__halfDigitLength()-l,v=null;u&&(v=new i(g+2>>>1,!1),v.__initializeDigits());let E=new i(l+2>>>1,!1);E.__initializeDigits();let C=i.__clz15(s.__halfDigit(l-1));0<C&&(s=i.__specialLeftShift(s,C,0));let I=i.__specialLeftShift(a,C,1),q=s.__halfDigit(l-1),F=0;for(let M,d=g;0<=d;d--){M=32767;let b=I.__halfDigit(d+l);if(b!==q){let y=(b<<15|I.__halfDigit(d+l-1))>>>0;M=0|y/q;let _=0|y%q,j=s.__halfDigit(l-2),H=I.__halfDigit(d+l-2);for(;i.__imul(M,j)>>>0>(_<<16|H)>>>0&&(M--,_+=q,!(32767<_)););}i.__internalMultiplyAdd(s,M,0,x,E);let h=I.__inplaceSub(E,d,l+1);h!==0&&(h=I.__inplaceAdd(s,d,l),I.__setHalfDigit(d+l,32767&I.__halfDigit(d+l)+h),M--),u&&(1&d?F=M<<15:v.__setDigit(d>>>1,F|M))}if(c)return I.__inplaceRightShift(C),u?{quotient:v,remainder:I}:I;if(u)return v;throw new Error("unreachable")}static __clz15(a){return i.__clz30(a)-15}__inplaceAdd(a,s,u){let c=0;for(let l=0;l<u;l++){let x=this.__halfDigit(s+l)+a.__halfDigit(l)+c;c=x>>>15,this.__setHalfDigit(s+l,32767&x)}return c}__inplaceSub(a,s,u){let c=0;if(1&s){s>>=1;let l=this.__digit(s),x=32767&l,g=0;for(;g<u-1>>>1;g++){let C=a.__digit(g),I=(l>>>15)-(32767&C)-c;c=1&I>>>15,this.__setDigit(s+g,(32767&I)<<15|32767&x),l=this.__digit(s+g+1),x=(32767&l)-(C>>>15)-c,c=1&x>>>15}let v=a.__digit(g),E=(l>>>15)-(32767&v)-c;if(c=1&E>>>15,this.__setDigit(s+g,(32767&E)<<15|32767&x),s+g+1>=this.length)throw new RangeError("out of bounds");(1&u)==0&&(l=this.__digit(s+g+1),x=(32767&l)-(v>>>15)-c,c=1&x>>>15,this.__setDigit(s+a.length,1073709056&l|32767&x))}else{s>>=1;let l=0;for(;l<a.length-1;l++){let C=this.__digit(s+l),I=a.__digit(l),q=(32767&C)-(32767&I)-c;c=1&q>>>15;let F=(C>>>15)-(I>>>15)-c;c=1&F>>>15,this.__setDigit(s+l,(32767&F)<<15|32767&q)}let x=this.__digit(s+l),g=a.__digit(l),v=(32767&x)-(32767&g)-c;c=1&v>>>15;let E=0;(1&u)==0&&(E=(x>>>15)-(g>>>15)-c,c=1&E>>>15),this.__setDigit(s+l,(32767&E)<<15|32767&v)}return c}__inplaceRightShift(a){if(a===0)return;let s=this.__digit(0)>>>a,u=this.length-1;for(let c=0;c<u;c++){let l=this.__digit(c+1);this.__setDigit(c,1073741823&l<<30-a|s),s=l>>>a}this.__setDigit(u,s)}static __specialLeftShift(a,s,u){let c=a.length,l=new i(c+u,!1);if(s===0){for(let g=0;g<c;g++)l.__setDigit(g,a.__digit(g));return 0<u&&l.__setDigit(c,0),l}let x=0;for(let g=0;g<c;g++){let v=a.__digit(g);l.__setDigit(g,1073741823&v<<s|x),x=v>>>30-s}return 0<u&&l.__setDigit(c,x),l}static __leftShiftByAbsolute(a,s){let u=i.__toShiftAmount(s);if(0>u)throw new RangeError("BigInt too big");let c=0|u/30,l=u%30,x=a.length,g=l!==0&&a.__digit(x-1)>>>30-l!=0,v=x+c+(g?1:0),E=new i(v,a.sign);if(l===0){let C=0;for(;C<c;C++)E.__setDigit(C,0);for(;C<v;C++)E.__setDigit(C,a.__digit(C-c))}else{let C=0;for(let I=0;I<c;I++)E.__setDigit(I,0);for(let I=0;I<x;I++){let q=a.__digit(I);E.__setDigit(I+c,1073741823&q<<l|C),C=q>>>30-l}if(g)E.__setDigit(x+c,C);else if(C!==0)throw new Error("implementation bug")}return E.__trim()}static __rightShiftByAbsolute(a,s){let u=a.length,c=a.sign,l=i.__toShiftAmount(s);if(0>l)return i.__rightShiftByMaximum(c);let x=0|l/30,g=l%30,v=u-x;if(0>=v)return i.__rightShiftByMaximum(c);let E=!1;if(c){if((a.__digit(x)&(1<<g)-1)!=0)E=!0;else for(let I=0;I<x;I++)if(a.__digit(I)!==0){E=!0;break}}E&&g===0&&~a.__digit(u-1)==0&&v++;let C=new i(v,c);if(g===0){C.__setDigit(v-1,0);for(let I=x;I<u;I++)C.__setDigit(I-x,a.__digit(I))}else{let I=a.__digit(x)>>>g,q=u-x-1;for(let F=0;F<q;F++){let M=a.__digit(F+x+1);C.__setDigit(F,1073741823&M<<30-g|I),I=M>>>g}C.__setDigit(q,I)}return E&&(C=i.__absoluteAddOne(C,!0,C)),C.__trim()}static __rightShiftByMaximum(a){return a?i.__oneDigit(1,!0):i.__zero()}static __toShiftAmount(a){if(1<a.length)return-1;let s=a.__unsignedDigit(0);return s>i.__kMaxLengthBits?-1:s}static __toPrimitive(a,s="default"){if(typeof a!="object"||a.constructor===i)return a;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){let l=a[Symbol.toPrimitive];if(l){let x=l(s);if(typeof x!="object")return x;throw new TypeError("Cannot convert object to primitive value")}}let u=a.valueOf;if(u){let l=u.call(a);if(typeof l!="object")return l}let c=a.toString;if(c){let l=c.call(a);if(typeof l!="object")return l}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(a){return i.__isBigInt(a)?a:+a}static __isBigInt(a){return typeof a=="object"&&a!==null&&a.constructor===i}static __truncateToNBits(a,s){let u=0|(a+29)/30,c=new i(u,s.sign),l=u-1;for(let g=0;g<l;g++)c.__setDigit(g,s.__digit(g));let x=s.__digit(l);if(a%30!=0){let g=32-a%30;x=x<<g>>>g}return c.__setDigit(l,x),c.__trim()}static __truncateAndSubFromPowerOfTwo(a,s,u){var c=Math.min;let l=0|(a+29)/30,x=new i(l,u),g=0,v=l-1,E=0;for(let F=c(v,s.length);g<F;g++){let M=0-s.__digit(g)-E;E=1&M>>>30,x.__setDigit(g,1073741823&M)}for(;g<v;g++)x.__setDigit(g,0|1073741823&-E);let C=v<s.length?s.__digit(v):0,I=a%30,q;if(I==0)q=0-C-E,q&=1073741823;else{let F=32-I;C=C<<F>>>F;let M=1<<32-F;q=M-C-E,q&=M-1}return x.__setDigit(v,q),x.__trim()}__digit(a){return this[a]}__unsignedDigit(a){return this[a]>>>0}__setDigit(a,s){this[a]=0|s}__setDigitGrow(a,s){this[a]=0|s}__halfDigitLength(){let a=this.length;return 32767>=this.__unsignedDigit(a-1)?2*a-1:2*a}__halfDigit(a){return 32767&this[a>>>1]>>>15*(1&a)}__setHalfDigit(a,s){let u=a>>>1,c=this.__digit(u),l=1&a?32767&c|s<<15:1073709056&c|32767&s;this.__setDigit(u,l)}static __digitPow(a,s){let u=1;for(;0<s;)1&s&&(u*=a),s>>>=1,a*=a;return u}static __isOneDigitInt(a){return(1073741823&a)===a}}return i.__kMaxLength=33554432,i.__kMaxLengthBits=i.__kMaxLength<<5,i.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],i.__kBitsPerCharTableShift=5,i.__kBitsPerCharTableMultiplier=1<<i.__kBitsPerCharTableShift,i.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],i.__kBitConversionBuffer=new ArrayBuffer(8),i.__kBitConversionDouble=new Float64Array(i.__kBitConversionBuffer),i.__kBitConversionInts=new Int32Array(i.__kBitConversionBuffer),i.__clz30=t?function(f){return t(f)-2}:function(f){var a=Math.LN2,s=Math.log;return f===0?30:0|29-(0|s(f>>>0)/a)},i.__imul=e||function(f,a){return 0|f*a},i})});var tx=D(gn=>{"use strict";var ex=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gn,"__esModule",{value:!0});var i6=Pt(),Qh=ex(Jh()),W=ex(Kh()),o6=18446744073709552e3,Zh=(e,t)=>W.default.bitwiseXor(W.default.asUintN(64,W.default.leftShift(e,W.default.BigInt(t))),W.default.BigInt(W.default.asUintN(64,W.default.signedRightShift(e,W.default.subtract(W.default.BigInt(64),W.default.BigInt(t)))))),sa=class{constructor(t){this.next=()=>new Qh.default(this.roll().toString()),this.nextDouble=()=>new Qh.default(this.roll().toString()).div(o6+1),this.nextInt=(n,o)=>Math.floor(this.nextDouble().toNumber()*(o-n+1)+n),this.nextByte=()=>this.nextInt(0,255),this.nextData=n=>[...new Array(n)].map(()=>this.nextByte());let r=i6.sha256Hash(t);this.s=[W.default.BigInt(0),W.default.BigInt(0),W.default.BigInt(0),W.default.BigInt(0)],this.setS(r)}setS(t){for(let r=0;r<4;r++){let n=r*8,o=W.default.BigInt(0);for(let i=0;i<8;i++)o=W.default.asUintN(64,W.default.leftShift(o,W.default.BigInt(8))),o=W.default.asUintN(64,W.default.bitwiseOr(o,W.default.BigInt(t[n+i])));this.s[r]=W.default.asUintN(64,o)}}roll(){let t=W.default.asUintN(64,W.default.multiply(Zh(W.default.asUintN(64,W.default.multiply(this.s[1],W.default.BigInt(5))),7),W.default.BigInt(9))),r=W.default.asUintN(64,W.default.leftShift(this.s[1],W.default.BigInt(17)));return this.s[2]=W.default.asUintN(64,W.default.bitwiseXor(this.s[2],W.default.BigInt(this.s[0]))),this.s[3]=W.default.asUintN(64,W.default.bitwiseXor(this.s[3],W.default.BigInt(this.s[1]))),this.s[1]=W.default.asUintN(64,W.default.bitwiseXor(this.s[1],W.default.BigInt(this.s[2]))),this.s[0]=W.default.asUintN(64,W.default.bitwiseXor(this.s[0],W.default.BigInt(this.s[3]))),this.s[2]=W.default.asUintN(64,W.default.bitwiseXor(this.s[2],W.default.BigInt(r))),this.s[3]=W.default.asUintN(64,Zh(this.s[3],45)),t}};gn.default=sa});var nx=D(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var a6=function(e,t){var r=e.reduce(function(c,l){if(l<0)throw new Error("Probability must be a positive: p["+e.indexOf(l)+"]="+l);return c+l},0);if(r===0)throw new Error("Probability sum must be greater than zero.");for(var n=e.map(function(c){return c*t/r}),o={prob:new Array(t),alias:new Array(t)},i=[],f=[],a=t-1;a>=0;a--)n[a]<1?i.push(a):f.push(a);for(;i.length>0&&f.length>0;){var s=i.pop(),u=f.pop();o.prob[s]=n[s],o.alias[s]=u,n[u]=n[u]+n[s]-1,n[u]<1?i.push(u):f.push(u)}for(;f.length>0;)o.prob[f.pop()]=1;for(;i.length>0;)o.prob[i.pop()]=1;return o},rx=function(e,t,r){var n=Math.floor(r()*e.prob.length);return t[r()<e.prob[n]?n:e.alias[n]]},s6=function(e,t,r,n){if(n===void 0&&(n=1),n===1)return rx(e,t,r);for(var o=[],i=0;i<n;i++)o.push(rx(e,t,r));return o},f6=function(e,t,r){if(r===void 0&&(r=Math.random),!Array.isArray(e))throw new Error("Probabilities must be an array.");if(e.length===0)throw new Error("Probabilities array must not be empty.");var n=e.length,o=t??Array.from({length:n},function(f,a){return a}),i=a6(e,n);return{next:function(f){return f===void 0&&(f=1),s6(i,o,r,f)}}};fa.default=f6});var ua=D(Qe=>{"use strict";var ox=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.chooseFragments=Qe.shuffle=Qe.chooseDegree=void 0;var ix=Pt(),u6=ox(tx()),c6=ox(nx()),l6=(e,t)=>{let r=[...new Array(e)].map((o,i)=>1/(i+1));return c6.default(r,void 0,t.nextDouble).next()+1};Qe.chooseDegree=l6;var h6=(e,t)=>{let r=[...e],n=[];for(;r.length>0;){let o=t.nextInt(0,r.length-1),i=r[o];r.splice(o,1),n.push(i)}return n};Qe.shuffle=h6;var x6=(e,t,r)=>{if(e<=t)return[e-1];{let n=Buffer.concat([ix.intToBytes(e),ix.intToBytes(r)]),o=new u6.default(n),i=Qe.chooseDegree(t,o),f=[...new Array(t)].map((s,u)=>u);return Qe.shuffle(f,o).slice(0,i)}};Qe.chooseFragments=x6});var la=D(sr=>{"use strict";var d6=sr&&sr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});sr.FountainEncoderPart=void 0;var Nt=d6(Or()),yn=Pt(),p6=ua(),ax=A0(),Fi=class e{constructor(t,r,n,o,i){this._seqNum=t,this._seqLength=r,this._messageLength=n,this._checksum=o,this._fragment=i}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){let t=ax.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return Buffer.from(t)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(t){let[r,n,o,i,f]=ax.cborDecode(t);return Nt.default(typeof r=="number"),Nt.default(typeof n=="number"),Nt.default(typeof o=="number"),Nt.default(typeof i=="number"),Nt.default(Buffer.isBuffer(f)&&f.length>0),new e(r,n,o,i,Buffer.from(f))}};sr.FountainEncoderPart=Fi;var ca=class e{constructor(t,r=100,n=0,o=10){let i=e.findNominalFragmentLength(t.length,o,r);this._messageLength=t.length,this._fragments=e.partitionMessage(t,i),this.fragmentLength=i,this.seqNum=yn.toUint32(n),this.checksum=yn.getCRC(t)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return this._fragments.length===1}seqLength(){return this._fragments.length}mix(t){return t.reduce((r,n)=>yn.bufferXOR(this._fragments[n],r),Buffer.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=yn.toUint32(this.seqNum+1);let t=p6.chooseFragments(this.seqNum,this._fragments.length,this.checksum),r=this.mix(t);return new Fi(this.seqNum,this._fragments.length,this._messageLength,this.checksum,r)}static findNominalFragmentLength(t,r,n){Nt.default(t>0),Nt.default(r>0),Nt.default(n>=r);let o=Math.ceil(t/r),i=0;for(let f=1;f<=o&&(i=Math.ceil(t/f),!(i<=n));f++);return i}static partitionMessage(t,r){let n=Buffer.from(t),o,i=[];for(;n.length>0;)[o,n]=yn.split(n,-r),o=Buffer.alloc(r,0).fill(o,0,o.length),i.push(o);return i}};sr.default=ca});var xa=D(bn=>{"use strict";var g6=bn&&bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bn,"__esModule",{value:!0});var Tr=g6(Or()),Mi=Pt(),y6="ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom",Ni=[],b6=256,Mt=4,m6=2,ut;(function(e){e.STANDARD="standard",e.URI="uri",e.MINIMAL="minimal"})(ut||(ut={}));var ji=e=>y6.slice(e*Mt,e*Mt+Mt),_6=e=>{let t=ji(e);return`${t[0]}${t[Mt-1]}`},fx=e=>{let t=Mi.getCRCHex(Buffer.from(e,"hex"));return`${e}${t}`},sx=(e,t)=>{let r=fx(e);return Buffer.from(r,"hex").reduce((i,f)=>[...i,ji(f)],[]).join(t)},v6=e=>{let t=fx(e);return Buffer.from(t,"hex").reduce((o,i)=>o+_6(i),"")},w6=(e,t)=>{Tr.default(e.length===t,"Invalid Bytewords: word.length does not match wordLength provided");let r=26;if(Ni.length===0){let a=r*r;Ni=[...new Array(a)].map(()=>-1);for(let s=0;s<b6;s++){let u=ji(s),c=u[0].charCodeAt(0)-97,x=(u[3].charCodeAt(0)-97)*r+c;Ni[x]=s}}let n=e[0].toLowerCase().charCodeAt(0)-97,o=e[t==4?3:1].toLowerCase().charCodeAt(0)-97;Tr.default(0<=n&&n<r&&0<=o&&o<r,"Invalid Bytewords: invalid word");let i=o*r+n,f=Ni[i];if(Tr.default(f!==-1,"Invalid Bytewords: value not in lookup table"),t==Mt){let a=ji(f),s=e[1].toLowerCase(),u=e[2].toLowerCase();Tr.default(s===a[1]&&u===a[2],"Invalid Bytewords: invalid middle letters of word")}return Buffer.from([f]).toString("hex")},ha=(e,t,r)=>{let o=(r==Mt?e.split(t):Mi.partition(e,2)).map(s=>w6(s,r)).join("");Tr.default(o.length>=5,"Invalid Bytewords: invalid decoded string length");let[i,f]=Mi.split(Buffer.from(o,"hex"),4),a=Mi.getCRCHex(i);return Tr.default(a===f.toString("hex"),"Invalid Checksum"),i.toString("hex")},B6=(e,t=ut.MINIMAL)=>{switch(t){case ut.STANDARD:return ha(e," ",Mt);case ut.URI:return ha(e,"-",Mt);case ut.MINIMAL:return ha(e,"",m6);default:throw new Error(`Invalid style ${t}`)}},E6=(e,t=ut.MINIMAL)=>{switch(t){case ut.STANDARD:return sx(e," ");case ut.URI:return sx(e,"-");case ut.MINIMAL:return v6(e);default:throw new Error(`Invalid style ${t}`)}};bn.default={decode:B6,encode:E6,STYLES:ut}});var cx=D(mn=>{"use strict";var ux=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mn,"__esModule",{value:!0});var A6=ux(la()),Li=ux(xa()),da=class e{constructor(t,r,n,o){this.ur=t,this.fountainEncoder=new A6.default(t.cbor,r,n,o)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){let t=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?e.encodeSinglePart(this.ur):e.encodePart(this.ur.type,t)}static encodeUri(t,r){let n=r.join("/");return[t,n].join(":")}static encodeUR(t){return e.encodeUri("ur",t)}static encodePart(t,r){let n=`${r.seqNum}-${r.seqLength}`,o=Li.default.encode(r.cbor().toString("hex"),Li.default.STYLES.MINIMAL);return e.encodeUR([t,n,o])}static encodeSinglePart(t){let r=Li.default.encode(t.cbor.toString("hex"),Li.default.STYLES.MINIMAL);return e.encodeUR([t.type,r])}};mn.default=da});var lx=D(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.FountainDecoderPart=void 0;var Pr=Pt(),S6=ua(),I6=Tn(),_n=class e{constructor(t,r){this._indexes=t,this._fragment=r}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(t){let r=S6.chooseFragments(t.seqNum,t.seqLength,t.checksum),n=t.fragment;return new e(r,n)}isSimple(){return this.indexes.length===1}};vn.FountainDecoderPart=_n;var ki=class e{constructor(){this.result=void 0,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(t){if(this.expectedPartIndexes.length===0)[...new Array(t.seqLength)].forEach((r,n)=>this.expectedPartIndexes.push(n)),this.expectedMessageLength=t.messageLength,this.expectedChecksum=t.checksum,this.expectedFragmentLength=t.fragment.length;else if(this.expectedPartIndexes.length!==t.seqLength||this.expectedMessageLength!==t.messageLength||this.expectedChecksum!==t.checksum||this.expectedFragmentLength!==t.fragment.length)return!1;return!0}reducePartByPart(t,r){if(Pr.arrayContains(t.indexes,r.indexes)){let n=Pr.setDifference(t.indexes,r.indexes),o=Pr.bufferXOR(t.fragment,r.fragment);return new _n(n,o)}else return t}reduceMixedBy(t){let r=[];this.mixedParts.map(({value:n})=>this.reducePartByPart(n,t)).forEach(n=>{n.isSimple()?this.queuedParts.push(n):r.push({key:n.indexes,value:n})}),this.mixedParts=r}processSimplePart(t){let r=t.indexes[0];if(!this.receivedPartIndexes.includes(r))if(this.simpleParts.push({key:t.indexes,value:t}),this.receivedPartIndexes.push(r),Pr.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){let n=this.simpleParts.map(({value:f})=>f).sort((f,a)=>f.indexes[0]-a.indexes[0]),o=e.joinFragments(n.map(f=>f.fragment),this.expectedMessageLength);Pr.getCRC(o)===this.expectedChecksum?this.result=o:this.error=new I6.InvalidChecksumError}else this.reduceMixedBy(t)}processMixedPart(t){if(this.mixedParts.some(({key:n})=>Pr.arraysEqual(n,t.indexes)))return;let r=this.simpleParts.reduce((n,{value:o})=>this.reducePartByPart(n,o),t);r=this.mixedParts.reduce((n,{value:o})=>this.reducePartByPart(n,o),r),r.isSimple()?this.queuedParts.push(r):(this.reduceMixedBy(r),this.mixedParts.push({key:r.indexes,value:r}))}processQueuedItem(){if(this.queuedParts.length===0)return;let t=this.queuedParts.shift();t.isSimple()?this.processSimplePart(t):this.processMixedPart(t)}receivePart(t){if(this.isComplete()||!this.validatePart(t))return!1;let r=_n.fromEncoderPart(t);for(this.lastPartIndexes=r.indexes,this.queuedParts.push(r);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return this.result!==void 0&&this.result.length>0}isSuccess(){return!!(this.error===void 0&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:Buffer.from([])}isFailure(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;let t=this.expectedPartCount();return t===0?0:Math.min(.99,this.processedPartsCount/(t*1.75))}getProgress(){if(this.isComplete())return 1;let t=this.expectedPartCount();return t===0?0:this.receivedPartIndexes.length/t}};vn.default=ki;ki.joinFragments=(e,t)=>Buffer.concat(e).slice(0,t)});var hx=D(wn=>{"use strict";var Gi=wn&&wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});var O6=Gi(lx()),Hi=Gi(xa()),D6=Gi(Or()),$i=Pt(),jt=Tn(),pa=Gi(O0()),T6=la(),ga=class e{constructor(t=new O6.default,r="bytes"){this.fountainDecoder=t,this.type=r,D6.default($i.isURType(r),"Invalid UR type"),this.expected_type=""}static decodeBody(t,r){let n=Hi.default.decode(r,Hi.default.STYLES.MINIMAL);return new pa.default(Buffer.from(n,"hex"),t)}validatePart(t){return this.expected_type?this.expected_type===t:$i.isURType(t)?(this.expected_type=t,!0):!1}static decode(t){let[r,n]=this.parse(t);if(n.length===0)throw new jt.InvalidPathLengthError;let o=n[0];return e.decodeBody(r,o)}static parse(t){let r=t.toLowerCase();if(r.slice(0,3)!=="ur:")throw new jt.InvalidSchemeError;let o=r.slice(3).split("/"),i=o[0];if(o.length<2)throw new jt.InvalidPathLengthError;if(!$i.isURType(i))throw new jt.InvalidTypeError;return[i,o.slice(1)]}static parseSequenceComponent(t){let r=t.split("-");if(r.length!==2)throw new jt.InvalidSequenceComponentError;let n=$i.toUint32(Number(r[0])),o=Number(r[1]);if(n<1||o<1)throw new jt.InvalidSequenceComponentError;return[n,o]}receivePart(t){if(this.result!==void 0)return!1;let[r,n]=e.parse(t);if(!this.validatePart(r))return!1;if(n.length===1)return this.result=e.decodeBody(r,n[0]),!0;if(n.length!==2)throw new jt.InvalidPathLengthError;let[o,i]=n,[f,a]=e.parseSequenceComponent(o),s=Hi.default.decode(i,Hi.default.STYLES.MINIMAL),u=T6.FountainEncoderPart.fromCBOR(s);return f!==u.seqNum||a!==u.seqLength||!this.fountainDecoder.receivePart(u)?!1:(this.fountainDecoder.isSuccess()?this.result=new pa.default(this.fountainDecoder.resultMessage(),r):this.fountainDecoder.isFailure()&&(this.error=new jt.InvalidSchemeError),!0)}resultUR(){return this.result?this.result:new pa.default(Buffer.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}};wn.default=ga});var ba=D(gt=>{"use strict";var ya=gt&&gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gt,"__esModule",{value:!0});gt.URDecoder=gt.UREncoder=gt.UR=void 0;var P6=ya(O0());gt.UR=P6.default;var q6=ya(cx());gt.UREncoder=q6.default;var C6=ya(hx());gt.URDecoder=C6.default});var xx=D(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.crypto=void 0;Vi.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Ba=D(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.wrapXOFConstructorWithOpts=z.wrapConstructorWithOpts=z.wrapConstructor=z.Hash=z.nextTick=z.swap32IfBE=z.byteSwapIfBE=z.swap8IfBE=z.isLE=void 0;z.isBytes=px;z.anumber=ma;z.abytes=Cr;z.ahash=R6;z.aexists=U6;z.aoutput=F6;z.u8=N6;z.u32=M6;z.clean=j6;z.createView=L6;z.rotr=k6;z.rotl=H6;z.byteSwap=va;z.byteSwap32=gx;z.bytesToHex=G6;z.hexToBytes=V6;z.asyncLoop=W6;z.utf8ToBytes=wa;z.bytesToUtf8=Y6;z.toBytes=zi;z.kdfInputToBytes=X6;z.concatBytes=J6;z.checkOpts=K6;z.createHasher=bx;z.createOptHasher=mx;z.createXOFer=_x;z.randomBytes=Q6;var qr=xx();function px(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ma(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Cr(e,...t){if(!px(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function R6(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ma(e.outputLen),ma(e.blockLen)}function U6(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function F6(e,t){Cr(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function N6(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function M6(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function j6(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function L6(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function k6(e,t){return e<<32-t|e>>>t}function H6(e,t){return e<<t|e>>>32-t>>>0}z.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function va(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}z.swap8IfBE=z.isLE?e=>e:e=>va(e);z.byteSwapIfBE=z.swap8IfBE;function gx(e){for(let t=0;t<e.length;t++)e[t]=va(e[t]);return e}z.swap32IfBE=z.isLE?e=>e:gx;var yx=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",$6=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function G6(e){if(Cr(e),yx)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=$6[e[r]];return t}var Et={_0:48,_9:57,A:65,F:70,a:97,f:102};function dx(e){if(e>=Et._0&&e<=Et._9)return e-Et._0;if(e>=Et.A&&e<=Et.F)return e-(Et.A-10);if(e>=Et.a&&e<=Et.f)return e-(Et.a-10)}function V6(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(yx)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){let f=dx(e.charCodeAt(i)),a=dx(e.charCodeAt(i+1));if(f===void 0||a===void 0){let s=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+s+'" at index '+i)}n[o]=f*16+a}return n}var z6=async()=>{};z.nextTick=z6;async function W6(e,t,r){let n=Date.now();for(let o=0;o<e;o++){r(o);let i=Date.now()-n;i>=0&&i<t||(await(0,z.nextTick)(),n+=i)}}function wa(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Y6(e){return new TextDecoder().decode(e)}function zi(e){return typeof e=="string"&&(e=wa(e)),Cr(e),e}function X6(e){return typeof e=="string"&&(e=wa(e)),Cr(e),e}function J6(...e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];Cr(o),t+=o.length}let r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let i=e[n];r.set(i,o),o+=i.length}return r}function K6(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(e,t)}var _a=class{};z.Hash=_a;function bx(e){let t=n=>e().update(zi(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function mx(e){let t=(n,o)=>e(o).update(zi(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function _x(e){let t=(n,o)=>e(o).update(zi(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}z.wrapConstructor=bx;z.wrapConstructorWithOpts=mx;z.wrapXOFConstructorWithOpts=_x;function Q6(e=32){if(qr.crypto&&typeof qr.crypto.getRandomValues=="function")return qr.crypto.getRandomValues(new Uint8Array(e));if(qr.crypto&&typeof qr.crypto.randomBytes=="function")return Uint8Array.from(qr.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}});var wx=D(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.SHA512_IV=Ue.SHA384_IV=Ue.SHA224_IV=Ue.SHA256_IV=Ue.HashMD=void 0;Ue.setBigUint64=vx;Ue.Chi=Z6;Ue.Maj=em;var yt=Ba();function vx(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),i=BigInt(4294967295),f=Number(r>>o&i),a=Number(r&i),s=n?4:0,u=n?0:4;e.setUint32(t+s,f,n),e.setUint32(t+u,a,n)}function Z6(e,t,r){return e&t^~e&r}function em(e,t,r){return e&t^e&r^t&r}var Ea=class extends yt.Hash{constructor(t,r,n,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=o,this.buffer=new Uint8Array(t),this.view=(0,yt.createView)(this.buffer)}update(t){(0,yt.aexists)(this),t=(0,yt.toBytes)(t),(0,yt.abytes)(t);let{view:r,buffer:n,blockLen:o}=this,i=t.length;for(let f=0;f<i;){let a=Math.min(o-this.pos,i-f);if(a===o){let s=(0,yt.createView)(t);for(;o<=i-f;f+=o)this.process(s,f);continue}n.set(t.subarray(f,f+a),this.pos),this.pos+=a,f+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,yt.aexists)(this),(0,yt.aoutput)(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:f}=this;r[f++]=128,(0,yt.clean)(this.buffer.subarray(f)),this.padOffset>o-f&&(this.process(n,0),f=0);for(let l=f;l<o;l++)r[l]=0;vx(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,yt.createView)(t),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=s/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)a.setUint32(4*l,c[l],i)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:f,pos:a}=this;return t.destroyed=f,t.finished=i,t.length=o,t.pos=a,o%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}};Ue.HashMD=Ea;Ue.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Ue.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Ue.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Ue.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209])});var Gx=D(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.toBig=X.shrSL=X.shrSH=X.rotrSL=X.rotrSH=X.rotrBL=X.rotrBH=X.rotr32L=X.rotr32H=X.rotlSL=X.rotlSH=X.rotlBL=X.rotlBH=X.add5L=X.add5H=X.add4L=X.add4H=X.add3L=X.add3H=void 0;X.add=Nx;X.fromBig=Sa;X.split=Bx;var Wi=BigInt(2**32-1),Aa=BigInt(32);function Sa(e,t=!1){return t?{h:Number(e&Wi),l:Number(e>>Aa&Wi)}:{h:Number(e>>Aa&Wi)|0,l:Number(e&Wi)|0}}function Bx(e,t=!1){let r=e.length,n=new Uint32Array(r),o=new Uint32Array(r);for(let i=0;i<r;i++){let{h:f,l:a}=Sa(e[i],t);[n[i],o[i]]=[f,a]}return[n,o]}var Ex=(e,t)=>BigInt(e>>>0)<<Aa|BigInt(t>>>0);X.toBig=Ex;var Ax=(e,t,r)=>e>>>r;X.shrSH=Ax;var Sx=(e,t,r)=>e<<32-r|t>>>r;X.shrSL=Sx;var Ix=(e,t,r)=>e>>>r|t<<32-r;X.rotrSH=Ix;var Ox=(e,t,r)=>e<<32-r|t>>>r;X.rotrSL=Ox;var Dx=(e,t,r)=>e<<64-r|t>>>r-32;X.rotrBH=Dx;var Tx=(e,t,r)=>e>>>r-32|t<<64-r;X.rotrBL=Tx;var Px=(e,t)=>t;X.rotr32H=Px;var qx=(e,t)=>e;X.rotr32L=qx;var Cx=(e,t,r)=>e<<r|t>>>32-r;X.rotlSH=Cx;var Rx=(e,t,r)=>t<<r|e>>>32-r;X.rotlSL=Rx;var Ux=(e,t,r)=>t<<r-32|e>>>64-r;X.rotlBH=Ux;var Fx=(e,t,r)=>e<<r-32|t>>>64-r;X.rotlBL=Fx;function Nx(e,t,r,n){let o=(t>>>0)+(n>>>0);return{h:e+r+(o/2**32|0)|0,l:o|0}}var Mx=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);X.add3L=Mx;var jx=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;X.add3H=jx;var Lx=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);X.add4L=Lx;var kx=(e,t,r,n,o)=>t+r+n+o+(e/2**32|0)|0;X.add4H=kx;var Hx=(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0);X.add5L=Hx;var $x=(e,t,r,n,o,i)=>t+r+n+o+i+(e/2**32|0)|0;X.add5H=$x;var tm={fromBig:Sa,split:Bx,toBig:Ex,shrSH:Ax,shrSL:Sx,rotrSH:Ix,rotrSL:Ox,rotrBH:Dx,rotrBL:Tx,rotr32H:Px,rotr32L:qx,rotlSH:Cx,rotlSL:Rx,rotlBH:Ux,rotlBL:Fx,add:Nx,add3L:Mx,add3H:jx,add4L:Lx,add4H:kx,add5H:$x,add5L:Hx};X.default=tm});var zx=D(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.sha512_224=ce.sha512_256=ce.sha384=ce.sha512=ce.sha224=ce.sha256=ce.SHA512_256=ce.SHA512_224=ce.SHA384=ce.SHA512=ce.SHA224=ce.SHA256=void 0;var V=wx(),K=Gx(),pe=Ba(),rm=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Lt=new Uint32Array(64),Bn=class extends V.HashMD{constructor(t=32){super(64,t,8,!1),this.A=V.SHA256_IV[0]|0,this.B=V.SHA256_IV[1]|0,this.C=V.SHA256_IV[2]|0,this.D=V.SHA256_IV[3]|0,this.E=V.SHA256_IV[4]|0,this.F=V.SHA256_IV[5]|0,this.G=V.SHA256_IV[6]|0,this.H=V.SHA256_IV[7]|0}get(){let{A:t,B:r,C:n,D:o,E:i,F:f,G:a,H:s}=this;return[t,r,n,o,i,f,a,s]}set(t,r,n,o,i,f,a,s){this.A=t|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=f|0,this.G=a|0,this.H=s|0}process(t,r){for(let l=0;l<16;l++,r+=4)Lt[l]=t.getUint32(r,!1);for(let l=16;l<64;l++){let x=Lt[l-15],g=Lt[l-2],v=(0,pe.rotr)(x,7)^(0,pe.rotr)(x,18)^x>>>3,E=(0,pe.rotr)(g,17)^(0,pe.rotr)(g,19)^g>>>10;Lt[l]=E+Lt[l-7]+v+Lt[l-16]|0}let{A:n,B:o,C:i,D:f,E:a,F:s,G:u,H:c}=this;for(let l=0;l<64;l++){let x=(0,pe.rotr)(a,6)^(0,pe.rotr)(a,11)^(0,pe.rotr)(a,25),g=c+x+(0,V.Chi)(a,s,u)+rm[l]+Lt[l]|0,E=((0,pe.rotr)(n,2)^(0,pe.rotr)(n,13)^(0,pe.rotr)(n,22))+(0,V.Maj)(n,o,i)|0;c=u,u=s,s=a,a=f+g|0,f=i,i=o,o=n,n=g+E|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,f=f+this.D|0,a=a+this.E|0,s=s+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(n,o,i,f,a,s,u,c)}roundClean(){(0,pe.clean)(Lt)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,pe.clean)(this.buffer)}};ce.SHA256=Bn;var Yi=class extends Bn{constructor(){super(28),this.A=V.SHA224_IV[0]|0,this.B=V.SHA224_IV[1]|0,this.C=V.SHA224_IV[2]|0,this.D=V.SHA224_IV[3]|0,this.E=V.SHA224_IV[4]|0,this.F=V.SHA224_IV[5]|0,this.G=V.SHA224_IV[6]|0,this.H=V.SHA224_IV[7]|0}};ce.SHA224=Yi;var Vx=K.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),nm=Vx[0],im=Vx[1],kt=new Uint32Array(80),Ht=new Uint32Array(80),fr=class extends V.HashMD{constructor(t=64){super(128,t,16,!1),this.Ah=V.SHA512_IV[0]|0,this.Al=V.SHA512_IV[1]|0,this.Bh=V.SHA512_IV[2]|0,this.Bl=V.SHA512_IV[3]|0,this.Ch=V.SHA512_IV[4]|0,this.Cl=V.SHA512_IV[5]|0,this.Dh=V.SHA512_IV[6]|0,this.Dl=V.SHA512_IV[7]|0,this.Eh=V.SHA512_IV[8]|0,this.El=V.SHA512_IV[9]|0,this.Fh=V.SHA512_IV[10]|0,this.Fl=V.SHA512_IV[11]|0,this.Gh=V.SHA512_IV[12]|0,this.Gl=V.SHA512_IV[13]|0,this.Hh=V.SHA512_IV[14]|0,this.Hl=V.SHA512_IV[15]|0}get(){let{Ah:t,Al:r,Bh:n,Bl:o,Ch:i,Cl:f,Dh:a,Dl:s,Eh:u,El:c,Fh:l,Fl:x,Gh:g,Gl:v,Hh:E,Hl:C}=this;return[t,r,n,o,i,f,a,s,u,c,l,x,g,v,E,C]}set(t,r,n,o,i,f,a,s,u,c,l,x,g,v,E,C){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=f|0,this.Dh=a|0,this.Dl=s|0,this.Eh=u|0,this.El=c|0,this.Fh=l|0,this.Fl=x|0,this.Gh=g|0,this.Gl=v|0,this.Hh=E|0,this.Hl=C|0}process(t,r){for(let F=0;F<16;F++,r+=4)kt[F]=t.getUint32(r),Ht[F]=t.getUint32(r+=4);for(let F=16;F<80;F++){let M=kt[F-15]|0,d=Ht[F-15]|0,b=K.rotrSH(M,d,1)^K.rotrSH(M,d,8)^K.shrSH(M,d,7),h=K.rotrSL(M,d,1)^K.rotrSL(M,d,8)^K.shrSL(M,d,7),y=kt[F-2]|0,_=Ht[F-2]|0,j=K.rotrSH(y,_,19)^K.rotrBH(y,_,61)^K.shrSH(y,_,6),H=K.rotrSL(y,_,19)^K.rotrBL(y,_,61)^K.shrSL(y,_,6),Y=K.add4L(h,H,Ht[F-7],Ht[F-16]),te=K.add4H(Y,b,j,kt[F-7],kt[F-16]);kt[F]=te|0,Ht[F]=Y|0}let{Ah:n,Al:o,Bh:i,Bl:f,Ch:a,Cl:s,Dh:u,Dl:c,Eh:l,El:x,Fh:g,Fl:v,Gh:E,Gl:C,Hh:I,Hl:q}=this;for(let F=0;F<80;F++){let M=K.rotrSH(l,x,14)^K.rotrSH(l,x,18)^K.rotrBH(l,x,41),d=K.rotrSL(l,x,14)^K.rotrSL(l,x,18)^K.rotrBL(l,x,41),b=l&g^~l&E,h=x&v^~x&C,y=K.add5L(q,d,h,im[F],Ht[F]),_=K.add5H(y,I,M,b,nm[F],kt[F]),j=y|0,H=K.rotrSH(n,o,28)^K.rotrBH(n,o,34)^K.rotrBH(n,o,39),Y=K.rotrSL(n,o,28)^K.rotrBL(n,o,34)^K.rotrBL(n,o,39),te=n&i^n&a^i&a,J=o&f^o&s^f&s;I=E|0,q=C|0,E=g|0,C=v|0,g=l|0,v=x|0,{h:l,l:x}=K.add(u|0,c|0,_|0,j|0),u=a|0,c=s|0,a=i|0,s=f|0,i=n|0,f=o|0;let le=K.add3L(j,Y,J);n=K.add3H(le,_,H,te),o=le|0}({h:n,l:o}=K.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:f}=K.add(this.Bh|0,this.Bl|0,i|0,f|0),{h:a,l:s}=K.add(this.Ch|0,this.Cl|0,a|0,s|0),{h:u,l:c}=K.add(this.Dh|0,this.Dl|0,u|0,c|0),{h:l,l:x}=K.add(this.Eh|0,this.El|0,l|0,x|0),{h:g,l:v}=K.add(this.Fh|0,this.Fl|0,g|0,v|0),{h:E,l:C}=K.add(this.Gh|0,this.Gl|0,E|0,C|0),{h:I,l:q}=K.add(this.Hh|0,this.Hl|0,I|0,q|0),this.set(n,o,i,f,a,s,u,c,l,x,g,v,E,C,I,q)}roundClean(){(0,pe.clean)(kt,Ht)}destroy(){(0,pe.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};ce.SHA512=fr;var Xi=class extends fr{constructor(){super(48),this.Ah=V.SHA384_IV[0]|0,this.Al=V.SHA384_IV[1]|0,this.Bh=V.SHA384_IV[2]|0,this.Bl=V.SHA384_IV[3]|0,this.Ch=V.SHA384_IV[4]|0,this.Cl=V.SHA384_IV[5]|0,this.Dh=V.SHA384_IV[6]|0,this.Dl=V.SHA384_IV[7]|0,this.Eh=V.SHA384_IV[8]|0,this.El=V.SHA384_IV[9]|0,this.Fh=V.SHA384_IV[10]|0,this.Fl=V.SHA384_IV[11]|0,this.Gh=V.SHA384_IV[12]|0,this.Gl=V.SHA384_IV[13]|0,this.Hh=V.SHA384_IV[14]|0,this.Hl=V.SHA384_IV[15]|0}};ce.SHA384=Xi;var Ie=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),Oe=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),Ji=class extends fr{constructor(){super(28),this.Ah=Ie[0]|0,this.Al=Ie[1]|0,this.Bh=Ie[2]|0,this.Bl=Ie[3]|0,this.Ch=Ie[4]|0,this.Cl=Ie[5]|0,this.Dh=Ie[6]|0,this.Dl=Ie[7]|0,this.Eh=Ie[8]|0,this.El=Ie[9]|0,this.Fh=Ie[10]|0,this.Fl=Ie[11]|0,this.Gh=Ie[12]|0,this.Gl=Ie[13]|0,this.Hh=Ie[14]|0,this.Hl=Ie[15]|0}};ce.SHA512_224=Ji;var Ki=class extends fr{constructor(){super(32),this.Ah=Oe[0]|0,this.Al=Oe[1]|0,this.Bh=Oe[2]|0,this.Bl=Oe[3]|0,this.Ch=Oe[4]|0,this.Cl=Oe[5]|0,this.Dh=Oe[6]|0,this.Dl=Oe[7]|0,this.Eh=Oe[8]|0,this.El=Oe[9]|0,this.Fh=Oe[10]|0,this.Fl=Oe[11]|0,this.Gh=Oe[12]|0,this.Gl=Oe[13]|0,this.Hh=Oe[14]|0,this.Hl=Oe[15]|0}};ce.SHA512_256=Ki;ce.sha256=(0,pe.createHasher)(()=>new Bn);ce.sha224=(0,pe.createHasher)(()=>new Yi);ce.sha512=(0,pe.createHasher)(()=>new fr);ce.sha384=(0,pe.createHasher)(()=>new Xi);ce.sha512_256=(0,pe.createHasher)(()=>new Ki);ce.sha512_224=(0,pe.createHasher)(()=>new Ji)});var Wx=D(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.sha224=bt.SHA224=bt.sha256=bt.SHA256=void 0;var Qi=zx();bt.SHA256=Qi.SHA256;bt.sha256=Qi.sha256;bt.SHA224=Qi.SHA224;bt.sha224=Qi.sha224});var Xx=D((ev,Yx)=>{"use strict";function om(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=n}var f=e.length,a=e.charAt(0),s=Math.log(f)/Math.log(256),u=Math.log(256)/Math.log(f);function c(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var v=0,E=0,C=0,I=g.length;C!==I&&g[C]===0;)C++,v++;for(var q=(I-C)*u+1>>>0,F=new Uint8Array(q);C!==I;){for(var M=g[C],d=0,b=q-1;(M!==0||d<E)&&b!==-1;b--,d++)M+=256*F[b]>>>0,F[b]=M%f>>>0,M=M/f>>>0;if(M!==0)throw new Error("Non-zero carry");E=d,C++}for(var h=q-E;h!==q&&F[h]===0;)h++;for(var y=a.repeat(v);h<q;++h)y+=e.charAt(F[h]);return y}function l(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;for(var v=0,E=0,C=0;g[v]===a;)E++,v++;for(var I=(g.length-v)*s+1>>>0,q=new Uint8Array(I);g[v];){var F=g.charCodeAt(v);if(F>255)return;var M=t[F];if(M===255)return;for(var d=0,b=I-1;(M!==0||d<C)&&b!==-1;b--,d++)M+=f*q[b]>>>0,q[b]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");C=d,v++}for(var h=I-C;h!==I&&q[h]===0;)h++;for(var y=new Uint8Array(E+(I-h)),_=E;h!==I;)y[_++]=q[h++];return y}function x(g){var v=l(g);if(v)return v;throw new Error("Non-base"+f+" character")}return{encode:c,decodeUnsafe:l,decode:x}}Yx.exports=om});var Kx=D((tv,Jx)=>{var am=Xx(),sm="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Jx.exports=am(sm)});var Zx=D((rv,Qx)=>{"use strict";var Ia=Kx();Qx.exports=function(e){function t(i){var f=Uint8Array.from(i),a=e(f),s=f.length+4,u=new Uint8Array(s);return u.set(f,0),u.set(a.subarray(0,4),f.length),Ia.encode(u,s)}function r(i){var f=i.slice(0,-4),a=i.slice(-4),s=e(f);if(!(a[0]^s[0]|a[1]^s[1]|a[2]^s[2]|a[3]^s[3]))return f}function n(i){var f=Ia.decodeUnsafe(i);if(f)return r(f)}function o(i){var f=Ia.decode(i),a=r(f,e);if(!a)throw new Error("Invalid checksum");return a}return{encode:t,decode:o,decodeUnsafe:n}}});var rd=D((nv,td)=>{"use strict";var{sha256:ed}=Wx(),fm=Zx();function um(e){return ed(ed(e))}td.exports=fm(um)});var Da=D(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.default=lm;var Zi,cm=new Uint8Array(16);function lm(){if(!Zi&&(Zi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zi(cm)}});var nd=D(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.default=void 0;var hm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;eo.default=hm});var En=D(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.default=void 0;var xm=dm(nd());function dm(e){return e&&e.__esModule?e:{default:e}}function pm(e){return typeof e=="string"&&xm.default.test(e)}var gm=pm;to.default=gm});var Sn=D(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.default=void 0;An.unsafeStringify=id;var ym=bm(En());function bm(e){return e&&e.__esModule?e:{default:e}}var Ae=[];for(let e=0;e<256;++e)Ae.push((e+256).toString(16).slice(1));function id(e,t=0){return Ae[e[t+0]]+Ae[e[t+1]]+Ae[e[t+2]]+Ae[e[t+3]]+"-"+Ae[e[t+4]]+Ae[e[t+5]]+"-"+Ae[e[t+6]]+Ae[e[t+7]]+"-"+Ae[e[t+8]]+Ae[e[t+9]]+"-"+Ae[e[t+10]]+Ae[e[t+11]]+Ae[e[t+12]]+Ae[e[t+13]]+Ae[e[t+14]]+Ae[e[t+15]]}function mm(e,t=0){let r=id(e,t);if(!(0,ym.default)(r))throw TypeError("Stringified UUID is invalid");return r}var _m=mm;An.default=_m});var ad=D(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.default=void 0;var vm=Bm(Da()),wm=Sn();function Bm(e){return e&&e.__esModule?e:{default:e}}var od,Ta,Pa=0,qa=0;function Em(e,t,r){let n=t&&r||0,o=t||new Array(16);e=e||{};let i=e.node||od,f=e.clockseq!==void 0?e.clockseq:Ta;if(i==null||f==null){let x=e.random||(e.rng||vm.default)();i==null&&(i=od=[x[0]|1,x[1],x[2],x[3],x[4],x[5]]),f==null&&(f=Ta=(x[6]<<8|x[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),s=e.nsecs!==void 0?e.nsecs:qa+1,u=a-Pa+(s-qa)/1e4;if(u<0&&e.clockseq===void 0&&(f=f+1&16383),(u<0||a>Pa)&&e.nsecs===void 0&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Pa=a,qa=s,Ta=f,a+=122192928e5;let c=((a&268435455)*1e4+s)%4294967296;o[n++]=c>>>24&255,o[n++]=c>>>16&255,o[n++]=c>>>8&255,o[n++]=c&255;let l=a/4294967296*1e4&268435455;o[n++]=l>>>8&255,o[n++]=l&255,o[n++]=l>>>24&15|16,o[n++]=l>>>16&255,o[n++]=f>>>8|128,o[n++]=f&255;for(let x=0;x<6;++x)o[n+x]=i[x];return t||(0,wm.unsafeStringify)(o)}var Am=Em;ro.default=Am});var Ca=D(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.default=void 0;var Sm=Im(En());function Im(e){return e&&e.__esModule?e:{default:e}}function Om(e){if(!(0,Sm.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Dm=Om;no.default=Dm});var Ra=D(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.URL=ur.DNS=void 0;ur.default=Rm;var Tm=Sn(),Pm=qm(Ca());function qm(e){return e&&e.__esModule?e:{default:e}}function Cm(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var sd="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ur.DNS=sd;var fd="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ur.URL=fd;function Rm(e,t,r){function n(o,i,f,a){var s;if(typeof o=="string"&&(o=Cm(o)),typeof i=="string"&&(i=(0,Pm.default)(i)),((s=i)===null||s===void 0?void 0:s.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+o.length);if(u.set(i),u.set(o,i.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,f){a=a||0;for(let c=0;c<16;++c)f[a+c]=u[c];return f}return(0,Tm.unsafeStringify)(u)}try{n.name=e}catch{}return n.DNS=sd,n.URL=fd,n}});var cd=D(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.default=void 0;function Um(e){if(typeof e=="string"){let t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return Fm(Nm(Mm(e),e.length*8))}function Fm(e){let t=[],r=e.length*32,n="0123456789abcdef";for(let o=0;o<r;o+=8){let i=e[o>>5]>>>o%32&255,f=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(f)}return t}function ud(e){return(e+64>>>9<<4)+14+1}function Nm(e,t){e[t>>5]|=128<<t%32,e[ud(t)-1]=t;let r=1732584193,n=-271733879,o=-1732584194,i=271733878;for(let f=0;f<e.length;f+=16){let a=r,s=n,u=o,c=i;r=De(r,n,o,i,e[f],7,-680876936),i=De(i,r,n,o,e[f+1],12,-389564586),o=De(o,i,r,n,e[f+2],17,606105819),n=De(n,o,i,r,e[f+3],22,-1044525330),r=De(r,n,o,i,e[f+4],7,-176418897),i=De(i,r,n,o,e[f+5],12,1200080426),o=De(o,i,r,n,e[f+6],17,-1473231341),n=De(n,o,i,r,e[f+7],22,-45705983),r=De(r,n,o,i,e[f+8],7,1770035416),i=De(i,r,n,o,e[f+9],12,-1958414417),o=De(o,i,r,n,e[f+10],17,-42063),n=De(n,o,i,r,e[f+11],22,-1990404162),r=De(r,n,o,i,e[f+12],7,1804603682),i=De(i,r,n,o,e[f+13],12,-40341101),o=De(o,i,r,n,e[f+14],17,-1502002290),n=De(n,o,i,r,e[f+15],22,1236535329),r=Te(r,n,o,i,e[f+1],5,-165796510),i=Te(i,r,n,o,e[f+6],9,-1069501632),o=Te(o,i,r,n,e[f+11],14,643717713),n=Te(n,o,i,r,e[f],20,-373897302),r=Te(r,n,o,i,e[f+5],5,-701558691),i=Te(i,r,n,o,e[f+10],9,38016083),o=Te(o,i,r,n,e[f+15],14,-660478335),n=Te(n,o,i,r,e[f+4],20,-405537848),r=Te(r,n,o,i,e[f+9],5,568446438),i=Te(i,r,n,o,e[f+14],9,-1019803690),o=Te(o,i,r,n,e[f+3],14,-187363961),n=Te(n,o,i,r,e[f+8],20,1163531501),r=Te(r,n,o,i,e[f+13],5,-1444681467),i=Te(i,r,n,o,e[f+2],9,-51403784),o=Te(o,i,r,n,e[f+7],14,1735328473),n=Te(n,o,i,r,e[f+12],20,-1926607734),r=Pe(r,n,o,i,e[f+5],4,-378558),i=Pe(i,r,n,o,e[f+8],11,-2022574463),o=Pe(o,i,r,n,e[f+11],16,1839030562),n=Pe(n,o,i,r,e[f+14],23,-35309556),r=Pe(r,n,o,i,e[f+1],4,-1530992060),i=Pe(i,r,n,o,e[f+4],11,1272893353),o=Pe(o,i,r,n,e[f+7],16,-155497632),n=Pe(n,o,i,r,e[f+10],23,-1094730640),r=Pe(r,n,o,i,e[f+13],4,681279174),i=Pe(i,r,n,o,e[f],11,-358537222),o=Pe(o,i,r,n,e[f+3],16,-722521979),n=Pe(n,o,i,r,e[f+6],23,76029189),r=Pe(r,n,o,i,e[f+9],4,-640364487),i=Pe(i,r,n,o,e[f+12],11,-421815835),o=Pe(o,i,r,n,e[f+15],16,530742520),n=Pe(n,o,i,r,e[f+2],23,-995338651),r=qe(r,n,o,i,e[f],6,-198630844),i=qe(i,r,n,o,e[f+7],10,1126891415),o=qe(o,i,r,n,e[f+14],15,-1416354905),n=qe(n,o,i,r,e[f+5],21,-57434055),r=qe(r,n,o,i,e[f+12],6,1700485571),i=qe(i,r,n,o,e[f+3],10,-1894986606),o=qe(o,i,r,n,e[f+10],15,-1051523),n=qe(n,o,i,r,e[f+1],21,-2054922799),r=qe(r,n,o,i,e[f+8],6,1873313359),i=qe(i,r,n,o,e[f+15],10,-30611744),o=qe(o,i,r,n,e[f+6],15,-1560198380),n=qe(n,o,i,r,e[f+13],21,1309151649),r=qe(r,n,o,i,e[f+4],6,-145523070),i=qe(i,r,n,o,e[f+11],10,-1120210379),o=qe(o,i,r,n,e[f+2],15,718787259),n=qe(n,o,i,r,e[f+9],21,-343485551),r=$t(r,a),n=$t(n,s),o=$t(o,u),i=$t(i,c)}return[r,n,o,i]}function Mm(e){if(e.length===0)return[];let t=e.length*8,r=new Uint32Array(ud(t));for(let n=0;n<t;n+=8)r[n>>5]|=(e[n/8]&255)<<n%32;return r}function $t(e,t){let r=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(r>>16)<<16|r&65535}function jm(e,t){return e<<t|e>>>32-t}function io(e,t,r,n,o,i){return $t(jm($t($t(t,e),$t(n,i)),o),r)}function De(e,t,r,n,o,i,f){return io(t&r|~t&n,e,t,o,i,f)}function Te(e,t,r,n,o,i,f){return io(t&n|r&~n,e,t,o,i,f)}function Pe(e,t,r,n,o,i,f){return io(t^r^n,e,t,o,i,f)}function qe(e,t,r,n,o,i,f){return io(r^(t|~n),e,t,o,i,f)}var Lm=Um;oo.default=Lm});var hd=D(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.default=void 0;var km=ld(Ra()),Hm=ld(cd());function ld(e){return e&&e.__esModule?e:{default:e}}var $m=(0,km.default)("v3",48,Hm.default),Gm=$m;ao.default=Gm});var xd=D(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.default=void 0;var Vm=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zm={randomUUID:Vm};so.default=zm});var gd=D(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.default=void 0;var dd=pd(xd()),Wm=pd(Da()),Ym=Sn();function pd(e){return e&&e.__esModule?e:{default:e}}function Xm(e,t,r){if(dd.default.randomUUID&&!t&&!e)return dd.default.randomUUID();e=e||{};let n=e.random||(e.rng||Wm.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return(0,Ym.unsafeStringify)(n)}var Jm=Xm;fo.default=Jm});var yd=D(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.default=void 0;function Km(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function Ua(e,t){return e<<t|e>>>32-t}function Qm(e){let t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let f=unescape(encodeURIComponent(e));e=[];for(let a=0;a<f.length;++a)e.push(f.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let n=e.length/4+2,o=Math.ceil(n/16),i=new Array(o);for(let f=0;f<o;++f){let a=new Uint32Array(16);for(let s=0;s<16;++s)a[s]=e[f*64+s*4]<<24|e[f*64+s*4+1]<<16|e[f*64+s*4+2]<<8|e[f*64+s*4+3];i[f]=a}i[o-1][14]=(e.length-1)*8/Math.pow(2,32),i[o-1][14]=Math.floor(i[o-1][14]),i[o-1][15]=(e.length-1)*8&4294967295;for(let f=0;f<o;++f){let a=new Uint32Array(80);for(let g=0;g<16;++g)a[g]=i[f][g];for(let g=16;g<80;++g)a[g]=Ua(a[g-3]^a[g-8]^a[g-14]^a[g-16],1);let s=r[0],u=r[1],c=r[2],l=r[3],x=r[4];for(let g=0;g<80;++g){let v=Math.floor(g/20),E=Ua(s,5)+Km(v,u,c,l)+x+t[v]+a[g]>>>0;x=l,l=c,c=Ua(u,30)>>>0,u=s,s=E}r[0]=r[0]+s>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+c>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+x>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var Zm=Qm;uo.default=Zm});var md=D(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.default=void 0;var e4=bd(Ra()),t4=bd(yd());function bd(e){return e&&e.__esModule?e:{default:e}}var r4=(0,e4.default)("v5",80,t4.default),n4=r4;co.default=n4});var _d=D(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.default=void 0;var i4="00000000-0000-0000-0000-000000000000";lo.default=i4});var vd=D(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.default=void 0;var o4=a4(En());function a4(e){return e&&e.__esModule?e:{default:e}}function s4(e){if(!(0,o4.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var f4=s4;ho.default=f4});var wd=D(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});Object.defineProperty(ct,"NIL",{enumerable:!0,get:function(){return x4.default}});Object.defineProperty(ct,"parse",{enumerable:!0,get:function(){return y4.default}});Object.defineProperty(ct,"stringify",{enumerable:!0,get:function(){return g4.default}});Object.defineProperty(ct,"v1",{enumerable:!0,get:function(){return u4.default}});Object.defineProperty(ct,"v3",{enumerable:!0,get:function(){return c4.default}});Object.defineProperty(ct,"v4",{enumerable:!0,get:function(){return l4.default}});Object.defineProperty(ct,"v5",{enumerable:!0,get:function(){return h4.default}});Object.defineProperty(ct,"validate",{enumerable:!0,get:function(){return p4.default}});Object.defineProperty(ct,"version",{enumerable:!0,get:function(){return d4.default}});var u4=At(ad()),c4=At(hd()),l4=At(gd()),h4=At(md()),x4=At(_d()),d4=At(vd()),p4=At(En()),g4=At(Sn()),y4=At(Ca());function At(e){return e&&e.__esModule?e:{default:e}}});var Ad=D(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});var In=ba(),b4=rd(),m4=wd();function _4(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var v4=_4(m4),Fe=class{constructor(t,r){this.tag=t,this.expression=r,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Fe.fromTag=e=>Object.values(On).find(r=>r.getTag()===e);var On={SCRIPT_HASH:new Fe(400,"sh"),WITNESS_SCRIPT_HASH:new Fe(401,"wsh"),PUBLIC_KEY:new Fe(402,"pk"),PUBLIC_KEY_HASH:new Fe(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Fe(404,"wpkh"),COMBO:new Fe(405,"combo"),MULTISIG:new Fe(406,"multi"),SORTED_MULTISIG:new Fe(407,"sortedmulti"),ADDRESS:new Fe(307,"addr"),RAW_SCRIPT:new Fe(408,"raw")},w4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B4(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Ne={exports:{}},ye=class{constructor(t,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=t,this.tag=r}},E4=Object.freeze({__proto__:null,DataItem:ye}),A4=B4(E4);(function(e){(function(t,r){e.exports?e.exports=r():t.CBOR=r()})(w4,()=>{let{DataItem:t}=A4,r=(function(){function n(h){this.$hex=h}n.prototype={length(){return this.$hex.length/2},toString(h){if(!h||h==="hex"||h===16)return this.$hex;if(h==="utf-8"){for(var y="",_=0;_<this.$hex.length;_+=2)y+=`%${this.$hex.substring(_,_+2)}`;return decodeURIComponent(y)}if(h==="latin"){for(var y=[],_=0;_<this.$hex.length;_+=2)y.push(parseInt(this.$hex.substring(_,_+2),16));return String.fromCharCode.apply(String,y)}throw new Error(`Unrecognised format: ${h}`)}},n.fromLatinString=function(h){let y="";for(let _=0;_<h.length;_++){let j=h.charCodeAt(_).toString(16);j.length===1&&(j=`0${j}`),y+=j}return new n(y)},n.fromUtf8String=function(h){let y=encodeURIComponent(h),_="";for(let j=0;j<y.length;j++)if(y.charAt(j)==="%")_+=y.substring(j+1,j+3),j+=2;else{let H=y.charCodeAt(j).toString(16);H.length<2&&(H=`0${H}`),_+=H}return new n(_)};let o=[],i={},f=function(h){return function(){throw new Error(`${h} not implemented`)}};function a(){}a.prototype={peekByte:f("peekByte"),readByte:f("readByte"),readChunk:f("readChunk"),readFloat16(){let h=this.readUint16(),y=(h&32767)>>10,_=h&1023,j=h&32768;if(y===31)return _===0?j?-1/0:1/0:NaN;let H=y?2**(y-25)*(1024+_):2**-24*_;return j?-H:H},readFloat32(){let h=this.readUint32(),y=(h&2147483647)>>23,_=h&8388607,j=h&2147483648;if(y===255)return _===0?j?-1/0:1/0:NaN;let H=y?2**(y-23-127)*(8388608+_):2**-149*_;return j?-H:H},readFloat64(){let h=this.readUint32(),y=this.readUint32(),_=h>>20&2047,j=(h&1048575)*4294967296+y,H=h&2147483648;if(_===2047)return j===0?H?-1/0:1/0:NaN;let Y=_?2**(_-52-1023)*(4503599627370496+j):2**-1074*j;return H?-Y:Y},readUint16(){return this.readByte()*256+this.readByte()},readUint32(){return this.readUint16()*65536+this.readUint16()},readUint64(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:f("writeByte"),result:f("result"),writeFloat16:f("writeFloat16"),writeFloat32:f("writeFloat32"),writeFloat64:f("writeFloat64"),writeUint16(h){this.writeByte(h>>8&255),this.writeByte(h&255)},writeUint32(h){this.writeUint16(h>>16&65535),this.writeUint16(h&65535)},writeUint64(h){if(h>=9007199254740992||h<=-9007199254740992)throw new Error(`Cannot encode Uint64 of: ${h} magnitude to big (floating point errors)`);this.writeUint32(Math.floor(h/4294967296)),this.writeUint32(h%4294967296)},writeString:f("writeString"),canWriteBinary(h){return!1},writeBinary:f("writeChunk")};function u(h){let y=h.readByte(),_=y>>5,j=y&31;return{type:_,value:j}}function c(h,y){let{value:_}=h;if(_<24)return _;if(_==24)return y.readByte();if(_==25)return y.readUint16();if(_==26)return y.readUint32();if(_==27)return y.readUint64();if(_==31)return null;f(`Additional info: ${_}`)()}function l(h,y,_){_.writeByte(h<<5|y)}function x(h,y,_){let j=h<<5;y<24?_.writeByte(j|y):y<256?(_.writeByte(j|24),_.writeByte(y)):y<65536?(_.writeByte(j|25),_.writeUint16(y)):y<4294967296?(_.writeByte(j|26),_.writeUint32(y)):(_.writeByte(j|27),_.writeUint64(y))}let g=new Error;function v(h){let y=u(h);switch(y.type){case 0:return c(y,h);case 1:return-1-c(y,h);case 2:return h.readChunk(c(y,h));case 3:var _=h.readChunk(c(y,h));return _.toString("utf-8");case 4:case 5:var j=c(y,h),J=[];if(j!==null){y.type===5&&(j*=2);for(var H=0;H<j;H++)J[H]=v(h)}else{let le;for(;(le=v(h))!==g;)J.push(le)}if(y.type===5){let le={};for(var H=0;H<J.length;H+=2)le[J[H]]=J[H+1];return le}return J;case 6:var Y=c(y,h),te=i[Y],J=v(h);return te?te(J):J;case 7:if(y.value===25)return h.readFloat16();if(y.value===26)return h.readFloat32();if(y.value===27)return h.readFloat64();switch(c(y,h)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error(`Unknown fixed value: ${y.value}`)}default:throw new Error(`Unsupported header: ${JSON.stringify(y)}`)}throw new Error("not implemented yet")}function E(h,y){for(var _=0;_<o.length;_++){let j=o[_].fn(h);if(j!==void 0)return x(6,o[_].tag,y),E(j,y)}if(h&&typeof h.toCBOR=="function"&&(h=h.toCBOR()),h===!1)x(7,20,y);else if(h===!0)x(7,21,y);else if(h===null)x(7,22,y);else if(h===void 0)x(7,23,y);else if(typeof h=="number")Math.floor(h)===h&&h<9007199254740992&&h>-9007199254740992?h<0?x(1,-1-h,y):x(0,h,y):(l(7,27,y),y.writeFloat64(h));else if(typeof h=="string")y.writeString(h,j=>{x(3,j,y)});else if(y.canWriteBinary(h))y.writeBinary(h,j=>{x(2,j,y)});else if(typeof h=="object")if(q.config.useToJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),Array.isArray(h)){x(4,h.length,y);for(var _=0;_<h.length;_++)E(h[_],y)}else{let j=Object.keys(h);x(5,j.length,y);for(var _=0;_<j.length;_++){let Y=parseInt(j[_]);isNaN(Y)?(E(j[_],y),E(h[j[_]],y)):(E(Y,y),E(h[j[_]],y))}}else throw new Error(`CBOR encoding not supported: ${h}`)}let C=[],I=[];var q={config:{useToJSON:!0},addWriter(h,y){typeof h=="string"?I.push(_=>{if(h===_)return y(_)}):I.push(h)},addReader(h,y){typeof h=="string"?C.push((_,j)=>{if(h===j)return y(_,j)}):C.push(h)},encode(h,y){for(let _=0;_<I.length;_++){let j=I[_],H=j(y);if(H)return E(h,H),H.result()}throw new Error(`Unsupported output format: ${y}`)},encodeDataItem(h,y){for(let _=0;_<I.length;_++){let j=I[_],H=j(y);if(H)return h.getTag()!==void 0?(E(h,H),H.result()):(E(h.getData(),H),H.result())}throw new Error(`Unsupported output format: ${y}`)},decode(h,y){for(let _=0;_<C.length;_++){let j=C[_],H=j(h,y);if(H)return v(H)}throw new Error(`Unsupported input format: ${y}`)},decodeToDataItem(h,y){for(let _=0;_<C.length;_++){let j=C[_],H=j(h,y);if(H){let Y=v(H);return Y instanceof t?Y:new t(Y)}}throw new Error(`Unsupported input format: ${y}`)},addSemanticEncode(h,y){if(typeof h!="number"||h%1!==0||h<0)throw new Error("Tag must be a positive integer");return o.push({tag:h,fn:y}),this},addSemanticDecode(h,y){if(typeof h!="number"||h%1!==0||h<0)throw new Error("Tag must be a positive integer");return i[h]=y,this}};function F(h){this.buffer=h,this.pos=0}F.prototype=Object.create(a.prototype),F.prototype.consume=function(h){let y=this.pos;if(this.pos+=h,this.pos>this.buffer.length)throw new Error("Unexpected end of input");return y},F.prototype.peekByte=function(){return this.buffer[this.pos]},F.prototype.readByte=function(){return this.buffer[this.consume(1)]},F.prototype.readUint16=function(){return this.buffer.readUInt16BE(this.consume(2))},F.prototype.readUint32=function(){return this.buffer.readUInt32BE(this.consume(4))},F.prototype.readFloat32=function(){return this.buffer.readFloatBE(this.consume(4))},F.prototype.readFloat64=function(){return this.buffer.readDoubleBE(this.consume(8))},F.prototype.readChunk=function(h){let y=this.consume(h),_=Buffer.alloc(h);return this.buffer.copy(_,0,y,y+h),_};function M(h){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=h}M.prototype=Object.create(s.prototype),M.prototype.writeByte=function(h){this.latestBuffer[this.latestBufferOffset++]=h,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},M.prototype.writeFloat32=function(h){let y=Buffer.alloc(4);y.writeFloatBE(h,0),this.writeBuffer(y)},M.prototype.writeFloat64=function(h){let y=Buffer.alloc(8);y.writeDoubleBE(h,0),this.writeBuffer(y)},M.prototype.writeString=function(h,y){let _=Buffer.from(h,"utf-8");y(_.length),this.writeBuffer(_)},M.prototype.canWriteBinary=function(h){return h instanceof Buffer},M.prototype.writeBinary=function(h,y){y(h.length),this.writeBuffer(h)},M.prototype.writeBuffer=function(h){if(!(h instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=h.length?(h.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=h.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(h),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(h),this.byteLength+=h.length},M.prototype.result=function(){let h=Buffer.alloc(this.byteLength),y=0;for(let _=0;_<this.completeBuffers.length;_++){let j=this.completeBuffers[_];j.copy(h,y,0,j.length),y+=j.length}return this.latestBufferOffset&&this.latestBuffer.copy(h,y,0,this.latestBufferOffset),this.stringFormat?h.toString(this.stringFormat):h},typeof Buffer=="function"&&(q.addReader((h,y)=>{if(Buffer.isBuffer(h))return new F(h);if(y==="hex"||y==="base64"){let _=Buffer.from(h,y);return new F(_)}}),q.addWriter(h=>{if(!h||h==="buffer")return new M;if(h==="hex"||h==="base64")return new M(h)}));function d(h){this.hex=h,this.pos=0}d.prototype=Object.create(a.prototype),d.prototype.peekByte=function(){let h=this.hex.substring(this.pos,2);return parseInt(h,16)},d.prototype.readByte=function(){let h=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(h,16)},d.prototype.readChunk=function(h){let y=this.hex.substring(this.pos,this.pos+h*2);return this.pos+=h*2,typeof Buffer=="function"?Buffer.from(y,"hex"):new n(y)};function b(h){this.$hex="",this.finalFormat=h||"hex"}return b.prototype=Object.create(s.prototype),b.prototype.writeByte=function(h){if(h<0||h>255)throw new Error(`Byte value out of range: ${h}`);let y=h.toString(16);y.length==1&&(y=`0${y}`),this.$hex+=y},b.prototype.canWriteBinary=function(h){return h instanceof n||typeof Buffer=="function"&&h instanceof Buffer},b.prototype.writeBinary=function(h,y){if(h instanceof n)y(h.length()),this.$hex+=h.$hex;else if(typeof Buffer=="function"&&h instanceof Buffer)y(h.length),this.$hex+=h.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},b.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new n(this.$hex).toString(this.finalFormat)},b.prototype.writeString=function(h,y){let _=n.fromUtf8String(h);y(_.length()),this.$hex+=_.$hex},q.addReader((h,y)=>{if(h instanceof n||h.$hex)return new d(h.$hex);if(y==="hex")return new d(h)}),q.addWriter(h=>{if(h==="hex")return new b}),q})();return r.addSemanticEncode(0,n=>{if(n instanceof Date)return n.toISOString()}).addSemanticDecode(0,n=>new Date(n)).addSemanticDecode(1,n=>new Date(n)),r})})(Ne);var Bd=[],Ed=e=>{e.forEach(t=>{Bd.find(r=>r===t)||(Ne.exports.addSemanticEncode(t,r=>{if(r instanceof ye&&r.getTag()===t)return r.getData()}),Ne.exports.addSemanticDecode(t,r=>new ye(r,t)),Bd.push(t))})},me=class{constructor(t,r){this.type=t,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}},ae={UUID:new me("uuid",37),BYTES:new me("bytes",void 0),CRYPTO_HDKEY:new me("crypto-hdkey",303),CRYPTO_KEYPATH:new me("crypto-keypath",304),CRYPTO_COIN_INFO:new me("crypto-coin-info",305),CRYPTO_ECKEY:new me("crypto-eckey",306),CRYPTO_OUTPUT:new me("crypto-output",308),CRYPTO_PSBT:new me("crypto-psbt",310),CRYPTO_ACCOUNT:new me("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new me("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new me("qr-hardware-call",1201),KEY_DERIVATION_CALL:new me("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new me("key-derivation-schema",1302),ETH_SIGN_REQUEST:new me("eth-sign-request",401),ETH_SIGNATURE:new me("eth-signature",402),ETH_NFT_ITEM:new me("eth-nft-item",403)},S4=Object.values(ae).filter(e=>!!e.getTag()).map(e=>e.getTag()),I4=Object.values(On).map(e=>e.getTag());Ed(S4.concat(I4));var Me=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return Ne.exports.encodeDataItem(this.toDataItem())},this.toUR=()=>new In.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(t,r,n)=>{let o=this.toUR();return new In.UREncoder(o,t,r,n)}}},zt=class extends Me{constructor(t){super(),this.bytes=t,this.getRegistryType=()=>ae.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new ye(this.bytes)}};zt.fromDataItem=e=>{let t=e.getData();if(!t)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new zt(t)};zt.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return zt.fromDataItem(t)};var Gt;(function(e){e[e.curve=1]="curve",e[e.private=2]="private",e[e.data=3]="data"})(Gt||(Gt={}));var et=class extends Me{constructor(t){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>ae.CRYPTO_ECKEY,this.toDataItem=()=>{let r={};return this.curve&&(r[Gt.curve]=this.curve),this.privateKey!==void 0&&(r[Gt.private]=this.privateKey),r[Gt.data]=this.data,new ye(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=t.data,this.curve=t.curve,this.privateKey=t.privateKey||void 0}};et.fromDataItem=e=>{let t=e.getData(),r=t[Gt.curve],n=t[Gt.private],o=t[Gt.data];if(!o)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${e}`);return new et({data:o,curve:r,privateKey:n})};et.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return et.fromDataItem(t)};var Rr;(function(e){e.type="1",e.network="2"})(Rr||(Rr={}));re.Type=void 0;(function(e){e[e.bitcoin=0]="bitcoin",e[e.ethereum=60]="ethereum"})(re.Type||(re.Type={}));re.Network=void 0;(function(e){e[e.mainnet=0]="mainnet",e[e.testnet=1]="testnet"})(re.Network||(re.Network={}));var It=class extends Me{constructor(t,r){super(),this.type=t,this.network=r,this.getRegistryType=()=>ae.CRYPTO_COIN_INFO,this.getType=()=>this.type||re.Type.bitcoin,this.getNetwork=()=>this.network||re.Network.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[Rr.type]=this.type),this.network&&(n[Rr.network]=this.network),new ye(n)}}};It.fromDataItem=e=>{let t=e.getData(),r=t[Rr.type],n=t[Rr.network];return new It(r,n)};It.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return It.fromDataItem(t)};var cr=class e{constructor(t){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=t.index,this.hardened=t.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&e.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};cr.HARDENED_BIT=2147483648;var Vt;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(Vt||(Vt={}));var tt=class extends Me{constructor(t=[],r,n){super(),this.components=t,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>ae.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(i=>`${i.isWildcard()?"*":i.getIndex()}${i.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let o={},i=[];return this.components&&this.components.forEach(f=>{f.isWildcard()?i.push([]):i.push(f.getIndex()),i.push(f.isHardened())}),o[Vt.components]=i,this.sourceFingerprint&&(o[Vt.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(o[Vt.depth]=this.depth),new ye(o)}}};tt.fromDataItem=e=>{let t=e.getData(),r=[],n=t[Vt.components];if(n)for(let a=0;a<n.length;a+=2){let s=n[a+1],u=n[a];typeof u=="number"?r.push(new cr({index:u,hardened:s})):r.push(new cr({hardened:s}))}let o=t[Vt.source_fingerprint],i;o&&(i=Buffer.alloc(4),i.writeUInt32BE(o,0));let f=t[Vt.depth];return new tt(r,i,f)};tt.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return tt.fromDataItem(t)};var fe;(function(e){e[e.is_master=1]="is_master",e[e.is_private=2]="is_private",e[e.key_data=3]="key_data",e[e.chain_code=4]="chain_code",e[e.use_info=5]="use_info",e[e.origin=6]="origin",e[e.children=7]="children",e[e.parent_fingerprint=8]="parent_fingerprint",e[e.name=9]="name",e[e.note=10]="note"})(fe||(fe={}));var rt=class extends Me{constructor(t){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,o,i,f;let a,s,u=0,c=Buffer.alloc(4).fill(0);if(this.isMaster())a=Buffer.from("0488ADE4","hex"),s=0,u=0;else{s=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let E=(o=this.getOrigin())===null||o===void 0?void 0:o.getComponents(),C=E[E.length-1];C&&(u=C.isHardened()?(i=C.getIndex())!==null&&i!==void 0?i:2147483648:(f=C.getIndex())!==null&&f!==void 0?f:0,this.getParentFingerprint()&&(c=this.getParentFingerprint())),this.isPrivateKey()?a=Buffer.from("0488ADE4","hex"):a=Buffer.from("0488B21E","hex")}let l=Buffer.alloc(1);l.writeUInt8(s,0);let x=Buffer.alloc(4);x.writeUInt32BE(u,0);let g=this.getChainCode(),v=this.getKey();return b4.encode(Buffer.concat([a,l,c,x,g,v]))},this.getRegistryType=()=>ae.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,o,i,f,a,s;let u="";return this.getOrigin()&&!((r=this.getOrigin())===null||r===void 0)&&r.getSourceFingerprint()&&!((n=this.getOrigin())===null||n===void 0)&&n.getPath()&&(u+=`${(i=(o=this.getOrigin())===null||o===void 0?void 0:o.getSourceFingerprint())===null||i===void 0?void 0:i.toString("hex")}/${(f=this.getOrigin())===null||f===void 0?void 0:f.getPath()}`),u+=this.getBip32Key(),this.getChildren()&&!((a=this.getChildren())===null||a===void 0)&&a.getPath()&&(u+=`/${(s=this.getChildren())===null||s===void 0?void 0:s.getPath()}`),u},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{let r={};if(this.master)r[fe.is_master]=!0,r[fe.key_data]=this.key,r[fe.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[fe.is_private]=this.privateKey),r[fe.key_data]=this.key,this.chainCode&&(r[fe.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[fe.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[fe.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[fe.children]=n}this.parentFingerprint&&(r[fe.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[fe.name]=this.name),this.note!==void 0&&(r[fe.note]=this.note)}return new ye(r)},t.isMaster?this.setupMasterKey(t):this.setupDeriveKey(t)}};rt.fromDataItem=e=>{let t=e.getData(),r=!!t[fe.is_master],n=t[fe.is_private],o=t[fe.key_data],i=t[fe.chain_code],f=t[fe.use_info]?It.fromDataItem(t[fe.use_info]):void 0,a=t[fe.origin]?tt.fromDataItem(t[fe.origin]):void 0,s=t[fe.children]?tt.fromDataItem(t[fe.children]):void 0,u=t[fe.parent_fingerprint],c;u&&(c=Buffer.alloc(4),c.writeUInt32BE(u,0));let l=t[fe.name],x=t[fe.note];return new rt({isMaster:r,isPrivateKey:n,key:o,chainCode:i,useInfo:f,origin:a,children:s,parentFingerprint:c,name:l,note:x})};rt.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return rt.fromDataItem(t)};var Ur;(function(e){e[e.threshold=1]="threshold",e[e.keys=2]="keys"})(Ur||(Ur={}));var lr=class extends Me{constructor(t,r){super(),this.threshold=t,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[Ur.threshold]=this.threshold;let o=this.keys.map(i=>{let f=i.toDataItem();return f.setTag(i.getRegistryType().getTag()),f});return n[Ur.keys]=o,new ye(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};lr.fromDataItem=e=>{let t=e.getData(),r=t[Ur.threshold],n=t[Ur.keys],o=[];return n.forEach(i=>{i.getTag()===ae.CRYPTO_HDKEY.getTag()?o.push(rt.fromDataItem(i)):i.getTag()===ae.CRYPTO_ECKEY.getTag()&&o.push(et.fromDataItem(i))}),new lr(r,o)};var lt=class extends Me{constructor(t,r){super(),this.scriptExpressions=t,this.cryptoKey=r,this.getRegistryType=()=>ae.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof rt)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof et)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof lr)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof et||this.cryptoKey instanceof rt)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(i=>{let f=i.getTag();n.getTag()===void 0?n.setTag(f):n=new ye(n,f)}),n}}};lt.fromDataItem=e=>{let t=[],r=e;for(;;){let f=r.getTag(),a=Fe.fromTag(f);if(a)if(t.push(a),r.getData()instanceof ye)r=r.getData(),f=r.getTag();else break;else break}let n=t.length;if(n>0&&(t[n-1].getExpression()===On.MULTISIG.getExpression()||t[n-1].getExpression()===On.SORTED_MULTISIG.getExpression())){let f=lr.fromDataItem(r);return new lt(t,f)}if(r.getTag()===ae.CRYPTO_HDKEY.getTag()){let f=rt.fromDataItem(r);return new lt(t,f)}let i=et.fromDataItem(r);return new lt(t,i)};lt.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return lt.fromDataItem(t)};var Fr;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"})(Fr||(Fr={}));var Wt=class extends Me{constructor(t,r){super(),this.masterFingerprint=t,this.outputDescriptors=r,this.getRegistryType=()=>ae.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[Fr.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[Fr.outputDescriptors]=this.outputDescriptors.map(o=>o.toDataItem())),new ye(n)}}};Wt.fromDataItem=e=>{let t=e.getData(),r=Buffer.alloc(4),n=t[Fr.masterFingerprint];n&&r.writeUInt32BE(n,0);let i=t[Fr.outputDescriptors].map(f=>lt.fromDataItem(f));return new Wt(r,i)};Wt.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return Wt.fromDataItem(t)};var Yt=class extends Me{constructor(t){super(),this.psbt=t,this.getRegistryType=()=>ae.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new ye(this.psbt)}};Yt.fromDataItem=e=>{let t=e.getData();if(!t)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${e}`);return new Yt(t)};Yt.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return Yt.fromDataItem(t)};var Ze;(function(e){e[e.chainId=1]="chainId",e[e.contractAddress=2]="contractAddress",e[e.contractName=3]="contractName",e[e.name=4]="name",e[e.mediaData=5]="mediaData"})(Ze||(Ze={}));var Xt=class e extends Me{constructor(t){super(),this.getRegistryType=()=>ae.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{let r={};return r[Ze.chainId]=this.chainId,r[Ze.name]=this.name,r[Ze.contractAddress]=this.contractAddress,r[Ze.contractName]=this.contractName,r[Ze.mediaData]=this.mediaData,new ye(r)},this.chainId=t.chainId,this.name=t.name,this.contractAddress=t.contractAddress,this.contractName=t.contractName,this.mediaData=t.mediaData}static constructETHNFTItem(t,r,n,o,i){return new e({chainId:t,contractAddress:r,contractName:n,mediaData:i,name:o})}};Xt.fromDataItem=e=>{let t=e.getData(),r=t[Ze.chainId],n=t[Ze.name],o=t[Ze.mediaData],i=t[Ze.contractAddress],f=t[Ze.contractName];return new Xt({chainId:r,name:n,contractAddress:i,contractName:f,mediaData:o})};Xt.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return Xt.fromDataItem(t)};var ge;(function(e){e[e.requestId=1]="requestId",e[e.signData=2]="signData",e[e.dataType=3]="dataType",e[e.chainId=4]="chainId",e[e.derivationPath=5]="derivationPath",e[e.address=6]="address",e[e.origin=7]="origin"})(ge||(ge={}));re.DataType=void 0;(function(e){e[e.transaction=1]="transaction",e[e.typedData=2]="typedData",e[e.personalMessage=3]="personalMessage",e[e.typedTransaction=4]="typedTransaction"})(re.DataType||(re.DataType={}));var Ot=class e extends Me{constructor(t){super(),this.getRegistryType=()=>ae.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let r={};this.requestId&&(r[ge.requestId]=new ye(this.requestId,ae.UUID.getTag())),this.address&&(r[ge.address]=this.address),this.chainId&&(r[ge.chainId]=Number(this.chainId)),this.origin&&(r[ge.origin]=this.origin),r[ge.signData]=this.signData,r[ge.dataType]=this.dataType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),r[ge.derivationPath]=n,new ye(r)},this.requestId=t.requestId,this.signData=t.signData,this.dataType=t.dataType,this.chainId=t.chainId,this.derivationPath=t.derivationPath,this.address=t.address,this.origin=t.origin}static constructETHRequest(t,r,n,o,i,f,a,s){let u=n.replace(/[m|M]\//,"").split("/"),c=new tt(u.map(l=>{let x=parseInt(l.replace("'","")),g=!1;return l.endsWith("'")&&(g=!0),new cr({index:x,hardened:g})}),Buffer.from(o,"hex"));return new e({requestId:i?Buffer.from(v4.parse(i)):void 0,signData:t,dataType:r,derivationPath:c,chainId:f,address:a?Buffer.from(a.replace("0x",""),"hex"):void 0,origin:s||void 0})}};Ot.fromDataItem=e=>{let t=e.getData(),r=t[ge.signData],n=t[ge.dataType],o=tt.fromDataItem(t[ge.derivationPath]),i=t[ge.chainId]?t[ge.chainId]:void 0,f=t[ge.address]?t[ge.address]:void 0,a=t[ge.requestId]?t[ge.requestId].getData():void 0,s=t[ge.origin]?t[ge.origin]:void 0;return new Ot({requestId:a,signData:r,dataType:n,chainId:i,derivationPath:o,address:f,origin:s})};Ot.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return Ot.fromDataItem(t)};var St;(function(e){e[e.requestId=1]="requestId",e[e.signature=2]="signature",e[e.origin=3]="origin"})(St||(St={}));var hr=class extends Me{constructor(t,r,n){super(),this.getRegistryType=()=>ae.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let o={};return this.requestId&&(o[St.requestId]=new ye(this.requestId,ae.UUID.getTag())),this.origin&&(o[St.origin]=this.origin),o[St.signature]=this.signature,new ye(o)},this.signature=t,this.requestId=r,this.origin=n}};hr.fromDataItem=e=>{let t=e.getData(),r=t[St.signature],n=t[St.requestId]?t[St.requestId].getData():void 0;return new hr(r,n,t[St.origin])};hr.fromCBOR=e=>{let t=Ne.exports.decodeToDataItem(e);return hr.fromDataItem(t)};var xo=class extends Error{constructor(t){super(t)}},Fa=class extends In.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let t=this.resultUR();switch(t.type){case ae.BYTES.getType():return zt.fromCBOR(t.cbor);case ae.CRYPTO_HDKEY.getType():return rt.fromCBOR(t.cbor);case ae.CRYPTO_KEYPATH.getType():return tt.fromCBOR(t.cbor);case ae.CRYPTO_COIN_INFO.getType():return It.fromCBOR(t.cbor);case ae.CRYPTO_ECKEY.getType():return et.fromCBOR(t.cbor);case ae.CRYPTO_OUTPUT.getType():return lt.fromCBOR(t.cbor);case ae.CRYPTO_PSBT.getType():return Yt.fromCBOR(t.cbor);case ae.CRYPTO_ACCOUNT.getType():return Wt.fromCBOR(t.cbor);case ae.ETH_SIGN_REQUEST.getType():return Ot.fromCBOR(t.cbor);case ae.ETH_SIGNATURE.getType():return Ot.fromCBOR(t.cbor);case ae.ETH_NFT_ITEM.getType():return Xt.fromCBOR(t.cbor);default:throw new xo(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${t.type} is not supported now`)}}}};Object.defineProperty(re,"URDecoder",{enumerable:!0,get:function(){return In.URDecoder}});Object.defineProperty(re,"UREncoder",{enumerable:!0,get:function(){return In.UREncoder}});re.Bytes=zt;re.CryptoAccount=Wt;re.CryptoCoinInfo=It;re.CryptoECKey=et;re.CryptoHDKey=rt;re.CryptoKeypath=tt;re.CryptoOutput=lt;re.CryptoPSBT=Yt;re.ETHNFTItem=Xt;re.ETHSignature=hr;re.EthSignRequest=Ot;re.MultiKey=lr;re.PathComponent=cr;re.RegistryItem=Me;re.RegistryType=me;re.RegistryTypes=ae;re.ScriptExpression=Fe;re.ScriptExpressions=On;re.URRegistryDecoder=Fa;re.UnknownURTypeError=xo;re.patchTags=Ed});var po=Ma(ba()),Sd=Ma(Ad());window.BCUR={UR:po.UR,UREncoder:po.UREncoder,URRegistryDecoder:Sd.URRegistryDecoder};})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/

</script>

<script>
      // ---- DOM elements ----
      const readerEl = document.getElementById('reader');
      const cameraToggleBtn = document.getElementById('cameraToggleBtn');
      const resetBtn = document.getElementById('resetBtn');
      const refreshPreviewBtn = document.getElementById('refreshPreviewBtn');

      // (1) Camera status removed from DOM; do not reference it.
      // const statusEl = document.getElementById('status');

      const logEl    = document.getElementById('log');
      const resultEl = document.getElementById('result');

      const signBtn = document.getElementById('signBtn');
      const sigText = document.getElementById('sigText');
      const rHexEl = document.getElementById('rHex');
      const sHexEl = document.getElementById('sHex');
      const vParityEl = document.getElementById('vParity');
      const sigQrEl = document.getElementById('sigQr');

      // NEW: Transaction actions container (buttons are shown only after successful details render)
      const txActionsEl = document.getElementById('txActions');

      // ---- Panel visibility (keep UI compact: only 2 blocks visible) ----
      const cameraCardEl = document.getElementById('cameraCard');
      const unlockCardEl = document.getElementById('unlockCard');
      const txCardEl     = document.getElementById('txCard');
      const sigCardEl    = document.getElementById('sigCard');
      const unlockWalletBtn = document.getElementById('unlockWalletBtn');
      const removeWalletBtn = document.getElementById('removeWalletBtn');
      const walletStatusPillEl = document.getElementById('walletStatusPill');
      const clearSigBtn = document.getElementById('clearSigBtn');

      function showRightPanel(which) {
        // camera stays visible; we swap the "right" block only
        if (unlockCardEl) unlockCardEl.style.display = (which === 'unlock') ? 'flex' : 'none';
        if (txCardEl)     txCardEl.style.display     = (which === 'tx')     ? 'flex' : 'none';
        if (sigCardEl)    sigCardEl.style.display    = (which === 'sig')    ? 'flex' : 'none';
      }

      // Default: Camera + Transaction details
      showRightPanel('tx');

      if (unlockWalletBtn) {
        unlockWalletBtn.addEventListener('click', () => {
          showRightPanel('unlock');
        });
      }

      if (removeWalletBtn) {
        removeWalletBtn.addEventListener('click', async () => {
          // ---- Clear wallet material from memory ----
          currentPrivateKeyHex = null;
          currentAddress = null;
          pendingPkFromFile = null;
          keystoreJsonString = null;

          // ---- Clear ALL unlock inputs (DOM) ----
          try {
            // Keystore mode inputs
            if (keystoreFileInput) keystoreFileInput.value = '';
            if (keystorePasswordInput) keystorePasswordInput.value = '';

            // Private key file mode input
            if (pkFileInput) pkFileInput.value = '';

            // Manual PK mode input
            if (pkManualInput) pkManualInput.value = '';

            // Mnemonic mode inputs
            if (mnemonicInput) mnemonicInput.value = '';
            if (derivationPathInput) derivationPathInput.value = DEFAULT_DERIVATION_PATH;

            // Mnemonic+passphrase mode inputs
            if (mnemonicInput2) mnemonicInput2.value = '';
            if (mnemonicPassphraseInput) mnemonicPassphraseInput.value = '';
            if (derivationPathInput2) derivationPathInput2.value = DEFAULT_DERIVATION_PATH;

            // Optional: clear any legacy wallet display elements (if present)
            if (walletUnlockedNoteEl) {
              walletUnlockedNoteEl.textContent = '';
              walletUnlockedNoteEl.style.display = 'none';
            }
          } catch (_) {
            // no-op
          }

    // ---- Reset UI hints ----
    try { resetWalletAlertToSecurityNote(); } catch (_) {}

    // If you have any wallet-address UI, reset it too
    try { updateWalletUI(); } catch (_) {}

    // Update the camera-card button label, pill, remove button visibility
    setUnlockWalletButtonLabel();

    // Reset unlock button labels (UX)
    try {
      keystoreUnlockBtn.textContent = 'Unlock';
      pkFileUnlockBtn.textContent = 'Unlock';
      manualUnlockBtn.textContent = 'Unlock';
      mnemonicUnlockBtn.textContent = 'Unlock';
      mnemonicPassUnlockBtn.textContent = 'Unlock';
    } catch (_) {}

    // Keep heights aligned
    syncRightPanelHeights();
  });
}

      // Unlock UI
      const unlockModeSelect = document.getElementById('unlockMode');
      const keystoreSection = document.getElementById('unlock-keystore');
      const pkFileSection = document.getElementById('unlock-pkFile');
      const manualSection = document.getElementById('unlock-manual');
      const mnemonicSection = document.getElementById('unlock-mnemonic');
      const mnemonicPassSection = document.getElementById('unlock-mnemonicPass');

      const keystoreFileInput = document.getElementById('keystoreFile');
      const keystorePasswordInput = document.getElementById('keystorePassword');
      const keystoreUnlockBtn = document.getElementById('keystoreUnlockBtn');

      const pkFileInput = document.getElementById('pkFile');
      const pkFileUnlockBtn = document.getElementById('pkFileUnlockBtn');

      const pkManualInput = document.getElementById('pkManual');
      const manualUnlockBtn = document.getElementById('manualUnlockBtn');

      const mnemonicInput = document.getElementById('mnemonicInput');
      const derivationPathInput = document.getElementById('derivationPathInput');
      const mnemonicUnlockBtn = document.getElementById('mnemonicUnlockBtn');

      const mnemonicInput2 = document.getElementById('mnemonicInput2');
      const mnemonicPassphraseInput = document.getElementById('mnemonicPassphraseInput');
      const derivationPathInput2 = document.getElementById('derivationPathInput2');
      const mnemonicPassUnlockBtn = document.getElementById('mnemonicPassUnlockBtn');

      const walletAddressEl = document.getElementById('walletAddress');
      const walletUnlockedNoteEl = document.getElementById('walletUnlockedNote');

      let html5QrCode = null;
      let isRunning = false;
      let seen = new Set();
      let sigQr = null;
let urDecoder = null; // client-side multipart UR assembler

      // Wallet state
      let currentPrivateKeyHex = null; // 64-hex, no 0x
      let currentAddress = null;       // 0x-address
      let pendingPkFromFile = null;    // 64-hex from file
      let keystoreJsonString = null;   // raw JSON text

      const DEFAULT_DERIVATION_PATH = "m/44'/60'/0'/0/0";

      function setTxActionsVisible(isVisible) {
        if (!txActionsEl) return;
        txActionsEl.style.display = isVisible ? 'flex' : 'none';
      }

      function shortAddressTail(addr, n=6) {
        if (!addr || typeof addr !== 'string') return '';
        const m = addr.match(/^0x[0-9a-fA-F]{40}$/);
        if (!m) return addr.slice(-n);
        return addr.slice(-n);
      }

      function setRemoveWalletButtonVisible() {
        if (!removeWalletBtn) return;
        const hasWallet = !!(currentPrivateKeyHex && /^[0-9a-fA-F]{64}$/.test(currentPrivateKeyHex));
        removeWalletBtn.style.display = hasWallet ? 'inline-block' : 'none';
      }

      function updateWalletStatusPill() {
        if (!walletStatusPillEl) return;

        const hasWallet = !!(currentPrivateKeyHex && /^[0-9a-fA-F]{64}$/.test(currentPrivateKeyHex));
        const addrTail = currentAddress ? shortAddressTail(currentAddress, 6) : '';
        if (hasWallet) {
          walletStatusPillEl.textContent = `Wallet: •\u200A•\u200A•\u200A${addrTail || '??????'}`;
          walletStatusPillEl.classList.add('status-pill--unlocked');
        } else {
          walletStatusPillEl.textContent = 'No wallet unlocked';
          walletStatusPillEl.classList.remove('status-pill--unlocked');
        }
      }

      function setUnlockWalletButtonLabel() {
        // Update the Camera-card "Unlock wallet" button label based on wallet state
        if (!unlockWalletBtn) return;
        if (currentPrivateKeyHex && /^[0-9a-fA-F]{64}$/.test(currentPrivateKeyHex)) {
          unlockWalletBtn.textContent = 'Wallet unlocked';
        } else {
          unlockWalletBtn.textContent = 'Unlock wallet';
        }
        setRemoveWalletButtonVisible();
        updateWalletStatusPill();
      }

      // (3) Stabilize layout: ensure Unlock / Tx / Sig panels share the same height
      //     so the camera/top block does not move when swapping panels.
  function getNaturalHeightEvenIfHidden(el) {
    if (!el) return 0;

    // Save current inline styles we touch
    const prev = {
      display: el.style.display,
      visibility: el.style.visibility,
      position: el.style.position,
      left: el.style.left,
      top: el.style.top,
      minHeight: el.style.minHeight,
      height: el.style.height,
      width: el.style.width,
    };

    // IMPORTANT: remove min-height constraints so measurement can shrink again
    el.style.minHeight = '0px';
    el.style.height = 'auto';

    // Render off-screen but at the CURRENT container width so wrapping matches the real layout
    const container = document.getElementById('main-container');
    const targetWidth = container ? container.getBoundingClientRect().width : null;

    el.style.visibility = 'hidden';
    el.style.position = 'absolute';
    el.style.left = '-9999px';
    el.style.top = '0px';
    el.style.display = 'flex';

    if (targetWidth) el.style.width = targetWidth + 'px';

    // Measure natural height
    const h = el.getBoundingClientRect().height;

    // Restore
    el.style.display = prev.display;
    el.style.visibility = prev.visibility;
    el.style.position = prev.position;
    el.style.left = prev.left;
    el.style.top = prev.top;
    el.style.minHeight = prev.minHeight;
    el.style.height = prev.height;
    el.style.width = prev.width;

    return h;
  }

  function syncRightPanelHeights() {
    if (!unlockCardEl || !txCardEl || !sigCardEl) return;

    // 1) Clear minHeight first (prevents “ratcheting”)
    unlockCardEl.style.minHeight = '0px';
    txCardEl.style.minHeight = '0px';
    sigCardEl.style.minHeight = '0px';

    // 2) Measure natural height for the canonical panel (Unlock)
    const unlockH = getNaturalHeightEvenIfHidden(unlockCardEl);

    if (unlockH && unlockH > 0) {
      // 3) Apply the synchronized minHeight
      unlockCardEl.style.minHeight = unlockH + 'px';
      txCardEl.style.minHeight = unlockH + 'px';
      sigCardEl.style.minHeight = unlockH + 'px';
    }
  }

      function deriveWalletFromMnemonic(phrase, pathOverride, bip39Passphrase) {
        const ethersLib = window.ethers;
        if (!ethersLib) {
          throw new Error('Ethers library not loaded');
        }

        // BIP39 passphrase (a.k.a. "mnemonic password") is optional
        const passphrase = (bip39Passphrase || '').toString();

        // Use override if provided, otherwise default
        let path = (pathOverride && pathOverride.trim()) || DEFAULT_DERIVATION_PATH;

        // Normalize path: allow "44'/60'/..." and prepend "m/"
        if (!/^m\//i.test(path)) {
          path = 'm/' + path.replace(/^\/+/, '');
        }

        // Ethers v6: HDNodeWallet.fromPhrase(mnemonic, password?, path?)
        if (ethersLib.HDNodeWallet && typeof ethersLib.HDNodeWallet.fromPhrase === 'function') {
          return ethersLib.HDNodeWallet.fromPhrase(phrase, passphrase || undefined, path);
        }

        // Ethers v5: utils.HDNode.fromMnemonic(mnemonic, password?) + derivePath
        if (ethersLib.utils && ethersLib.utils.HDNode && typeof ethersLib.utils.HDNode.fromMnemonic === 'function') {
          const root = ethersLib.utils.HDNode.fromMnemonic(phrase, passphrase || undefined);
          const child = root.derivePath(path);
          return new ethersLib.Wallet(child.privateKey);
        }

        // Ethers v5: Wallet.fromMnemonic(mnemonic, path?)
        // NOTE: Ethers v5 Wallet.fromMnemonic does not support BIP39 passphrase.
        if (ethersLib.Wallet && typeof ethersLib.Wallet.fromMnemonic === 'function') {
          if (passphrase) {
            throw new Error('This ethers build does not support BIP39 passphrase for mnemonic derivation (Wallet.fromMnemonic).');
          }
          return ethersLib.Wallet.fromMnemonic(phrase, path);
        }

        // Ethers v6 compat: Wallet.fromPhrase(mnemonic, password?, path?)
        if (ethersLib.Wallet && typeof ethersLib.Wallet.fromPhrase === 'function') {
          return ethersLib.Wallet.fromPhrase(phrase, passphrase || undefined, path);
        }

        throw new Error('This ethers build does not support mnemonic/HD wallets.');
      }

      // ---- Helpers ----
      function log(line) {
        if (!logEl) return;
        logEl.value += (logEl.value ? "\n" : "") + line;
        logEl.scrollTop = logEl.scrollHeight;
      }

      function updateWalletUI() {
        if (!walletAddressEl) return;
        if (currentAddress) {
          walletAddressEl.textContent = currentAddress;
          walletAddressEl.classList.remove('muted');
        } else {
          walletAddressEl.textContent = '(locked)';
          walletAddressEl.classList.add('muted');
        }
      }

      function resetWalletAlertToSecurityNote() {
        const walletAlertEl = document.getElementById('walletAlert');
        if (!walletAlertEl) return;
        walletAlertEl.classList.remove('alert-green');
        walletAlertEl.classList.add('alert-red');
        walletAlertEl.innerHTML = `<strong>Security Note:</strong> &thinsp; Use this tool on an air-gapped machine for maximum security.`;
      }

      function logWalletUnlocked() {
        // Log to hidden log textarea
        if (currentAddress) {
          log(`Wallet unlocked (${currentAddress}).`);
        } else {
          log('Wallet unlocked.');
        }

        const walletAlertEl = document.getElementById('walletAlert');
        if (walletAlertEl) {
          walletAlertEl.classList.remove('alert-red');
          walletAlertEl.classList.add('alert-green');

          const addr = currentAddress || '(address unavailable)';
          walletAlertEl.innerHTML =
            `<strong>Wallet Unlocked:</strong><span class="wallet-address">${addr}</span>`;
        }

        // Ensure old footnote stays hidden (legacy)
        if (walletUnlockedNoteEl) {
          walletUnlockedNoteEl.style.display = 'none';
        }

        // Status row (legacy) is no longer needed, but if present keep it hidden to save space
        const walletStatusRow = document.getElementById('walletStatusRow');
        if (walletStatusRow) {
          walletStatusRow.style.display = 'none';
        }

        // Update camera-card affordances + pill
        setUnlockWalletButtonLabel();

        // Keep heights aligned
        syncRightPanelHeights();

        // After a successful unlock, return to Transaction details panel
        try { showRightPanel('tx'); } catch (_) {}
      }

      function normalizePkHex(raw) {
        return (raw || '').trim().replace(/^0x/i, '');
      }

      async function postJSON(url, body) {
        const res = await fetch(url, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(body),
        });
        if (!res.ok) throw new Error(await res.text());
        return res.json();
      }

      async function getJSON(url) {
        const res = await fetch(url);
        if (!res.ok) throw new Error(await res.text());
        return res.json();
      }

      // ---- Unlock mode UI ----
      function updateUnlockModeUI() {
        const mode = unlockModeSelect.value;
        keystoreSection.style.display = (mode === 'keystore') ? 'block' : 'none';
        pkFileSection.style.display   = (mode === 'pkFile')   ? 'block' : 'none';
        manualSection.style.display   = (mode === 'manual')   ? 'block' : 'none';
        mnemonicSection.style.display = (mode === 'mnemonic') ? 'block' : 'none';
        mnemonicPassSection.style.display = (mode === 'mnemonicPass') ? 'block' : 'none';
      }
      unlockModeSelect.addEventListener('change', updateUnlockModeUI);
      updateUnlockModeUI();

      // ---- Keystore handling ----
      keystoreFileInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        keystoreJsonString = null;

        const reader = new FileReader();
        reader.onload = (e) => {
          try {
            const text = e.target.result;
            JSON.parse(text); // sanity check
            keystoreJsonString = text;
            log(`Loaded keystore file: ${file.name}`);
          } catch (err) {
            alert('File is not valid JSON keystore.');
            log('ERROR: Invalid keystore JSON: ' + (err.message || err));
            keystoreJsonString = null;
          }
        };
        if (file) reader.readAsText(file);
      });

      keystoreUnlockBtn.addEventListener('click', async () => {
        if (!window.ethers || !window.ethers.Wallet) {
          alert('Ethers library not available; cannot decrypt keystore in browser.');
          return;
        }
        if (!keystoreJsonString) {
          alert('Please select a keystore.json file first.');
          return;
        }
        const password = keystorePasswordInput.value || '';
        if (!password) {
          alert('Please enter the keystore password.');
          return;
        }

        try {
          log('Attempting to unlock wallet from keystore…');
          const wallet = await window.ethers.Wallet.fromEncryptedJson(keystoreJsonString, password);
          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;
          updateWalletUI();
          logWalletUnlocked();
          keystoreUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          alert('Failed to decrypt keystore: ' + (e.message || e));
          log('ERROR unlocking keystore: ' + (e.message || e));
        }
      });

      // ---- Private key file handling ----
      pkFileInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        pendingPkFromFile = null;

        const reader = new FileReader();
        reader.onload = (e) => {
          try {
            let keyContent = normalizePkHex(e.target.result);
            if (!/^[0-9a-fA-F]{64}$/.test(keyContent)) {
              alert('File content is not a valid 64-hex private key (after removing 0x).');
              log('ERROR: Invalid private key format in file.');
              pendingPkFromFile = null;
            } else {
              pendingPkFromFile = keyContent;
              log(`Loaded private key from file: ${file.name}. Click "Unlock wallet" to use it.`);
            }
          } catch (err) {
            alert('Error reading file: ' + (err.message || err));
            log('File read ERROR: ' + (err.message || err));
            pendingPkFromFile = null;
          }
        };
        if (file) reader.readAsText(file);
      });

      pkFileUnlockBtn.addEventListener('click', () => {
        if (!pendingPkFromFile) {
          alert('Please select a valid private key file first.');
          return;
        }
        if (!window.ethers || !window.ethers.Wallet) {
          currentPrivateKeyHex = pendingPkFromFile;
          currentAddress = null;
          updateWalletUI();
          logWalletUnlocked();
          pkFileUnlockBtn.textContent = 'Unlocked';
          return;
        }
        try {
          const wallet = new window.ethers.Wallet('0x' + pendingPkFromFile);
          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;
          updateWalletUI();
          logWalletUnlocked();
          pkFileUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          alert('Invalid private key: ' + (e.message || e));
          log('ERROR unlocking from private key file: ' + (e.message || e));
        }
      });

      // ---- Manual private key handling ----
      manualUnlockBtn.addEventListener('click', () => {
        const pkHex = normalizePkHex(pkManualInput.value);
        if (!/^[0-9a-fA-F]{64}$/.test(pkHex)) {
          alert('Please enter a 64-hex private key (no 0x).');
          return;
        }
        if (!window.ethers || !window.ethers.Wallet) {
          currentPrivateKeyHex = pkHex;
          currentAddress = null;
          updateWalletUI();
          logWalletUnlocked();
          manualUnlockBtn.textContent = 'Unlocked';
          return;
        }
        try {
          const wallet = new window.ethers.Wallet('0x' + pkHex);
          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;
          updateWalletUI();
          logWalletUnlocked();
          manualUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          alert('Invalid private key: ' + (e.message || e));
          log('ERROR unlocking from manual PK: ' + (e.message || e));
        }
      });

      // ---- Mnemonic + derivation path handling ----
      mnemonicUnlockBtn.addEventListener('click', () => {
        const phrase = (mnemonicInput.value || '').trim();
        let path = (derivationPathInput.value || '').trim();

        if (!phrase) {
          alert('Please enter a mnemonic phrase.');
          return;
        }

        // If user leaves it empty, enforce the default and write it back to the input
        if (!path) {
          path = DEFAULT_DERIVATION_PATH;
          derivationPathInput.value = DEFAULT_DERIVATION_PATH;
        }

        try {
          log(`Deriving key from mnemonic with path: ${path}`);
          const wallet = deriveWalletFromMnemonic(phrase, path);

          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;

          updateWalletUI();
          logWalletUnlocked();
          mnemonicUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          const msg = e && e.message ? e.message : String(e);
          alert('Failed to derive key from mnemonic: ' + msg);
          log('ERROR deriving from mnemonic: ' + msg);
        }
      });

      // ---- Mnemonic + BIP39 passphrase + derivation path handling ----
      mnemonicPassUnlockBtn.addEventListener('click', () => {
        const phrase = (mnemonicInput2.value || '').trim();
        const bip39Passphrase = (mnemonicPassphraseInput.value || '').toString();
        let path = (derivationPathInput2.value || '').trim();

        if (!phrase) {
          alert('Please enter a mnemonic phrase.');
          return;
        }

        // If user leaves it empty, enforce the default and write it back to the input
        if (!path) {
          path = DEFAULT_DERIVATION_PATH;
          derivationPathInput2.value = DEFAULT_DERIVATION_PATH;
        }

        try {
          log(`Deriving key from mnemonic with passphrase and path: ${path}`);
          const wallet = deriveWalletFromMnemonic(phrase, path, bip39Passphrase);

          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;

          updateWalletUI();
          logWalletUnlocked();
          mnemonicPassUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          const msg = e && e.message ? e.message : String(e);
          alert('Failed to derive key from mnemonic + passphrase: ' + msg);
          log('ERROR deriving from mnemonic + passphrase: ' + msg);
        }
      });

      // ---- Scan to server (animated UR assembly) ----
      async function resetServerDecoder() {
        // Keep UI focused on Transaction details when resetting
        try { showRightPanel('tx'); } catch (_) {}

        // Hide tx action buttons until details are successfully re-rendered
        setTxActionsVisible(false);

        seen.clear();
        urDecoder = (window.BCUR && BCUR.URRegistryDecoder) ? new BCUR.URRegistryDecoder() : null;
        try {
          await postJSON('/api/ur/reset', {});
          if (resultEl) {
            resultEl.textContent = 'Decoder reset. Ready to collect frames.';
          }
          const box = document.getElementById('decodedSummary');
          box.innerHTML = '<div class="muted">Scan a transaction request QR code</div>';
        } catch (e) {
          if (resultEl) {
            resultEl.textContent = 'Failed to reset decoder: ' + (e.message || e);
          }
        }
      }

      async function onScanSuccess(decodedText) {
        const part = decodedText.trim();
        if (!/^ur:/i.test(part)) return;
        if (seen.has(part)) return;
        seen.add(part);

        log('Frame → ' + part.slice(0, 60) + (part.length > 60 ? '…' : ''));
        // Multipart UR (animated QR) handling:
        // Collect fragments in-browser and only send the assembled single-part UR to the backend.
        let partToSend = part;
        try {
          if (/^ur:eth-sign-request\/\d+-\d+\//i.test(part)) {
            if (!urDecoder) urDecoder = new BCUR.URRegistryDecoder();
            urDecoder.receivePart(part);
            if (urDecoder.isComplete && !urDecoder.isComplete()) {
              if (resultEl) resultEl.textContent = 'Collecting parts… keep scanning.';
              return;
            }
            if (urDecoder.isComplete && urDecoder.isComplete()) {
              const ur = urDecoder.resultUR();
              if (ur && typeof ur.toString === 'function') partToSend = ur.toString();
            }
          }
        } catch (e) {
          partToSend = part;
        }


        try {
          const reply = await postJSON('/api/ur/part', { part: partToSend });
          if (reply.status === 'collecting') {
            // (1) No camera status UI; keep info in hidden result/log only
            if (resultEl) resultEl.textContent = 'Collecting parts… keep scanning.';
          } else if (reply.status === 'error') {
            if (resultEl) resultEl.textContent = 'Decode error on server: ' + reply.error;
            log('ERROR: ' + reply.error);
          } else if (reply.status === 'complete') {
            if (resultEl) {
              resultEl.innerHTML = `
                <div class="ok">✅ Completed on server.</div>
                <div>Type: <code>${reply.type}</code></div>
                <div>CBOR (hex): <code class="mono">${reply.cborHex.slice(0, 80)}${reply.cborHex.length>80?'…':''}</code></div>
              `;
            }
            await stopCamera();
            await refreshDecoded();
          }
        } catch (e) {
          if (resultEl) resultEl.textContent = 'Network error posting frame: ' + (e.message || e);
          log('Network error: ' + (e.message || e));
        }
      }
      function onScanFailure(_error) {}

      async function startCamera() {
        try {
          await resetServerDecoder();
          if (!html5QrCode) html5QrCode = new Html5Qrcode('reader');
          const configs = { fps: 12, qrbox: { width: 220, height: 220 } };
          await html5QrCode.start({ facingMode: 'environment' }, configs, onScanSuccess, onScanFailure);
          isRunning = true;
          cameraToggleBtn.textContent = 'Stop camera';
          log('Camera started.');
        } catch (e) {
          if (resultEl) resultEl.textContent = 'Failed to start camera: ' + (e.message || e);
          log('Start error: ' + (e.message || e));
        }
      }

      async function stopCamera() {
        try {
          if (html5QrCode && isRunning) {
            await html5QrCode.stop();
            await html5QrCode.clear();
          }
        } catch (e) {
          console.warn('Stop error:', e);
        } finally {
          isRunning = false;
          cameraToggleBtn.textContent = 'Start camera';
          log('Camera stopped.');
        }
      }

      let cameraBusy = false;

      async function toggleCamera() {
        if (cameraBusy) return;
        cameraBusy = true;
        try {
          if (!isRunning) {
            await startCamera();
          } else {
            await stopCamera();
          }
        } finally {
          cameraBusy = false;
        }
      }

      cameraToggleBtn.addEventListener('click', toggleCamera);
      resetBtn.addEventListener('click', resetServerDecoder);

      // ---- Decoded preview ----
      function renderHumanSummary(data) {
        const box = document.getElementById('decodedSummary');

        if (!data || data.error) {
          // Keep tx action buttons hidden on failure/empty
          setTxActionsVisible(false);

          box.innerHTML = `<div class="err">${data?.error || 'No data'}</div>`;
          return;
        }

        // Success: show tx action buttons
        setTxActionsVisible(true);

        const h = data.human || {};
        const tx = data.tx || {};

        // --- Network / chainId to human label ---
        let chainIdRaw = data.chainId ?? tx.chainId ?? null;
        let chainIdNum = null;

        if (chainIdRaw != null) {
          if (typeof chainIdRaw === 'number') {
            chainIdNum = chainIdRaw;
          } else if (typeof chainIdRaw === 'bigint') {
            chainIdNum = Number(chainIdRaw);
          } else if (typeof chainIdRaw === 'string') {
            if (chainIdRaw.startsWith('0x') || chainIdRaw.startsWith('0X')) {
              const parsed = parseInt(chainIdRaw, 16);
              if (!Number.isNaN(parsed)) chainIdNum = parsed;
            } else {
              const parsed = Number(chainIdRaw);
              if (!Number.isNaN(parsed)) chainIdNum = parsed;
            }
          }
        }

        function networkLabelFromChainId(idNum, fallbackRaw) {
          switch (idNum) {
            case 1:
              return 'Ethereum Mainnet';
            case 10:
              return 'OP Mainnet';
            case 42161:
              return 'Arbitrum';
            case 8453:
              return 'Base';
            case 324:
              return 'zkSync Era';
			case 59144:
			  return 'Linea';
			case 130:
			  return 'Unichain';
		    case 42170:
              return 'Arbitrum Nova';
			case 1101:
              return 'Polygon zkEVM';
			case 534352:
              return 'Scroll';
			case 137:
              return 'Polygon PoS';
		    case 43114:
              return 'Avalanche C-Chain';
            case 56:
              return 'BNB Smart Chain';
            default:
              if (idNum != null) return String(idNum);
              if (fallbackRaw != null) return String(fallbackRaw);
              return '(unknown)';
          }
        }

        const networkLabel = networkLabelFromChainId(chainIdNum, chainIdRaw);

        // --- Core fields you want to see ---
        const type =
          tx.type
            ? tx.type.toUpperCase()
            : (data.dataType === 4
                ? 'EIP-1559'
                : data.dataType === 1
                  ? 'LEGACY'
                  : 'OTHER');

        const toAddr = h.toAddress || tx.to || '(unknown)';
        const token  = h.token || (tx.valueEth && tx.valueEth !== '0' ? 'ETH' : 'ERC20');
        const amount = h.amount || (tx.valueEth ?? '0');

        // --- Human-readable action line ---
        let actionLine = h.summary || 'Review carefully on your device.';
        if (h.details?.kind === 'erc20.transfer') {
          actionLine =
            `Send <b>${amount} ${token}</b> to ` +
            `<code style="font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%;"><b>${h.details.recipient}</b></code>`;
        } else if (h.details?.kind === 'eth.transfer') {
          actionLine =
            `Send <b>${amount} ETH</b> to ` +
            `<code style="font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%;"><b>${h.details.recipient}</b></code>`;
        } else if (h.details?.kind === 'contract.call') {
          actionLine =
            `Contract call to <code style="font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%;"><b>${h.details.to}</b></code>` +
            ` (selector <code>${h.details.selector}</code>)`;
        }

box.innerHTML = `
  <div class="tx-grid">
    <div class="muted">Network:</div>
    <div class="tx-val">${networkLabel}</div>

    <div class="muted">Tx type:</div>
    <div class="tx-val">${type}</div>

    <div class="muted">To:</div>
    <div class="tx-val">
      <code class="tx-code">${toAddr}</code>
    </div>

    <div class="muted">Token:</div>
    <div class="tx-val">${token}</div>

    <div class="muted">Amount:</div>
    <div class="tx-val">${amount}</div>

    <div class="muted">Summary:</div>
    <div class="tx-val tx-summary">${actionLine}</div>
  </div>
`;



        // Panel content changed; keep heights aligned
        syncRightPanelHeights();
      }

      async function refreshDecoded() {
        const box = document.getElementById('decodedSummary');

        // Hide buttons until we confirm details successfully render
        setTxActionsVisible(false);

        box.innerHTML = '<div class="muted">(loading…)</div>';
        try {
          const data = await getJSON('/api/ur/decoded');
          renderHumanSummary(data);
        } catch (e) {
          const err = 'Error: ' + (e.message || e);
          setTxActionsVisible(false);
          box.innerHTML = `<div class="err">${err}</div>`;
          syncRightPanelHeights();
        }
      }

      refreshPreviewBtn.addEventListener('click', refreshDecoded);

      // ---- Signing ----
      function renderSigQr(text) {
        if (typeof QRCode === 'undefined') {
          alert('QR library did not load. Try a hard refresh (Ctrl+F5).');
          return;
        }
        const opts = { text, width: 160, height: 160, correctLevel: QRCode.CorrectLevel.L };
        if (!sigQr) {
          sigQr = new QRCode(sigQrEl, opts);
        } else {
          sigQr.clear();
          sigQr.makeCode(text);
        }
      }

      function clearSigUI() {
        sigText.value = '';
        if (rHexEl) rHexEl.textContent = '';
        if (sHexEl) sHexEl.textContent = '';
        if (vParityEl) vParityEl.textContent = '';
        if (sigQr) sigQr.clear();
        sigQrEl.innerHTML = '';
        sigQr = null;
      }

      async function clearSigAndResetTx() {
        // (4) Clear signature + clear scanned transaction details as a true reset
        clearSigUI();
        if (clearSigBtn) clearSigBtn.disabled = true;

        // Clear scanned tx details + reset decoder state
        await resetServerDecoder();

        // Bring user back to Transaction details panel
        showRightPanel('tx');

        // Re-sync heights since panel content changed
        syncRightPanelHeights();
      }

      if (clearSigBtn) {
        clearSigBtn.addEventListener('click', clearSigAndResetTx);
      }

      signBtn.addEventListener('click', async () => {
        // Only available after transaction details successfully render
        if (!currentPrivateKeyHex || !/^[0-9a-fA-F]{64}$/.test(currentPrivateKeyHex)) {
          alert('No wallet unlocked. Please unlock a wallet with a keystore, private key or a seed phrase.');
          // Guide user to the unlock panel
          showRightPanel('unlock');
          return;
        }

        clearSigUI();
        if (clearSigBtn) clearSigBtn.disabled = true;

        try {
          const reply = await postJSON('/api/sign', { privateKeyHex: currentPrivateKeyHex });
          if (!reply.ok) throw new Error(reply.error || 'Unknown signing error');

          if (reply.address && /^0x[0-9a-fA-F]{40}$/.test(reply.address)) {
            currentAddress = reply.address;
            updateWalletUI();
            logWalletUnlocked();
          }

          sigText.value = reply.urSignatureUpper;
          if (rHexEl) rHexEl.textContent = reply.r;
          if (sHexEl) sHexEl.textContent = reply.s;
          if (vParityEl) vParityEl.textContent = String(reply.vParity);
          renderSigQr(reply.urSignatureUpper);

          if (clearSigBtn) clearSigBtn.disabled = false;

          // Replace Transaction details with Signature
          showRightPanel('sig');

          // Height sync after panel swap
          syncRightPanelHeights();
        } catch (e) {
          alert('Sign error: ' + (e.message || e));
        }
      });

      // Initial setup: reflect wallet button state + sync heights when DOM is ready
      document.addEventListener('DOMContentLoaded', () => {
        try { resetWalletAlertToSecurityNote(); } catch (_) {}
        setUnlockWalletButtonLabel();
        // After initial paint, measure and align heights
        setTimeout(syncRightPanelHeights, 0);
      });

      window.addEventListener('resize', () => {
        // Keep layout stable across viewport changes
        syncRightPanelHeights();
      });

      // Also do a one-time sync shortly after load (fonts/layout settling)
      setTimeout(syncRightPanelHeights, 250);
    </script>
  </body>
</html>
