<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Sign Transaction</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="./libs/html5-qrcode.min.js"></script>
    <script src="./libs/qrcode.min.js"></script>
    <script src="./libs/ethers.umd.min.js"></script>

    <link rel="stylesheet" href="styles.css">

    <style>
      /* Define a CSS variable for consistency */
	  :root{
	    --max-width: 600px; /* keep yours */
	    --bg: #fafbfc;
	    --text: #0f172a;
	    --muted:#475569;
	    --border:#e2e8f0;
	    --panel:#ffffff;
	    --accent: #357CBA;
	    --danger:#ef4444;
	    --success:#22c55e;
 	   --radius: 10px;

	  /* Current layout had 2 columns with 8px gap. Approx. single block width was (max-width - gap)/2. */
  	  --grid-gap: 8px;
 	  --single-block-width: calc((var(--max-width) - var(--grid-gap)) / 2);

	  /* Default for narrow screens (phone): do NOT apply the multiplier */
	  --single-column-width: calc(var(--single-block-width) * 1);
	  }

	/* Only apply the 1.7x rule on wider screens (tablet/desktop) */
	@media (min-width: 500px){
 	 :root{
 	   --single-column-width: calc(var(--single-block-width) * 1.7);
	  }
	}

      #reader {
        width: 100%;
        max-width: 266px;   /* for example */
        height: 200px;      /* match qrbox size */
        margin: 0 auto;
        overflow: hidden;
      }

      #reader video {
        width: 100%;
        height: 100%;
        object-fit: contain;  /* no cropping */
      }

      /* Make QR preview respect its container */
      #sigQr canvas,
      #sigQr img {
        max-width: 100%;
        max-height: 100%;
        display: block;
      }

      /* New container for the sleeker layout */
      #main-container {
        max-width: var(--single-column-width);
        padding: 0 8px; /* Small padding on edges for mobile view */
        width: 100%;
      }

      /* Apply max-width to the header for consistency */
      header {
        max-width: var(--single-column-width);
        margin: 8px auto 8px auto !important; /* Center the header */
      }

      /* --- CENTERING LOGIC ---
         NOTE: Keeping your general centering approach, but we will stabilize layout by
         fixing right-panel min-heights in JS (see syncRightPanelHeights()).
      */
      body {
        margin: 0;
        padding: 0;
        min-height: 100vh;

        display: flex;
        flex-direction: column;

        align-items: center;
        justify-content: flex-start;

        flex-wrap: wrap;
        overflow: auto;
      }

      /* ===== Wallet banner styles (UPDATED) ===== */
      .alert{
        border-left: 4px solid;
      }

      .alert-red {
        background-color: #ffdddd;  /* light red */
        color: #a00000;             /* dark red text */
        border-color: #d00000;
      }

      .alert-green{
        background-color: #ddffea;
        color: #065f46;
        border-color: #16a34a;
      }
      /* ======================================== */

      /* keystore-tool button styling */
      .btn{
        display:inline-block;
        padding: 7px 6px;
        border-radius: 8px;
        border: 1px solid var(--accent);
        color:#fff;
        background: var(--accent);
        font-weight: 600;
        cursor:pointer;
        font-size: 0.72rem;
        box-shadow: none;
      }

      .btn.secondary{
        background: transparent;
        color: var(--accent);
        border-color: var(--border);
      }

      .btn:disabled{
        opacity: 0.65;
        cursor:not-allowed;
      }
      .btn.secondary:hover,
      .btn.secondary:active,
      .btn.secondary:focus {
        background: transparent;
        color: var(--accent);
        border-color: var(--border);
      }

      /* Wallet status pill (NEW) */
      .status-pill{
        position:absolute;
        top:8px;
        right:8px;
        display:inline-flex;
        align-items:center;
        gap:6px;
        padding:4px 8px;
        border-radius:999px;
        border:1px solid var(--border);
        background: rgba(255,255,255,0.92);
        backdrop-filter: blur(6px);
        font-size: 11px;
        line-height: 1;
        color: var(--muted);
        max-width: calc(100% - 16px);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        pointer-events:none; /* never interfere with camera */
      }
      .status-pill::before{
        content:'';
        width:8px;
        height:8px;
        border-radius:999px;
        background: var(--danger);
        flex:0 0 auto;
      }
      .status-pill--unlocked{
        color: #065f46;
        border-color: rgba(34,197,94,0.35);
      }
      .status-pill--unlocked::before{
        background: var(--success);
      }

      /* Remove wallet button */
      .btn.danger{
        background: transparent;
        border-color: var(--border);
        color: var(--accent);
      }
      .btn.danger:disabled{
        opacity: 0.65;
      }

      .compact-input[type="file"]{
        padding: 4px 4px;
      }

      .compact-input[type="password"]{
        padding: 7px 4px;
      }

      .compact-input[type="text"]{
        padding: 7px 3px;
      }

      /* NEW: Single-column layout wrapper (replacing the 2x2 grid) */
      .grid-2{
        display: grid;
        grid-template-columns: 1fr; /* single column */
        gap: var(--grid-gap);
        align-items: stretch;
      }

      /* In single-column mode, let cards size naturally */
      .grid-2 > .card{
        height: auto;
        min-height: 0;
        overflow: hidden;
      }

      .card{
        box-sizing: border-box;
        width: 100%;
        border:3px solid var(--border);
        border-radius:var(--radius);
      }

      .card > *{
        min-width: 0;
      }

      #walletAlert{
        min-height: 12px;
        display: flex;
        align-items: center;
      }

      #walletAlert{
        margin: 0 !important;
      }

      #walletAlert {
        margin-bottom: 0px !important;
      }

      #walletStatusRow{
        margin-top: -10px !important;
      }

      #scanCard{
        overflow: hidden;
      }
      #scanCard .actions{
        overflow: auto;
        max-height: 70px;
      }

      .tx-header{
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
      }

      .tx-header > *{
        white-space: nowrap;
      }

      /* Optional small-screen behavior: still single column; just ensure inputs wrap */
      @media (max-width: 760px){
        #unlock-keystore > div,
        #unlock-pkFile > div,
        #unlock-manual > div,
        #unlock-mnemonic > div,
        #unlock-mnemonicPass > div{
          flex-wrap: wrap !important;
          align-items: stretch;
        }
      }
	  
      /* Header row */
      #txCard .tx-header{
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap: 8px;
        flex-wrap: wrap;
        margin-bottom: 6px;
      }

      #txCard .tx-title{
        font-weight: 700;
        font-size: 14px;
        margin: 0;
        text-align: left;
        flex: 0 0 auto;
      }

      /* Buttons group: ONE-ROW behavior by default (wide screens) */
      #txCard .tx-actions{
        display:flex;
         gap: 6px;
         margin: 0;

          /* Keep the actions on the right when in the same row */
         margin-left: auto;
         justify-content: flex-end;

        /* Allow wrapping when needed */
        flex-wrap: wrap;
       }

        #txCard .tx-actions .btn{
        flex: 0 0 auto;        /* narrow buttons on wide screens */
        white-space: nowrap;
        margin: 0;
      }

       /* TWO-ROW behavior (narrow screens): actions take full width and buttons stretch */
      @media (max-width: 520px){
        #txCard .tx-actions{
          flex: 1 1 100%;
          width: 100%;
          margin-left: 0;              /* no longer “push right” */
          justify-content: space-between; /* spread across the row */
        }

        #txCard .tx-actions .btn{
          flex: 1 1 0;                 /* each button expands */
          min-width: 0;                /* prevents overflow in tight spaces */
        }
      }
	  
	  #walletAlert,
      #walletUnlockedNote{
        display: block !important;
        width: 100%;
        white-space: normal;
        box-sizing: border-box;
      }
	  
	  /* =========================
      Sleeker "Unlock Wallet" UI
      (layout-only; keeps logic)
      ========================= */

      #unlockCard {
        gap: 10px;
      }

      #unlockCard .unlock-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
      }

      #unlockCard .wallet-panel {
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 10px;
        background: linear-gradient(180deg, rgba(250,251,252,0.9), rgba(255,255,255,0.95));
        box-shadow: 0 1px 0 rgba(15, 23, 42, 0.03);
        overflow: hidden; /* keeps things tight */
      }

      #unlockCard .unlock-mode {
        margin: 0 0 10px 0;
        width: 100%;
        border-radius: 10px;
      }

      /* Each mode section as a compact "form row" */
      #unlockCard .unlock-section {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 10px;
        align-items: end;
      }

      /* Two-field rows (keystore, mnemonic, mnemonicPass) */
      #unlockCard .unlock-fields-2 {
        display: grid;
        grid-template-columns: 1fr 0.7fr;
        gap: 10px;
      }

      /* Three-field rows (mnemonic+pass) */
      #unlockCard .unlock-fields-3 {
        display: grid;
        grid-template-columns: 1.3fr 0.8fr 0.8fr;
        gap: 10px;
      }

      #unlockCard label {
        display: block;
        font-weight: 700;
        font-size: 12px;
        color: var(--muted);
        margin-bottom: 4px;
      }

      #unlockCard input.compact-input,
      #unlockCard select.compact-input {
        width: 100%;
        border-radius: 10px;
        border: 1px solid var(--border);
        background: rgba(255,255,255,0.95);
      }

      #unlockCard .unlock-action {
        display: flex;
        align-items: end;
        justify-content: end;
      }

      #unlockCard .unlock-action .btn {
        padding: 6px 10px;          /* slightly more premium */
        border-radius: 10px;
        font-size: 0.78rem;
      }

      /* Footer note stays pinned and cleaner */
      #unlockCard .unlock-footer {
        margin-top: auto;
        border-radius: 10px;
        padding: 8px 10px;
      }

      /* Responsive: collapse multi-field rows on narrow screens */
      @media (max-width: 560px) {
        #unlockCard .unlock-section {
          grid-template-columns: 1fr;
        }
        #unlockCard .unlock-fields-2,
        #unlockCard .unlock-fields-3 {
          grid-template-columns: 1fr;
        }
        #unlockCard .unlock-action {
          justify-content: stretch;
        }
        #unlockCard .unlock-action .btn {
          width: 100%;
        }
      }
	  
	  /* Unified card titles */
      .card-title {
        font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
		font-weight: 600;
        font-size: 14px;
        margin: 0;
        letter-spacing: 0.01em;
      }

	  /* Default: mobile / narrow screens → stacked */
	  .sig-layout {
	    display: flex;
	    flex-direction: column;
	    gap: 12px;
	    flex: 1 1 auto;
	    overflow: hidden;
	  }

	/* QR block should not shrink */
	.sig-layout > div:first-child {
	  flex: 0 0 auto;
	}

	/* Wider screens → side-by-side */
	@media (min-width: 768px) {
	  .sig-layout {
	    flex-direction: row;
 	   align-items: flex-start;
	    gap: 8px;
	  }

   .sig-layout > div:first-child {
     flex: 0 0 160px;
   }

   .sig-layout > div:last-child {
     flex: 1 1 auto;
   }
 }

	/* Prevent mobile font inflation */
	html {
 	 -webkit-text-size-adjust: 100%;
	  text-size-adjust: 100%;
	}

	.tx-grid{
	  display: grid;
	  grid-template-columns: max-content minmax(0, 1fr);
	  column-gap: 10px;
	  row-gap: 6px;
 	 align-items: baseline;
	  margin: 6px 8px;
	}

	/* Labels: keep compact and stable */
	.tx-grid > .muted{
	  white-space: nowrap;
	  font-size: 0.8rem;
	}

	/* Value column — CRITICAL */
	.tx-val{
	  min-width: 0;                 /* allows shrinking */
	  overflow-wrap: anywhere;      /* breaks long strings */
	  word-break: break-word;
	  line-height: 1.3;
	}

	/* Code blocks (addresses, URs) */
	.tx-code{
	  display: block;
	  max-width: 100%;
	  font-size: 12px;
	  white-space: normal;          /* allow wrapping */
	  overflow-wrap: anywhere;
	  word-break: break-word;
	}

	/* Summary text explicitly allowed to wrap */
	.tx-summary{
	  white-space: normal;
 	  overflow-wrap: anywhere;
	  word-break: break-word;
	}
	
	/* Ensure the grid cell can actually shrink */
	.tx-grid > div {
	  min-width: 0;
	}

	/* Values: allow wrapping of long/unbroken strings */
	.tx-val {
	  min-width: 0;
	  overflow-wrap: anywhere;
	  word-break: break-word;
	}

	/* Summary: force wrapping for anything inside it (including nested <code>) */
	.tx-summary,
	.tx-summary * {
	  min-width: 0;
	  max-width: 100%;
	  white-space: normal;
 	 overflow-wrap: anywhere;
	  word-break: break-word;
	}

	/* If actionLine includes <code>, this is the usual culprit */
	.tx-summary code {
	  white-space: normal !important;
	  overflow-wrap: anywhere !important;
	  word-break: break-word !important;
	  display: inline; /* or block if you prefer */
	}


	html, body {
	  -webkit-text-size-adjust: 100% !important;
	  text-size-adjust: 100% !important;
	}

	#decodedSummary,
	#decodedSummary * {
	  -webkit-text-size-adjust: 100% !important;
	  text-size-adjust: 100% !important;
	}

	body { font-size: 14px; }
	#decodedSummary { font-size: 12px; }
	.tx-grid b { font-size: inherit; }

	/* Keep the outer card properly clipped */
	#sigCard {
	  overflow: hidden;
	  box-sizing: border-box;
	}

	/* Add safe inner spacing for textarea column */
	#sigCard .sig-layout > div:last-child {
	  padding: 4px;
	  box-sizing: border-box;
	}

	/* Constrain textarea correctly */
	#sigText {
	  width: 100%;
	  max-width: 100%;
	  box-sizing: border-box;
	  display: block;
	}

	/* ===== Signature panel: prevent horizontal overflow on phones ===== */

	/* Keep the card rounded and clipping */
	#sigCard {
	  overflow: hidden;
	  padding: 8px;              /* key: gives textarea/header breathing room */
	  box-sizing: border-box;
	}

	/* Do not clip inside the layout */
	#sigCard .sig-layout {
	  overflow: visible;
	}

	/* Critical for flex children: allow shrinking instead of overflowing */
	#sigCard .sig-layout > div {
	  min-width: 0;
	}

	/* Override the global nowrap that causes the overflow */
	#sigCard .tx-header > * {
	  white-space: normal;
	}

	/* Make right column a flex stack so textarea can size cleanly */
	#sigCard .sig-layout > div:last-child {
	  display: flex;
	  flex-direction: column;
	  min-width: 0;
	}

	/* Fix textarea sizing: don't use height:100% here (it causes bad math in flex layouts) */
	#sigText {
	  width: 100%;
	  max-width: 100%;
	  box-sizing: border-box;
	  display: block;

	  height: auto !important;   /* overrides your inline height:100% */
	  flex: 1 1 auto;
	  min-height: 0;
	}

	.wallet-address {
	  font-family: monospace;
	  font-size: 1em;

 	 /* default: wide screens */
	  white-space: nowrap;
	  margin-left: 4px;
	}

	/* Narrow screens: allow wrapping */
	@media (max-width: 520px) {
	  .wallet-address {
	    display: block;              /* moves to second row */
	    margin-left: 0;
 	   margin-top: 2px;

 	   white-space: normal;
 	   overflow-wrap: anywhere;
 	   word-break: break-word;
 	 }
	}

    </style>
  </head>

  <body>
    <header style="margin-bottom: 8px; text-align:center;">
      <h1 style="margin-bottom: 8px; margin-top: 24px; font-size: 17px; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; line-height: 1.1;">Sign Transaction</h1>
      <p class="muted small" style="max-width: 800px; margin: 0 auto; font-size: 14px; margin-bottom: 8px;">
        Scan signature request, verify & sign transaction
      </p>
    </header>

    <div id="main-container">
      <!-- Single column: Camera -> Unlock Wallet -> Transaction details -> Signature -->
      <div class="grid-2">

        <!-- Camera -->
        <div id="cameraCard" class="card"
             style="display:flex; flex-direction:column; overflow:hidden; position:relative;">
          <div id="reader"
               style="
                 flex:0 0 auto;
                 height:200px;
                 max-height:200px;
                 margin: 0 auto;
                 overflow:hidden;
               ">
          </div>

          <div id="walletStatusPill" class="status-pill status-pill--locked" aria-live="polite">No wallet unlocked</div>

          <div class="actions"
               style="
                 margin-top: 0px;
                 flex-wrap: wrap;
                 gap: 4px;
                 justify-content: center;
                 text-align: center;
               ">
            <button id="cameraToggleBtn" class="btn" type="button" style="margin-top: 0px;">Start camera</button>
            <button id="unlockWalletBtn" class="btn secondary" type="button" style="margin-top: 0px;">Unlock wallet</button>
            <button id="removeWalletBtn" class="btn danger" type="button" style="margin-top: 0px; display:none;">Remove wallet</button>
          </div>

          <!-- (1) Camera status removed from UI per request -->
        </div>

        <!-- Unlock Wallet -->
        <div id="unlockCard" class="card" style="display:none; flex-direction:column;">

          <!-- Header -->
          <div class="unlock-header">
            <div class="card-title">Unlock Wallet</div>
          </div>

          <!-- Status row (kept for compatibility, still hidden by your JS) -->
          <div id="walletStatusRow" style="display:none;"></div>

          <!-- Main content -->
          <div class="wallet-panel" style="flex:1 1 auto;">

			<select id="unlockMode" class="compact-input unlock-mode">
			<option value="keystore">Import Keystore</option>
			<option value="pkFile">Import Private key</option>
			<option value="manual">Enter Private key</option>
			<option value="mnemonic">Enter Seed phrase</option>
			<option value="mnemonicPass">Enter Seed phrase + Passphrase</option>
			</select>

			<!-- Keystore -->
			<div id="unlock-keystore" class="compact-text">
			<div class="unlock-section">
				<div class="unlock-fields-2">
				<div>
					<label for="keystoreFile">Keystore (.json)</label>
					<input id="keystoreFile" type="file" accept=".json" class="compact-input">
				</div>

				<div>
					<label for="keystorePassword">Password</label>
					<input id="keystorePassword" type="password" autocomplete="off"
						class="compact-input" placeholder="Password">
				</div>
				</div>

				<div class="unlock-action">
				<button id="keystoreUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			</div>
			</div>

			<!-- Private key file -->
			<div id="unlock-pkFile" class="compact-text" style="display:none;">
			<div class="unlock-section">
				<div>
				<label for="pkFile">Private key file (.txt)</label>
				<input id="pkFile" type="file" accept=".txt" class="compact-input">
				</div>

				<div class="unlock-action">
				<button id="pkFileUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			</div>
			</div>

			<!-- Manual private key -->
			<div id="unlock-manual" class="compact-text" style="display:none;">
			<div class="unlock-section">
				<div>
				<label for="pkManual">Private key</label>
				<input id="pkManual" type="password" autocomplete="off"
						class="compact-input" placeholder="Enter private key">
				</div>

				<div class="unlock-action">
				<button id="manualUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			</div>
			</div>

			<!-- Mnemonic -->
			<div id="unlock-mnemonic" class="compact-text" style="display:none;">
			<div class="unlock-section">
				<div class="unlock-fields-2">
				<div>
					<label for="mnemonicInput">Mnemonic phrase</label>
					<input id="mnemonicInput" type="password" autocomplete="off"
						class="compact-input" placeholder="Enter seed phrase">
				</div>
	
				<div>
					<label for="derivationPathInput">Path</label>
					<input id="derivationPathInput" type="text" autocomplete="off"
						class="compact-input" value="m/44'/60'/0'/0/0">
				</div>
				</div>

				<div class="unlock-action">
				<button id="mnemonicUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			</div>
			</div>

			<!-- Mnemonic + passphrase -->
			<div id="unlock-mnemonicPass" class="compact-text" style="display:none;">
			<div class="unlock-section">
				<div class="unlock-fields-3">
				 <div>
					<label for="mnemonicInput2">Mnemonic</label>
					<input id="mnemonicInput2" type="password" autocomplete="off"
						class="compact-input" placeholder="Seed phrase">
				 </div>
		
				 <div>
					<label for="mnemonicPassphraseInput">Passphrase</label>
					<input id="mnemonicPassphraseInput" type="password" autocomplete="off"
						class="compact-input" placeholder="Optional">
				 </div>

				 <div>
					<label for="derivationPathInput2">Path</label>
					<input id="derivationPathInput2" type="text" autocomplete="off"
						class="compact-input" value="m/44'/60'/0'/0/0">
				 </div>
				</div>

				<div class="unlock-action">
				<button id="mnemonicPassUnlockBtn" class="btn" type="button">Unlock</button>
				</div>
			 </div>
			</div>

		 </div>

		 <!-- Security note (pinned to bottom) -->
		 <div id="walletAlert" class="alert alert-red compact-text unlock-footer">
			<strong>Security Note:</strong>
			&thinsp; Use this tool on an air-gapped machine for maximum security.
		 </div>

		 <!-- Unlocked note -->
		 <div id="walletUnlockedNote" class="muted compact-text" style="margin-top:2px; display:none;"></div>

	    </div>


        <!-- Transaction details -->
        <div id="txCard" class="card" aria-label="Decoded request panel"
             style="display:flex; flex-direction:column; min-height:180px;">

        <div class="tx-header">
          <h3 class="card-title" style="margin-bottom:4px; margin-top:4px;">Transaction Details</h3>

          <!-- Buttons hidden by default; only shown when transaction details are successfully rendered -->
          <div id="txActions" class="tx-actions" style="display:none;">
            <button id="signBtn" class="btn" type="button">&thinsp;&thinsp;&thinsp;&thinsp;Sign&thinsp;&thinsp;&thinsp;&thinsp;</button>
            <button id="refreshPreviewBtn" class="btn secondary" type="button">Refresh</button>
            <button id="resetBtn" class="btn secondary" type="button">Reset</button>
          </div>
        </div>

          <div id="decodedSummary" class="compact-text"
               style="flex:1 1 auto; max-height:100%; border:1px solid var(--border); border-radius:10px; padding:6px; background:#fff; overflow:auto; margin-top:-10px;">
            <div class="muted">Scan a transaction request QR code</div>
          </div>
        </div>

        <!-- Signature -->
        <div id="sigCard" class="card"
             style="display:none; flex-direction:column; min-height:180px;">

          <div class="sig-layout">


            <div style="flex:0 0 160px;">
              <h3 class="card-title" style="margin-top:4px; margin-bottom:2px;">Signature QR</h3>
              <div id="sigQr" style="width:153px; height:153px; margin-top: 8px;"></div>
            </div>

            <div style="flex:1 1 auto;">
              <div class="tx-header" style="margin-top:0;">
                <h3 class="card-title">UR:ETH-SIGNATURE</h3>
                <!-- (4) Now acts as a reset button too (implemented in JS), label unchanged -->
                <button id="clearSigBtn" class="btn secondary" disabled type="button" style="padding:6px 8px;">Clear</button>
              </div>
              <textarea id="sigText"
                        rows="9"
                        class="mono compact-text"
                        readonly
                        style="width:100%; height:100%; margin-top:4px; resize:none; overflow:auto; font-size:0.86rem;"></textarea>
            </div>
          </div>

          <div style="display:none;">
            <span id="rHex"></span>
            <span id="sHex"></span>
            <span id="vParity"></span>
          </div>
        </div>

      </div>
    </div>

    <div style="display:none;">
      <textarea id="log" rows="8" class="mono" readonly></textarea>
      <div id="result" class="muted small">Waiting for frames…</div>
    </div>

	  <script>
  // WebView shim for Node globals used by the bundled libraries
  (function () {
    if (typeof window.global === "undefined") window.global = window;

    if (typeof window.process === "undefined") {
      window.process = {
        env: {},
        pid: 0,
        browser: true,
        versions: {},
        argv: [],
        cwd: function () { return "/"; },
        nextTick: function (fn) { Promise.resolve().then(fn); },
        on: function () {},
        emit: function () {},
        noDeprecation: true,
        traceDeprecation: false,
        throwDeprecation: false
      };
    } else {
      window.process.env = window.process.env || {};
      if (typeof window.process.pid === "undefined") window.process.pid = 0;
    }
  })();
</script>

    <script>
(()=>{var Wl=Object.create;var no=Object.defineProperty;var Hl=Object.getOwnPropertyDescriptor;var Vl=Object.getOwnPropertyNames;var Xl=Object.getPrototypeOf,Yl=Object.prototype.hasOwnProperty;var Jl=(t,e)=>()=>(t&&(e=t(t=0)),e);var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ql=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Vl(e))!Yl.call(t,a)&&a!==r&&no(t,a,{get:()=>e[a],enumerable:!(n=Hl(e,a))||n.enumerable});return t};var Kn=(t,e,r)=>(r=t!=null?Wl(Xl(t)):{},Ql(e||!t||!t.__esModule?no(r,"default",{value:t,enumerable:!0}):r,t));var uo=T((i2,ao)=>{p();var ae=ao.exports={},Le,ke;function ei(){throw new Error("setTimeout has not been defined")}function ti(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Le=setTimeout:Le=ei}catch{Le=ei}try{typeof clearTimeout=="function"?ke=clearTimeout:ke=ti}catch{ke=ti}})();function io(t){if(Le===setTimeout)return setTimeout(t,0);if((Le===ei||!Le)&&setTimeout)return Le=setTimeout,setTimeout(t,0);try{return Le(t,0)}catch{try{return Le.call(null,t,0)}catch{return Le.call(this,t,0)}}}function Zl(t){if(ke===clearTimeout)return clearTimeout(t);if((ke===ti||!ke)&&clearTimeout)return ke=clearTimeout,clearTimeout(t);try{return ke(t)}catch{try{return ke.call(null,t)}catch{return ke.call(this,t)}}}var Xe=[],Bt=!1,xt,Rr=-1;function Kl(){!Bt||!xt||(Bt=!1,xt.length?Xe=xt.concat(Xe):Rr=-1,Xe.length&&oo())}function oo(){if(!Bt){var t=io(Kl);Bt=!0;for(var e=Xe.length;e;){for(xt=Xe,Xe=[];++Rr<e;)xt&&xt[Rr].run();Rr=-1,e=Xe.length}xt=null,Bt=!1,Zl(t)}}ae.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Xe.push(new fo(t,e)),Xe.length===1&&!Bt&&io(oo)};function fo(t,e){this.fun=t,this.array=e}fo.prototype.run=function(){this.fun.apply(null,this.array)};ae.title="browser";ae.browser=!0;ae.env={};ae.argv=[];ae.version="";ae.versions={};function Ye(){}ae.on=Ye;ae.addListener=Ye;ae.once=Ye;ae.off=Ye;ae.removeListener=Ye;ae.removeAllListeners=Ye;ae.emit=Ye;ae.prependListener=Ye;ae.prependOnceListener=Ye;ae.listeners=function(t){return[]};ae.binding=function(t){throw new Error("process.binding is not supported")};ae.cwd=function(){return"/"};ae.chdir=function(t){throw new Error("process.chdir is not supported")};ae.umask=function(){return 0}});var lo=T(Nr=>{"use strict";p();Nr.byteLength=tx;Nr.toByteArray=nx;Nr.fromByteArray=fx;var $e=[],Be=[],ex=typeof Uint8Array<"u"?Uint8Array:Array,ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ht=0,so=ri.length;ht<so;++ht)$e[ht]=ri[ht],Be[ri.charCodeAt(ht)]=ht;var ht,so;Be[45]=62;Be[95]=63;function co(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function tx(t){var e=co(t),r=e[0],n=e[1];return(r+n)*3/4-n}function rx(t,e,r){return(e+r)*3/4-r}function nx(t){var e,r=co(t),n=r[0],a=r[1],o=new ex(rx(t,n,a)),c=0,i=a>0?n-4:n,f;for(f=0;f<i;f+=4)e=Be[t.charCodeAt(f)]<<18|Be[t.charCodeAt(f+1)]<<12|Be[t.charCodeAt(f+2)]<<6|Be[t.charCodeAt(f+3)],o[c++]=e>>16&255,o[c++]=e>>8&255,o[c++]=e&255;return a===2&&(e=Be[t.charCodeAt(f)]<<2|Be[t.charCodeAt(f+1)]>>4,o[c++]=e&255),a===1&&(e=Be[t.charCodeAt(f)]<<10|Be[t.charCodeAt(f+1)]<<4|Be[t.charCodeAt(f+2)]>>2,o[c++]=e>>8&255,o[c++]=e&255),o}function ix(t){return $e[t>>18&63]+$e[t>>12&63]+$e[t>>6&63]+$e[t&63]}function ox(t,e,r){for(var n,a=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),a.push(ix(n));return a.join("")}function fx(t){for(var e,r=t.length,n=r%3,a=[],o=16383,c=0,i=r-n;c<i;c+=o)a.push(ox(t,c,c+o>i?i:c+o));return n===1?(e=t[r-1],a.push($e[e>>2]+$e[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],a.push($e[e>>10]+$e[e>>4&63]+$e[e<<2&63]+"=")),a.join("")}});var xo=T(ni=>{p();ni.read=function(t,e,r,n,a){var o,c,i=a*8-n-1,f=(1<<i)-1,u=f>>1,s=-7,l=r?a-1:0,d=r?-1:1,m=t[e+l];for(l+=d,o=m&(1<<-s)-1,m>>=-s,s+=i;s>0;o=o*256+t[e+l],l+=d,s-=8);for(c=o&(1<<-s)-1,o>>=-s,s+=n;s>0;c=c*256+t[e+l],l+=d,s-=8);if(o===0)o=1-u;else{if(o===f)return c?NaN:(m?-1:1)*(1/0);c=c+Math.pow(2,n),o=o-u}return(m?-1:1)*c*Math.pow(2,o-n)};ni.write=function(t,e,r,n,a,o){var c,i,f,u=o*8-a-1,s=(1<<u)-1,l=s>>1,d=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,_=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(i=isNaN(e)?1:0,c=s):(c=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+l>=1?e+=d/f:e+=d*Math.pow(2,1-l),e*f>=2&&(c++,f/=2),c+l>=s?(i=0,c=s):c+l>=1?(i=(e*f-1)*Math.pow(2,a),c=c+l):(i=e*Math.pow(2,l-1)*Math.pow(2,a),c=0));a>=8;t[r+m]=i&255,m+=_,i/=256,a-=8);for(c=c<<a|i,u+=a;u>0;t[r+m]=c&255,m+=_,c/=256,u-=8);t[r+m-_]|=D*128}});var ge=T(Ot=>{"use strict";p();var ii=lo(),St=xo(),ho=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ot.Buffer=F;Ot.SlowBuffer=xx;Ot.INSPECT_MAX_BYTES=50;var Cr=2147483647;Ot.kMaxLength=Cr;F.TYPED_ARRAY_SUPPORT=ax();!F.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ax(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(F.prototype,"parent",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.buffer}});Object.defineProperty(F.prototype,"offset",{enumerable:!0,get:function(){if(F.isBuffer(this))return this.byteOffset}});function Je(t){if(t>Cr)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,F.prototype),e}function F(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ui(t)}return yo(t,e,r)}F.poolSize=8192;function yo(t,e,r){if(typeof t=="string")return sx(t,e);if(ArrayBuffer.isView(t))return cx(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Ge(t,ArrayBuffer)||t&&Ge(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ge(t,SharedArrayBuffer)||t&&Ge(t.buffer,SharedArrayBuffer)))return fi(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return F.from(n,e,r);let a=lx(t);if(a)return a;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return F.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}F.from=function(t,e,r){return yo(t,e,r)};Object.setPrototypeOf(F.prototype,Uint8Array.prototype);Object.setPrototypeOf(F,Uint8Array);function mo(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function ux(t,e,r){return mo(t),t<=0?Je(t):e!==void 0?typeof r=="string"?Je(t).fill(e,r):Je(t).fill(e):Je(t)}F.alloc=function(t,e,r){return ux(t,e,r)};function ui(t){return mo(t),Je(t<0?0:si(t)|0)}F.allocUnsafe=function(t){return ui(t)};F.allocUnsafeSlow=function(t){return ui(t)};function sx(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!F.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=_o(t,e)|0,n=Je(r),a=n.write(t,e);return a!==r&&(n=n.slice(0,a)),n}function oi(t){let e=t.length<0?0:si(t.length)|0,r=Je(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function cx(t){if(Ge(t,Uint8Array)){let e=new Uint8Array(t);return fi(e.buffer,e.byteOffset,e.byteLength)}return oi(t)}function fi(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,F.prototype),n}function lx(t){if(F.isBuffer(t)){let e=si(t.length)|0,r=Je(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||li(t.length)?Je(0):oi(t);if(t.type==="Buffer"&&Array.isArray(t.data))return oi(t.data)}function si(t){if(t>=Cr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Cr.toString(16)+" bytes");return t|0}function xx(t){return+t!=t&&(t=0),F.alloc(+t)}F.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==F.prototype};F.compare=function(e,r){if(Ge(e,Uint8Array)&&(e=F.from(e,e.offset,e.byteLength)),Ge(r,Uint8Array)&&(r=F.from(r,r.offset,r.byteLength)),!F.isBuffer(e)||!F.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,a=r.length;for(let o=0,c=Math.min(n,a);o<c;++o)if(e[o]!==r[o]){n=e[o],a=r[o];break}return n<a?-1:a<n?1:0};F.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};F.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return F.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let a=F.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let c=e[n];if(Ge(c,Uint8Array))o+c.length>a.length?(F.isBuffer(c)||(c=F.from(c)),c.copy(a,o)):Uint8Array.prototype.set.call(a,c,o);else if(F.isBuffer(c))c.copy(a,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=c.length}return a};function _o(t,e){if(F.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Ge(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let a=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ai(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Po(t).length;default:if(a)return n?-1:ai(t).length;e=(""+e).toLowerCase(),a=!0}}F.byteLength=_o;function hx(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Ex(this,e,r);case"utf8":case"utf-8":return vo(this,e,r);case"ascii":return wx(this,e,r);case"latin1":case"binary":return vx(this,e,r);case"base64":return mx(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bx(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}F.prototype._isBuffer=!0;function dt(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}F.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)dt(this,r,r+1);return this};F.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)dt(this,r,r+3),dt(this,r+1,r+2);return this};F.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)dt(this,r,r+7),dt(this,r+1,r+6),dt(this,r+2,r+5),dt(this,r+3,r+4);return this};F.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?vo(this,0,e):hx.apply(this,arguments)};F.prototype.toLocaleString=F.prototype.toString;F.prototype.equals=function(e){if(!F.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:F.compare(this,e)===0};F.prototype.inspect=function(){let e="",r=Ot.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};ho&&(F.prototype[ho]=F.prototype.inspect);F.prototype.compare=function(e,r,n,a,o){if(Ge(e,Uint8Array)&&(e=F.from(e,e.offset,e.byteLength)),!F.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),a===void 0&&(a=0),o===void 0&&(o=this.length),r<0||n>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&r>=n)return 0;if(a>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,a>>>=0,o>>>=0,this===e)return 0;let c=o-a,i=n-r,f=Math.min(c,i),u=this.slice(a,o),s=e.slice(r,n);for(let l=0;l<f;++l)if(u[l]!==s[l]){c=u[l],i=s[l];break}return c<i?-1:i<c?1:0};function wo(t,e,r,n,a){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,li(r)&&(r=a?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(a)return-1;r=t.length-1}else if(r<0)if(a)r=0;else return-1;if(typeof e=="string"&&(e=F.from(e,n)),F.isBuffer(e))return e.length===0?-1:po(t,e,r,n,a);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):po(t,[e],r,n,a);throw new TypeError("val must be string, number or Buffer")}function po(t,e,r,n,a){let o=1,c=t.length,i=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,c/=2,i/=2,r/=2}function f(s,l){return o===1?s[l]:s.readUInt16BE(l*o)}let u;if(a){let s=-1;for(u=r;u<c;u++)if(f(t,u)===f(e,s===-1?0:u-s)){if(s===-1&&(s=u),u-s+1===i)return s*o}else s!==-1&&(u-=u-s),s=-1}else for(r+i>c&&(r=c-i),u=r;u>=0;u--){let s=!0;for(let l=0;l<i;l++)if(f(t,u+l)!==f(e,l)){s=!1;break}if(s)return u}return-1}F.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};F.prototype.indexOf=function(e,r,n){return wo(this,e,r,n,!0)};F.prototype.lastIndexOf=function(e,r,n){return wo(this,e,r,n,!1)};function dx(t,e,r,n){r=Number(r)||0;let a=t.length-r;n?(n=Number(n),n>a&&(n=a)):n=a;let o=e.length;n>o/2&&(n=o/2);let c;for(c=0;c<n;++c){let i=parseInt(e.substr(c*2,2),16);if(li(i))return c;t[r+c]=i}return c}function px(t,e,r,n){return Ur(ai(e,t.length-r),t,r,n)}function gx(t,e,r,n){return Ur(Ox(e),t,r,n)}function bx(t,e,r,n){return Ur(Po(e),t,r,n)}function yx(t,e,r,n){return Ur(Px(e,t.length-r),t,r,n)}F.prototype.write=function(e,r,n,a){if(r===void 0)a="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")a=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,a===void 0&&(a="utf8")):(a=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let c=!1;for(;;)switch(a){case"hex":return dx(this,e,r,n);case"utf8":case"utf-8":return px(this,e,r,n);case"ascii":case"latin1":case"binary":return gx(this,e,r,n);case"base64":return bx(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yx(this,e,r,n);default:if(c)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),c=!0}};F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mx(t,e,r){return e===0&&r===t.length?ii.fromByteArray(t):ii.fromByteArray(t.slice(e,r))}function vo(t,e,r){r=Math.min(t.length,r);let n=[],a=e;for(;a<r;){let o=t[a],c=null,i=o>239?4:o>223?3:o>191?2:1;if(a+i<=r){let f,u,s,l;switch(i){case 1:o<128&&(c=o);break;case 2:f=t[a+1],(f&192)===128&&(l=(o&31)<<6|f&63,l>127&&(c=l));break;case 3:f=t[a+1],u=t[a+2],(f&192)===128&&(u&192)===128&&(l=(o&15)<<12|(f&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:f=t[a+1],u=t[a+2],s=t[a+3],(f&192)===128&&(u&192)===128&&(s&192)===128&&(l=(o&15)<<18|(f&63)<<12|(u&63)<<6|s&63,l>65535&&l<1114112&&(c=l))}}c===null?(c=65533,i=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|c&1023),n.push(c),a+=i}return _x(n)}var go=4096;function _x(t){let e=t.length;if(e<=go)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=go));return r}function wx(t,e,r){let n="";r=Math.min(t.length,r);for(let a=e;a<r;++a)n+=String.fromCharCode(t[a]&127);return n}function vx(t,e,r){let n="";r=Math.min(t.length,r);for(let a=e;a<r;++a)n+=String.fromCharCode(t[a]);return n}function Ex(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let a="";for(let o=e;o<r;++o)a+=qx[t[o]];return a}function Bx(t,e,r){let n=t.slice(e,r),a="";for(let o=0;o<n.length-1;o+=2)a+=String.fromCharCode(n[o]+n[o+1]*256);return a}F.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let a=this.subarray(e,r);return Object.setPrototypeOf(a,F.prototype),a};function se(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUintLE=F.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||se(e,r,this.length);let a=this[e],o=1,c=0;for(;++c<r&&(o*=256);)a+=this[e+c]*o;return a};F.prototype.readUintBE=F.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||se(e,r,this.length);let a=this[e+--r],o=1;for(;r>0&&(o*=256);)a+=this[e+--r]*o;return a};F.prototype.readUint8=F.prototype.readUInt8=function(e,r){return e=e>>>0,r||se(e,1,this.length),this[e]};F.prototype.readUint16LE=F.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||se(e,2,this.length),this[e]|this[e+1]<<8};F.prototype.readUint16BE=F.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||se(e,2,this.length),this[e]<<8|this[e+1]};F.prototype.readUint32LE=F.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||se(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};F.prototype.readUint32BE=F.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||se(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};F.prototype.readBigUInt64LE=Ke(function(e){e=e>>>0,It(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Zt(e,this.length-8);let a=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(a)+(BigInt(o)<<BigInt(32))});F.prototype.readBigUInt64BE=Ke(function(e){e=e>>>0,It(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Zt(e,this.length-8);let a=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(a)<<BigInt(32))+BigInt(o)});F.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||se(e,r,this.length);let a=this[e],o=1,c=0;for(;++c<r&&(o*=256);)a+=this[e+c]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*r)),a};F.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||se(e,r,this.length);let a=r,o=1,c=this[e+--a];for(;a>0&&(o*=256);)c+=this[e+--a]*o;return o*=128,c>=o&&(c-=Math.pow(2,8*r)),c};F.prototype.readInt8=function(e,r){return e=e>>>0,r||se(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};F.prototype.readInt16LE=function(e,r){e=e>>>0,r||se(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};F.prototype.readInt16BE=function(e,r){e=e>>>0,r||se(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};F.prototype.readInt32LE=function(e,r){return e=e>>>0,r||se(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};F.prototype.readInt32BE=function(e,r){return e=e>>>0,r||se(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};F.prototype.readBigInt64LE=Ke(function(e){e=e>>>0,It(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Zt(e,this.length-8);let a=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(a)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});F.prototype.readBigInt64BE=Ke(function(e){e=e>>>0,It(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Zt(e,this.length-8);let a=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});F.prototype.readFloatLE=function(e,r){return e=e>>>0,r||se(e,4,this.length),St.read(this,e,!0,23,4)};F.prototype.readFloatBE=function(e,r){return e=e>>>0,r||se(e,4,this.length),St.read(this,e,!1,23,4)};F.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||se(e,8,this.length),St.read(this,e,!0,52,8)};F.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||se(e,8,this.length),St.read(this,e,!1,52,8)};function me(t,e,r,n,a,o){if(!F.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}F.prototype.writeUintLE=F.prototype.writeUIntLE=function(e,r,n,a){if(e=+e,r=r>>>0,n=n>>>0,!a){let i=Math.pow(2,8*n)-1;me(this,e,r,n,i,0)}let o=1,c=0;for(this[r]=e&255;++c<n&&(o*=256);)this[r+c]=e/o&255;return r+n};F.prototype.writeUintBE=F.prototype.writeUIntBE=function(e,r,n,a){if(e=+e,r=r>>>0,n=n>>>0,!a){let i=Math.pow(2,8*n)-1;me(this,e,r,n,i,0)}let o=n-1,c=1;for(this[r+o]=e&255;--o>=0&&(c*=256);)this[r+o]=e/c&255;return r+n};F.prototype.writeUint8=F.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,1,255,0),this[r]=e&255,r+1};F.prototype.writeUint16LE=F.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};F.prototype.writeUint16BE=F.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};F.prototype.writeUint32LE=F.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};F.prototype.writeUint32BE=F.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Eo(t,e,r,n,a){Oo(e,n,a,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let c=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=c,c=c>>8,t[r++]=c,c=c>>8,t[r++]=c,c=c>>8,t[r++]=c,r}function Bo(t,e,r,n,a){Oo(e,n,a,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let c=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=c,c=c>>8,t[r+2]=c,c=c>>8,t[r+1]=c,c=c>>8,t[r]=c,r+8}F.prototype.writeBigUInt64LE=Ke(function(e,r=0){return Eo(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeBigUInt64BE=Ke(function(e,r=0){return Bo(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeIntLE=function(e,r,n,a){if(e=+e,r=r>>>0,!a){let f=Math.pow(2,8*n-1);me(this,e,r,n,f-1,-f)}let o=0,c=1,i=0;for(this[r]=e&255;++o<n&&(c*=256);)e<0&&i===0&&this[r+o-1]!==0&&(i=1),this[r+o]=(e/c>>0)-i&255;return r+n};F.prototype.writeIntBE=function(e,r,n,a){if(e=+e,r=r>>>0,!a){let f=Math.pow(2,8*n-1);me(this,e,r,n,f-1,-f)}let o=n-1,c=1,i=0;for(this[r+o]=e&255;--o>=0&&(c*=256);)e<0&&i===0&&this[r+o+1]!==0&&(i=1),this[r+o]=(e/c>>0)-i&255;return r+n};F.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};F.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};F.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};F.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};F.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||me(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};F.prototype.writeBigInt64LE=Ke(function(e,r=0){return Eo(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});F.prototype.writeBigInt64BE=Ke(function(e,r=0){return Bo(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ao(t,e,r,n,a,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function So(t,e,r,n,a){return e=+e,r=r>>>0,a||Ao(t,e,r,4,34028234663852886e22,-34028234663852886e22),St.write(t,e,r,n,23,4),r+4}F.prototype.writeFloatLE=function(e,r,n){return So(this,e,r,!0,n)};F.prototype.writeFloatBE=function(e,r,n){return So(this,e,r,!1,n)};function Io(t,e,r,n,a){return e=+e,r=r>>>0,a||Ao(t,e,r,8,17976931348623157e292,-17976931348623157e292),St.write(t,e,r,n,52,8),r+8}F.prototype.writeDoubleLE=function(e,r,n){return Io(this,e,r,!0,n)};F.prototype.writeDoubleBE=function(e,r,n){return Io(this,e,r,!1,n)};F.prototype.copy=function(e,r,n,a){if(!F.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!a&&a!==0&&(a=this.length),r>=e.length&&(r=e.length),r||(r=0),a>0&&a<n&&(a=n),a===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-r<a-n&&(a=e.length-r+n);let o=a-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,a):Uint8Array.prototype.set.call(e,this.subarray(n,a),r),o};F.prototype.fill=function(e,r,n,a){if(typeof e=="string"){if(typeof r=="string"?(a=r,r=0,n=this.length):typeof n=="string"&&(a=n,n=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!F.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(e.length===1){let c=e.charCodeAt(0);(a==="utf8"&&c<128||a==="latin1")&&(e=c)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let c=F.isBuffer(e)?e:F.from(e,a),i=c.length;if(i===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=c[o%i]}return this};var At={};function ci(t,e,r){At[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}ci("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);ci("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);ci("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,a=r;return Number.isInteger(r)&&Math.abs(r)>2**32?a=bo(String(r)):typeof r=="bigint"&&(a=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(a=bo(a)),a+="n"),n+=` It must be ${e}. Received ${a}`,n},RangeError);function bo(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Ax(t,e,r){It(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Zt(e,t.length-(r+1))}function Oo(t,e,r,n,a,o){if(t>r||t<e){let c=typeof e=="bigint"?"n":"",i;throw o>3?e===0||e===BigInt(0)?i=`>= 0${c} and < 2${c} ** ${(o+1)*8}${c}`:i=`>= -(2${c} ** ${(o+1)*8-1}${c}) and < 2 ** ${(o+1)*8-1}${c}`:i=`>= ${e}${c} and <= ${r}${c}`,new At.ERR_OUT_OF_RANGE("value",i,t)}Ax(n,a,o)}function It(t,e){if(typeof t!="number")throw new At.ERR_INVALID_ARG_TYPE(e,"number",t)}function Zt(t,e,r){throw Math.floor(t)!==t?(It(t,r),new At.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new At.ERR_BUFFER_OUT_OF_BOUNDS:new At.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Sx=/[^+/0-9A-Za-z-_]/g;function Ix(t){if(t=t.split("=")[0],t=t.trim().replace(Sx,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function ai(t,e){e=e||1/0;let r,n=t.length,a=null,o=[];for(let c=0;c<n;++c){if(r=t.charCodeAt(c),r>55295&&r<57344){if(!a){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(c+1===n){(e-=3)>-1&&o.push(239,191,189);continue}a=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(e-=3)>-1&&o.push(239,191,189);if(a=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Ox(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Px(t,e){let r,n,a,o=[];for(let c=0;c<t.length&&!((e-=2)<0);++c)r=t.charCodeAt(c),n=r>>8,a=r%256,o.push(a),o.push(n);return o}function Po(t){return ii.toByteArray(Ix(t))}function Ur(t,e,r,n){let a;for(a=0;a<n&&!(a+r>=e.length||a>=t.length);++a)e[a+r]=t[a];return a}function Ge(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function li(t){return t!==t}var qx=(function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let a=0;a<16;++a)e[n+a]=t[r]+t[a]}return e})();function Ke(t){return typeof BigInt>"u"?Dx:t}function Dx(){throw new Error("BigInt not supported")}});var qo,Do,p=Jl(()=>{qo=Kn(uo()),Do=Kn(ge());window.process=qo.default;window.Buffer=Do.Buffer;window.global=window});var jr=T(Ae=>{"use strict";p();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.InvalidChecksumError=Ae.InvalidSequenceComponentError=Ae.InvalidTypeError=Ae.InvalidPathLengthError=Ae.InvalidSchemeError=void 0;var xi=class extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}};Ae.InvalidSchemeError=xi;var hi=class extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}};Ae.InvalidPathLengthError=hi;var di=class extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}};Ae.InvalidTypeError=di;var pi=class extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}};Ae.InvalidSequenceComponentError=pi;var gi=class extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}};Ae.InvalidChecksumError=gi});var et=T((p2,bi)=>{p();typeof Object.create=="function"?bi.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:bi.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Qe=T((yi,Fo)=>{p();var Mr=ge(),ze=Mr.Buffer;function To(t,e){for(var r in t)e[r]=t[r]}ze.from&&ze.alloc&&ze.allocUnsafe&&ze.allocUnsafeSlow?Fo.exports=Mr:(To(Mr,yi),yi.Buffer=pt);function pt(t,e,r){return ze(t,e,r)}pt.prototype=Object.create(ze.prototype);To(ze,pt);pt.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ze(t,e,r)};pt.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ze(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};pt.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ze(t)};pt.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Mr.SlowBuffer(t)}});var No=T((y2,Ro)=>{p();var Tx={}.toString;Ro.exports=Array.isArray||function(t){return Tx.call(t)=="[object Array]"}});var gt=T((_2,Co)=>{"use strict";p();Co.exports=TypeError});var Lr=T((v2,Uo)=>{"use strict";p();Uo.exports=Object});var Mo=T((B2,jo)=>{"use strict";p();jo.exports=Error});var ko=T((S2,Lo)=>{"use strict";p();Lo.exports=EvalError});var Go=T((O2,$o)=>{"use strict";p();$o.exports=RangeError});var Wo=T((q2,zo)=>{"use strict";p();zo.exports=ReferenceError});var mi=T((T2,Ho)=>{"use strict";p();Ho.exports=SyntaxError});var Xo=T((R2,Vo)=>{"use strict";p();Vo.exports=URIError});var Jo=T((C2,Yo)=>{"use strict";p();Yo.exports=Math.abs});var Zo=T((j2,Qo)=>{"use strict";p();Qo.exports=Math.floor});var ef=T((L2,Ko)=>{"use strict";p();Ko.exports=Math.max});var rf=T(($2,tf)=>{"use strict";p();tf.exports=Math.min});var of=T((z2,nf)=>{"use strict";p();nf.exports=Math.pow});var af=T((H2,ff)=>{"use strict";p();ff.exports=Math.round});var sf=T((X2,uf)=>{"use strict";p();uf.exports=Number.isNaN||function(e){return e!==e}});var lf=T((J2,cf)=>{"use strict";p();var Fx=sf();cf.exports=function(e){return Fx(e)||e===0?e:e<0?-1:1}});var hf=T((Z2,xf)=>{"use strict";p();xf.exports=Object.getOwnPropertyDescriptor});var bt=T((em,df)=>{"use strict";p();var kr=hf();if(kr)try{kr([],"length")}catch{kr=null}df.exports=kr});var Kt=T((rm,pf)=>{"use strict";p();var $r=Object.defineProperty||!1;if($r)try{$r({},"a",{value:1})}catch{$r=!1}pf.exports=$r});var Gr=T((im,gf)=>{"use strict";p();gf.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,r);if(i.value!==a||i.enumerable!==!0)return!1}return!0}});var mf=T((fm,yf)=>{"use strict";p();var bf=typeof Symbol<"u"&&Symbol,Rx=Gr();yf.exports=function(){return typeof bf!="function"||typeof Symbol!="function"||typeof bf("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Rx()}});var _i=T((um,_f)=>{"use strict";p();_f.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var wi=T((cm,wf)=>{"use strict";p();var Nx=Lr();wf.exports=Nx.getPrototypeOf||null});var Bf=T((xm,Ef)=>{"use strict";p();var Cx="Function.prototype.bind called on incompatible ",Ux=Object.prototype.toString,jx=Math.max,Mx="[object Function]",vf=function(e,r){for(var n=[],a=0;a<e.length;a+=1)n[a]=e[a];for(var o=0;o<r.length;o+=1)n[o+e.length]=r[o];return n},Lx=function(e,r){for(var n=[],a=r||0,o=0;a<e.length;a+=1,o+=1)n[o]=e[a];return n},kx=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};Ef.exports=function(e){var r=this;if(typeof r!="function"||Ux.apply(r)!==Mx)throw new TypeError(Cx+r);for(var n=Lx(arguments,1),a,o=function(){if(this instanceof a){var s=r.apply(this,vf(n,arguments));return Object(s)===s?s:this}return r.apply(e,vf(n,arguments))},c=jx(0,r.length-n.length),i=[],f=0;f<c;f++)i[f]="$"+f;if(a=Function("binder","return function ("+kx(i,",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,a.prototype=new u,u.prototype=null}return a}});var Pt=T((dm,Af)=>{"use strict";p();var $x=Bf();Af.exports=Function.prototype.bind||$x});var zr=T((gm,Sf)=>{"use strict";p();Sf.exports=Function.prototype.call});var Wr=T((ym,If)=>{"use strict";p();If.exports=Function.prototype.apply});var Pf=T((_m,Of)=>{"use strict";p();Of.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var vi=T((vm,qf)=>{"use strict";p();var Gx=Pt(),zx=Wr(),Wx=zr(),Hx=Pf();qf.exports=Hx||Gx.call(Wx,zx)});var Hr=T((Bm,Df)=>{"use strict";p();var Vx=Pt(),Xx=gt(),Yx=zr(),Jx=vi();Df.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new Xx("a function is required");return Jx(Vx,Yx,e)}});var Uf=T((Sm,Cf)=>{"use strict";p();var Qx=Hr(),Tf=bt(),Rf;try{Rf=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var Ei=!!Rf&&Tf&&Tf(Object.prototype,"__proto__"),Nf=Object,Ff=Nf.getPrototypeOf;Cf.exports=Ei&&typeof Ei.get=="function"?Qx([Ei.get]):typeof Ff=="function"?function(e){return Ff(e==null?e:Nf(e))}:!1});var Vr=T((Om,kf)=>{"use strict";p();var jf=_i(),Mf=wi(),Lf=Uf();kf.exports=jf?function(e){return jf(e)}:Mf?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return Mf(e)}:Lf?function(e){return Lf(e)}:null});var Bi=T((qm,$f)=>{"use strict";p();var Zx=Function.prototype.call,Kx=Object.prototype.hasOwnProperty,eh=Pt();$f.exports=eh.call(Zx,Kx)});var Jr=T((Tm,Xf)=>{"use strict";p();var W,th=Lr(),rh=Mo(),nh=ko(),ih=Go(),oh=Wo(),Ft=mi(),Tt=gt(),fh=Xo(),ah=Jo(),uh=Zo(),sh=ef(),ch=rf(),lh=of(),xh=af(),hh=lf(),Hf=Function,Ai=function(t){try{return Hf('"use strict"; return ('+t+").constructor;")()}catch{}},er=bt(),dh=Kt(),Si=function(){throw new Tt},ph=er?(function(){try{return arguments.callee,Si}catch{try{return er(arguments,"callee").get}catch{return Si}}})():Si,qt=mf()(),ce=Vr(),gh=wi(),bh=_i(),Vf=Wr(),tr=zr(),Dt={},yh=typeof Uint8Array>"u"||!ce?W:ce(Uint8Array),yt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?W:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?W:ArrayBuffer,"%ArrayIteratorPrototype%":qt&&ce?ce([][Symbol.iterator]()):W,"%AsyncFromSyncIteratorPrototype%":W,"%AsyncFunction%":Dt,"%AsyncGenerator%":Dt,"%AsyncGeneratorFunction%":Dt,"%AsyncIteratorPrototype%":Dt,"%Atomics%":typeof Atomics>"u"?W:Atomics,"%BigInt%":typeof BigInt>"u"?W:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?W:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?W:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?W:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":rh,"%eval%":eval,"%EvalError%":nh,"%Float16Array%":typeof Float16Array>"u"?W:Float16Array,"%Float32Array%":typeof Float32Array>"u"?W:Float32Array,"%Float64Array%":typeof Float64Array>"u"?W:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?W:FinalizationRegistry,"%Function%":Hf,"%GeneratorFunction%":Dt,"%Int8Array%":typeof Int8Array>"u"?W:Int8Array,"%Int16Array%":typeof Int16Array>"u"?W:Int16Array,"%Int32Array%":typeof Int32Array>"u"?W:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":qt&&ce?ce(ce([][Symbol.iterator]())):W,"%JSON%":typeof JSON=="object"?JSON:W,"%Map%":typeof Map>"u"?W:Map,"%MapIteratorPrototype%":typeof Map>"u"||!qt||!ce?W:ce(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":th,"%Object.getOwnPropertyDescriptor%":er,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?W:Promise,"%Proxy%":typeof Proxy>"u"?W:Proxy,"%RangeError%":ih,"%ReferenceError%":oh,"%Reflect%":typeof Reflect>"u"?W:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?W:Set,"%SetIteratorPrototype%":typeof Set>"u"||!qt||!ce?W:ce(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?W:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":qt&&ce?ce(""[Symbol.iterator]()):W,"%Symbol%":qt?Symbol:W,"%SyntaxError%":Ft,"%ThrowTypeError%":ph,"%TypedArray%":yh,"%TypeError%":Tt,"%Uint8Array%":typeof Uint8Array>"u"?W:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?W:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?W:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?W:Uint32Array,"%URIError%":fh,"%WeakMap%":typeof WeakMap>"u"?W:WeakMap,"%WeakRef%":typeof WeakRef>"u"?W:WeakRef,"%WeakSet%":typeof WeakSet>"u"?W:WeakSet,"%Function.prototype.call%":tr,"%Function.prototype.apply%":Vf,"%Object.defineProperty%":dh,"%Object.getPrototypeOf%":gh,"%Math.abs%":ah,"%Math.floor%":uh,"%Math.max%":sh,"%Math.min%":ch,"%Math.pow%":lh,"%Math.round%":xh,"%Math.sign%":hh,"%Reflect.getPrototypeOf%":bh};if(ce)try{null.error}catch(t){Gf=ce(ce(t)),yt["%Error.prototype%"]=Gf}var Gf,mh=function t(e){var r;if(e==="%AsyncFunction%")r=Ai("async function () {}");else if(e==="%GeneratorFunction%")r=Ai("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ai("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&ce&&(r=ce(a.prototype))}return yt[e]=r,r},zf={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},rr=Pt(),Xr=Bi(),_h=rr.call(tr,Array.prototype.concat),wh=rr.call(Vf,Array.prototype.splice),Wf=rr.call(tr,String.prototype.replace),Yr=rr.call(tr,String.prototype.slice),vh=rr.call(tr,RegExp.prototype.exec),Eh=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Bh=/\\(\\)?/g,Ah=function(e){var r=Yr(e,0,1),n=Yr(e,-1);if(r==="%"&&n!=="%")throw new Ft("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ft("invalid intrinsic syntax, expected opening `%`");var a=[];return Wf(e,Eh,function(o,c,i,f){a[a.length]=i?Wf(f,Bh,"$1"):c||o}),a},Sh=function(e,r){var n=e,a;if(Xr(zf,n)&&(a=zf[n],n="%"+a[0]+"%"),Xr(yt,n)){var o=yt[n];if(o===Dt&&(o=mh(n)),typeof o>"u"&&!r)throw new Tt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:n,value:o}}throw new Ft("intrinsic "+e+" does not exist!")};Xf.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Tt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Tt('"allowMissing" argument must be a boolean');if(vh(/^%?[^%]*%?$/,e)===null)throw new Ft("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Ah(e),a=n.length>0?n[0]:"",o=Sh("%"+a+"%",r),c=o.name,i=o.value,f=!1,u=o.alias;u&&(a=u[0],wh(n,_h([0,1],u)));for(var s=1,l=!0;s<n.length;s+=1){var d=n[s],m=Yr(d,0,1),_=Yr(d,-1);if((m==='"'||m==="'"||m==="`"||_==='"'||_==="'"||_==="`")&&m!==_)throw new Ft("property names with quotes must have matching quotes");if((d==="constructor"||!l)&&(f=!0),a+="."+d,c="%"+a+"%",Xr(yt,c))i=yt[c];else if(i!=null){if(!(d in i)){if(!r)throw new Tt("base intrinsic for "+e+" exists, but the property is not available.");return}if(er&&s+1>=n.length){var D=er(i,d);l=!!D,l&&"get"in D&&!("originalValue"in D.get)?i=D.get:i=i[d]}else l=Xr(i,d),i=i[d];l&&!f&&(yt[c]=i)}}return i}});var tt=T((Rm,Qf)=>{"use strict";p();var Yf=Jr(),Jf=Hr(),Ih=Jf([Yf("%String.prototype.indexOf%")]);Qf.exports=function(e,r){var n=Yf(e,!!r);return typeof n=="function"&&Ih(e,".prototype.")>-1?Jf([n]):n}});var ta=T((Cm,ea)=>{"use strict";p();var Kf=Function.prototype.toString,Rt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Oi,Qr;if(typeof Rt=="function"&&typeof Object.defineProperty=="function")try{Oi=Object.defineProperty({},"length",{get:function(){throw Qr}}),Qr={},Rt(function(){throw 42},null,Oi)}catch(t){t!==Qr&&(Rt=null)}else Rt=null;var Oh=/^\s*class\b/,Pi=function(e){try{var r=Kf.call(e);return Oh.test(r)}catch{return!1}},Ii=function(e){try{return Pi(e)?!1:(Kf.call(e),!0)}catch{return!1}},Zr=Object.prototype.toString,Ph="[object Object]",qh="[object Function]",Dh="[object GeneratorFunction]",Th="[object HTMLAllCollection]",Fh="[object HTML document.all class]",Rh="[object HTMLCollection]",Nh=typeof Symbol=="function"&&!!Symbol.toStringTag,Ch=!(0 in[,]),qi=function(){return!1};typeof document=="object"&&(Zf=document.all,Zr.call(Zf)===Zr.call(document.all)&&(qi=function(e){if((Ch||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Zr.call(e);return(r===Th||r===Fh||r===Rh||r===Ph)&&e("")==null}catch{}return!1}));var Zf;ea.exports=Rt?function(e){if(qi(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Rt(e,null,Oi)}catch(r){if(r!==Qr)return!1}return!Pi(e)&&Ii(e)}:function(e){if(qi(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Nh)return Ii(e);if(Pi(e))return!1;var r=Zr.call(e);return r!==qh&&r!==Dh&&!/^\[object HTML/.test(r)?!1:Ii(e)}});var ia=T((jm,na)=>{"use strict";p();var Uh=ta(),jh=Object.prototype.toString,ra=Object.prototype.hasOwnProperty,Mh=function(e,r,n){for(var a=0,o=e.length;a<o;a++)ra.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))},Lh=function(e,r,n){for(var a=0,o=e.length;a<o;a++)n==null?r(e.charAt(a),a,e):r.call(n,e.charAt(a),a,e)},kh=function(e,r,n){for(var a in e)ra.call(e,a)&&(n==null?r(e[a],a,e):r.call(n,e[a],a,e))};function $h(t){return jh.call(t)==="[object Array]"}na.exports=function(e,r,n){if(!Uh(r))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),$h(e)?Mh(e,r,a):typeof e=="string"?Lh(e,r,a):kh(e,r,a)}});var fa=T((Lm,oa)=>{"use strict";p();oa.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var ua=T(($m,aa)=>{"use strict";p();var Di=fa(),Gh=typeof globalThis>"u"?window:globalThis;aa.exports=function(){for(var e=[],r=0;r<Di.length;r++)typeof Gh[Di[r]]=="function"&&(e[e.length]=Di[r]);return e}});var Ti=T((zm,la)=>{"use strict";p();var sa=Kt(),zh=mi(),Nt=gt(),ca=bt();la.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Nt("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Nt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Nt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Nt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Nt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Nt("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,i=arguments.length>6?arguments[6]:!1,f=!!ca&&ca(e,r);if(sa)sa(e,r,{configurable:c===null&&f?f.configurable:!c,enumerable:a===null&&f?f.enumerable:!a,value:n,writable:o===null&&f?f.writable:!o});else if(i||!a&&!o&&!c)e[r]=n;else throw new zh("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var Ri=T((Hm,ha)=>{"use strict";p();var Fi=Kt(),xa=function(){return!!Fi};xa.hasArrayLengthDefineBug=function(){if(!Fi)return null;try{return Fi([],"length",{value:1}).length!==1}catch{return!0}};ha.exports=xa});var ya=T((Xm,ba)=>{"use strict";p();var Wh=Jr(),da=Ti(),Hh=Ri()(),pa=bt(),ga=gt(),Vh=Wh("%Math.floor%");ba.exports=function(e,r){if(typeof e!="function")throw new ga("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Vh(r)!==r)throw new ga("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],a=!0,o=!0;if("length"in e&&pa){var c=pa(e,"length");c&&!c.configurable&&(a=!1),c&&!c.writable&&(o=!1)}return(a||o||!n)&&(Hh?da(e,"length",r,!0,!0):da(e,"length",r)),e}});var _a=T((Jm,ma)=>{"use strict";p();var Xh=Pt(),Yh=Wr(),Jh=vi();ma.exports=function(){return Jh(Xh,Yh,arguments)}});var nr=T((Zm,Kr)=>{"use strict";p();var Qh=ya(),wa=Kt(),Zh=Hr(),va=_a();Kr.exports=function(e){var r=Zh(arguments),n=e.length-(arguments.length-1);return Qh(r,1+(n>0?n:0),!0)};wa?wa(Kr.exports,"apply",{value:va}):Kr.exports.apply=va});var ir=T((e6,Ea)=>{"use strict";p();var Kh=Gr();Ea.exports=function(){return Kh()&&!!Symbol.toStringTag}});var ji=T((r6,Ia)=>{"use strict";p();var rn=ia(),ed=ua(),Ba=nr(),Ci=tt(),tn=bt(),en=Vr(),td=Ci("Object.prototype.toString"),Sa=ir()(),Aa=typeof globalThis>"u"?window:globalThis,Ni=ed(),Ui=Ci("String.prototype.slice"),rd=Ci("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},nn={__proto__:null};Sa&&tn&&en?rn(Ni,function(t){var e=new Aa[t];if(Symbol.toStringTag in e&&en){var r=en(e),n=tn(r,Symbol.toStringTag);if(!n&&r){var a=en(r);n=tn(a,Symbol.toStringTag)}nn["$"+t]=Ba(n.get)}}):rn(Ni,function(t){var e=new Aa[t],r=e.slice||e.set;r&&(nn["$"+t]=Ba(r))});var nd=function(e){var r=!1;return rn(nn,function(n,a){if(!r)try{"$"+n(e)===a&&(r=Ui(a,1))}catch{}}),r},id=function(e){var r=!1;return rn(nn,function(n,a){if(!r)try{n(e),r=Ui(a,1)}catch{}}),r};Ia.exports=function(e){if(!e||typeof e!="object")return!1;if(!Sa){var r=Ui(td(e),8,-1);return rd(Ni,r)>-1?r:r!=="Object"?!1:id(e)}return tn?nd(e):null}});var Mi=T((i6,Oa)=>{"use strict";p();var od=ji();Oa.exports=function(e){return!!od(e)}});var qa=T((f6,Pa)=>{"use strict";p();var fd=gt(),ad=tt(),ud=ad("TypedArray.prototype.buffer",!0),sd=Mi();Pa.exports=ud||function(e){if(!sd(e))throw new fd("Not a Typed Array");return e.buffer}});var Fa=T((u6,Ta)=>{"use strict";p();var Fe=Qe().Buffer,cd=No(),ld=qa(),xd=ArrayBuffer.isView||function(e){try{return ld(e),!0}catch{return!1}},hd=typeof Uint8Array<"u",Da=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",dd=Da&&(Fe.prototype instanceof Uint8Array||Fe.TYPED_ARRAY_SUPPORT);Ta.exports=function(e,r){if(Fe.isBuffer(e))return e.constructor&&!("isBuffer"in e)?Fe.from(e):e;if(typeof e=="string")return Fe.from(e,r);if(Da&&xd(e)){if(e.byteLength===0)return Fe.alloc(0);if(dd){var n=Fe.from(e.buffer,e.byteOffset,e.byteLength);if(n.byteLength===e.byteLength)return n}var a=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o=Fe.from(a);if(o.length===e.byteLength)return o}if(hd&&e instanceof Uint8Array)return Fe.from(e);var c=cd(e);if(c)for(var i=0;i<e.length;i+=1){var f=e[i];if(typeof f!="number"||f<0||f>255||~~f!==f)throw new RangeError("Array items must be numbers in the range 0-255.")}if(c||Fe.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return Fe.from(e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}});var mt=T((c6,Ra)=>{"use strict";p();var pd=Qe().Buffer,gd=Fa();function on(t,e){this._block=pd.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}on.prototype.update=function(t,e){t=gd(t,e||"utf8");for(var r=this._block,n=this._blockSize,a=t.length,o=this._len,c=0;c<a;){for(var i=o%n,f=Math.min(a-c,n-i),u=0;u<f;u++)r[i+u]=t[c+u];o+=f,c+=f,o%n===0&&this._update(r)}return this._len+=a,this};on.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,a=(r-n)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o};on.prototype._update=function(){throw new Error("_update must be implemented by subclass")};Ra.exports=on});var Ua=T((x6,Ca)=>{"use strict";p();var bd=et(),Na=mt(),yd=Qe().Buffer,md=[1518500249,1859775393,-1894007588,-899497514],_d=new Array(80);function or(){this.init(),this._w=_d,Na.call(this,64,56)}bd(or,Na);or.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function wd(t){return t<<5|t>>>27}function vd(t){return t<<30|t>>>2}function Ed(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}or.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,a=this._c|0,o=this._d|0,c=this._e|0,i=0;i<16;++i)e[i]=t.readInt32BE(i*4);for(;i<80;++i)e[i]=e[i-3]^e[i-8]^e[i-14]^e[i-16];for(var f=0;f<80;++f){var u=~~(f/20),s=wd(r)+Ed(u,n,a,o)+c+e[f]+md[u]|0;c=o,o=a,a=vd(n),n=r,r=s}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0};or.prototype._hash=function(){var t=yd.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Ca.exports=or});var La=T((d6,Ma)=>{"use strict";p();var Bd=et(),ja=mt(),Ad=Qe().Buffer,Sd=[1518500249,1859775393,-1894007588,-899497514],Id=new Array(80);function fr(){this.init(),this._w=Id,ja.call(this,64,56)}Bd(fr,ja);fr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Od(t){return t<<1|t>>>31}function Pd(t){return t<<5|t>>>27}function qd(t){return t<<30|t>>>2}function Dd(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}fr.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,a=this._c|0,o=this._d|0,c=this._e|0,i=0;i<16;++i)e[i]=t.readInt32BE(i*4);for(;i<80;++i)e[i]=Od(e[i-3]^e[i-8]^e[i-14]^e[i-16]);for(var f=0;f<80;++f){var u=~~(f/20),s=Pd(r)+Dd(u,n,a,o)+c+e[f]+Sd[u]|0;c=o,o=a,a=qd(n),n=r,r=s}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0};fr.prototype._hash=function(){var t=Ad.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};Ma.exports=fr});var Li=T((g6,$a)=>{"use strict";p();var Td=et(),ka=mt(),Fd=Qe().Buffer,Rd=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Nd=new Array(64);function ar(){this.init(),this._w=Nd,ka.call(this,64,56)}Td(ar,ka);ar.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Cd(t,e,r){return r^t&(e^r)}function Ud(t,e,r){return t&e|r&(t|e)}function jd(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Md(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Ld(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function kd(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}ar.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,a=this._c|0,o=this._d|0,c=this._e|0,i=this._f|0,f=this._g|0,u=this._h|0,s=0;s<16;++s)e[s]=t.readInt32BE(s*4);for(;s<64;++s)e[s]=kd(e[s-2])+e[s-7]+Ld(e[s-15])+e[s-16]|0;for(var l=0;l<64;++l){var d=u+Md(c)+Cd(c,i,f)+Rd[l]+e[l]|0,m=jd(r)+Ud(r,n,a)|0;u=f,f=i,i=c,c=o+d|0,o=a,a=n,n=r,r=d+m|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0,this._f=i+this._f|0,this._g=f+this._g|0,this._h=u+this._h|0};ar.prototype._hash=function(){var t=Fd.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};$a.exports=ar});var za=T((y6,Ga)=>{"use strict";p();var $d=et(),Gd=Li(),zd=mt(),Wd=Qe().Buffer,Hd=new Array(64);function fn(){this.init(),this._w=Hd,zd.call(this,64,56)}$d(fn,Gd);fn.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};fn.prototype._hash=function(){var t=Wd.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};Ga.exports=fn});var ki=T((_6,Qa)=>{"use strict";p();var Vd=et(),Ja=mt(),Xd=Qe().Buffer,Wa=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Yd=new Array(160);function ur(){this.init(),this._w=Yd,Ja.call(this,128,112)}Vd(ur,Ja);ur.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ha(t,e,r){return r^t&(e^r)}function Va(t,e,r){return t&e|r&(t|e)}function Xa(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Ya(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Jd(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Qd(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Zd(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Kd(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function le(t,e){return t>>>0<e>>>0?1:0}ur.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,a=this._ch|0,o=this._dh|0,c=this._eh|0,i=this._fh|0,f=this._gh|0,u=this._hh|0,s=this._al|0,l=this._bl|0,d=this._cl|0,m=this._dl|0,_=this._el|0,D=this._fl|0,C=this._gl|0,P=this._hl|0,R=0;R<32;R+=2)e[R]=t.readInt32BE(R*4),e[R+1]=t.readInt32BE(R*4+4);for(;R<160;R+=2){var L=e[R-30],k=e[R-30+1],x=Jd(L,k),b=Qd(k,L);L=e[R-4],k=e[R-4+1];var A=Zd(L,k),j=Kd(k,L),N=e[R-14],X=e[R-14+1],Q=e[R-32],re=e[R-32+1],ee=b+X|0,Z=x+N+le(ee,b)|0;ee=ee+j|0,Z=Z+A+le(ee,j)|0,ee=ee+re|0,Z=Z+Q+le(ee,re)|0,e[R]=Z,e[R+1]=ee}for(var ye=0;ye<160;ye+=2){Z=e[ye],ee=e[ye+1];var we=Va(r,n,a),He=Va(s,l,d),lt=Xa(r,s),Te=Xa(s,r),Vt=Ya(c,_),Ve=Ya(_,c),Xt=Wa[ye],M=Wa[ye+1],Yt=Ha(c,i,f),Jt=Ha(_,D,C),xe=P+Ve|0,fe=u+Vt+le(xe,P)|0;xe=xe+Jt|0,fe=fe+Yt+le(xe,Jt)|0,xe=xe+M|0,fe=fe+Xt+le(xe,M)|0,xe=xe+ee|0,fe=fe+Z+le(xe,ee)|0;var ve=Te+He|0,h=lt+we+le(ve,Te)|0;u=f,P=C,f=i,C=D,i=c,D=_,_=m+xe|0,c=o+fe+le(_,m)|0,o=a,m=d,a=n,d=l,n=r,l=s,s=xe+ve|0,r=fe+h+le(s,xe)|0}this._al=this._al+s|0,this._bl=this._bl+l|0,this._cl=this._cl+d|0,this._dl=this._dl+m|0,this._el=this._el+_|0,this._fl=this._fl+D|0,this._gl=this._gl+C|0,this._hl=this._hl+P|0,this._ah=this._ah+r+le(this._al,s)|0,this._bh=this._bh+n+le(this._bl,l)|0,this._ch=this._ch+a+le(this._cl,d)|0,this._dh=this._dh+o+le(this._dl,m)|0,this._eh=this._eh+c+le(this._el,_)|0,this._fh=this._fh+i+le(this._fl,D)|0,this._gh=this._gh+f+le(this._gl,C)|0,this._hh=this._hh+u+le(this._hl,P)|0};ur.prototype._hash=function(){var t=Xd.allocUnsafe(64);function e(r,n,a){t.writeInt32BE(r,a),t.writeInt32BE(n,a+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Qa.exports=ur});var Ka=T((v6,Za)=>{"use strict";p();var ep=et(),tp=ki(),rp=mt(),np=Qe().Buffer,ip=new Array(160);function an(){this.init(),this._w=ip,rp.call(this,128,112)}ep(an,tp);an.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};an.prototype._hash=function(){var t=np.allocUnsafe(48);function e(r,n,a){t.writeInt32BE(r,a),t.writeInt32BE(n,a+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};Za.exports=an});var eu=T((B6,Ze)=>{"use strict";p();Ze.exports=function(e){var r=e.toLowerCase(),n=Ze.exports[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n};Ze.exports.sha=Ua();Ze.exports.sha1=La();Ze.exports.sha224=za();Ze.exports.sha256=Li();Ze.exports.sha384=Ka();Ze.exports.sha512=ki()});var Se=T($i=>{"use strict";p();Object.defineProperty($i,"__esModule",{value:!0});var Ct=ge(),op=Ct.Buffer.from&&Ct.Buffer.alloc&&Ct.Buffer.allocUnsafe&&Ct.Buffer.allocUnsafeSlow?Ct.Buffer.from:function(t){return new Ct.Buffer(t)};$i.default=op});var Ie=T(Gi=>{"use strict";p();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.default=function(t,e){var r=function(a,o){return e(a,o)>>>0};return r.signed=e,r.unsigned=r,r.model=t,r}});var ru=T(zi=>{"use strict";p();Object.defineProperty(zi,"__esModule",{value:!0});var fp=ge(),ap=Se(),up=tu(ap),sp=Ie(),cp=tu(sp);function tu(t){return t&&t.__esModule?t:{default:t}}var lp=(0,cp.default)("crc1",function(t,e){fp.Buffer.isBuffer(t)||(t=(0,up.default)(t));for(var r=~~e,n=0,a=0;a<t.length;a++){var o=t[a];n+=o}return r+=n%256,r%256});zi.default=lp});var iu=T((T6,nu)=>{"use strict";p();nu.exports=ru().default});var fu=T(Hi=>{"use strict";p();Object.defineProperty(Hi,"__esModule",{value:!0});var xp=ge(),hp=Se(),dp=ou(hp),pp=Ie(),gp=ou(pp);function ou(t){return t&&t.__esModule?t:{default:t}}var Wi=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array<"u"&&(Wi=new Int32Array(Wi));var bp=(0,gp.default)("crc-8",function(t,e){xp.Buffer.isBuffer(t)||(t=(0,dp.default)(t));for(var r=~~e,n=0;n<t.length;n++){var a=t[n];r=Wi[(r^a)&255]&255}return r});Hi.default=bp});var uu=T((C6,au)=>{"use strict";p();au.exports=fu().default});var cu=T(Xi=>{"use strict";p();Object.defineProperty(Xi,"__esModule",{value:!0});var yp=ge(),mp=Se(),_p=su(mp),wp=Ie(),vp=su(wp);function su(t){return t&&t.__esModule?t:{default:t}}var Vi=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array<"u"&&(Vi=new Int32Array(Vi));var Ep=(0,vp.default)("dallas-1-wire",function(t,e){yp.Buffer.isBuffer(t)||(t=(0,_p.default)(t));for(var r=~~e,n=0;n<t.length;n++){var a=t[n];r=Vi[(r^a)&255]&255}return r});Xi.default=Ep});var xu=T((L6,lu)=>{"use strict";p();lu.exports=cu().default});var du=T(Ji=>{"use strict";p();Object.defineProperty(Ji,"__esModule",{value:!0});var Bp=ge(),Ap=Se(),Sp=hu(Ap),Ip=Ie(),Op=hu(Ip);function hu(t){return t&&t.__esModule?t:{default:t}}var Yi=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(Yi=new Int32Array(Yi));var Pp=(0,Op.default)("crc-16",function(t,e){Bp.Buffer.isBuffer(t)||(t=(0,Sp.default)(t));for(var r=~~e,n=0;n<t.length;n++){var a=t[n];r=(Yi[(r^a)&255]^r>>8)&65535}return r});Ji.default=Pp});var gu=T((z6,pu)=>{"use strict";p();pu.exports=du().default});var yu=T(Zi=>{"use strict";p();Object.defineProperty(Zi,"__esModule",{value:!0});var qp=ge(),Dp=Se(),Tp=bu(Dp),Fp=Ie(),Rp=bu(Fp);function bu(t){return t&&t.__esModule?t:{default:t}}var Qi=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array<"u"&&(Qi=new Int32Array(Qi));var Np=(0,Rp.default)("ccitt",function(t,e){qp.Buffer.isBuffer(t)||(t=(0,Tp.default)(t));for(var r=typeof e<"u"?~~e:65535,n=0;n<t.length;n++){var a=t[n];r=(Qi[(r>>8^a)&255]^r<<8)&65535}return r});Zi.default=Np});var _u=T((X6,mu)=>{"use strict";p();mu.exports=yu().default});var vu=T(e0=>{"use strict";p();Object.defineProperty(e0,"__esModule",{value:!0});var Cp=ge(),Up=Se(),jp=wu(Up),Mp=Ie(),Lp=wu(Mp);function wu(t){return t&&t.__esModule?t:{default:t}}var Ki=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(Ki=new Int32Array(Ki));var kp=(0,Lp.default)("crc-16-modbus",function(t,e){Cp.Buffer.isBuffer(t)||(t=(0,jp.default)(t));for(var r=typeof e<"u"?~~e:65535,n=0;n<t.length;n++){var a=t[n];r=(Ki[(r^a)&255]^r>>8)&65535}return r});e0.default=kp});var Bu=T((Z6,Eu)=>{"use strict";p();Eu.exports=vu().default});var Su=T(t0=>{"use strict";p();Object.defineProperty(t0,"__esModule",{value:!0});var $p=ge(),Gp=Se(),zp=Au(Gp),Wp=Ie(),Hp=Au(Wp);function Au(t){return t&&t.__esModule?t:{default:t}}var Vp=(0,Hp.default)("xmodem",function(t,e){$p.Buffer.isBuffer(t)||(t=(0,zp.default)(t));for(var r=typeof e<"u"?~~e:0,n=0;n<t.length;n++){var a=t[n],o=r>>>8&255;o^=a&255,o^=o>>>4,r=r<<8&65535,r^=o,o=o<<5&65535,r^=o,o=o<<7&65535,r^=o}return r});t0.default=Vp});var Ou=T((r3,Iu)=>{"use strict";p();Iu.exports=Su().default});var qu=T(n0=>{"use strict";p();Object.defineProperty(n0,"__esModule",{value:!0});var Xp=ge(),Yp=Se(),Jp=Pu(Yp),Qp=Ie(),Zp=Pu(Qp);function Pu(t){return t&&t.__esModule?t:{default:t}}var r0=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array<"u"&&(r0=new Int32Array(r0));var Kp=(0,Zp.default)("kermit",function(t,e){Xp.Buffer.isBuffer(t)||(t=(0,Jp.default)(t));for(var r=typeof e<"u"?~~e:0,n=0;n<t.length;n++){var a=t[n];r=(r0[(r^a)&255]^r>>8)&65535}return r});n0.default=Kp});var Tu=T((f3,Du)=>{"use strict";p();Du.exports=qu().default});var Ru=T(o0=>{"use strict";p();Object.defineProperty(o0,"__esModule",{value:!0});var e1=ge(),t1=Se(),r1=Fu(t1),n1=Ie(),i1=Fu(n1);function Fu(t){return t&&t.__esModule?t:{default:t}}var i0=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array<"u"&&(i0=new Int32Array(i0));var o1=(0,i1.default)("crc-24",function(t,e){e1.Buffer.isBuffer(t)||(t=(0,r1.default)(t));for(var r=typeof e<"u"?~~e:11994318,n=0;n<t.length;n++){var a=t[n];r=(i0[(r>>16^a)&255]^r<<8)&16777215}return r});o0.default=o1});var Cu=T((c3,Nu)=>{"use strict";p();Nu.exports=Ru().default});var ju=T(a0=>{"use strict";p();Object.defineProperty(a0,"__esModule",{value:!0});var f1=ge(),a1=Se(),u1=Uu(a1),s1=Ie(),c1=Uu(s1);function Uu(t){return t&&t.__esModule?t:{default:t}}var f0=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(f0=new Int32Array(f0));var l1=(0,c1.default)("crc-32",function(t,e){f1.Buffer.isBuffer(t)||(t=(0,u1.default)(t));for(var r=e===0?0:~~e^-1,n=0;n<t.length;n++){var a=t[n];r=f0[(r^a)&255]^r>>>8}return r^-1});a0.default=l1});var Lu=T((d3,Mu)=>{"use strict";p();Mu.exports=ju().default});var $u=T(s0=>{"use strict";p();Object.defineProperty(s0,"__esModule",{value:!0});var x1=ge(),h1=Se(),d1=ku(h1),p1=Ie(),g1=ku(p1);function ku(t){return t&&t.__esModule?t:{default:t}}var u0=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(u0=new Int32Array(u0));var b1=(0,g1.default)("jam",function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;x1.Buffer.isBuffer(t)||(t=(0,d1.default)(t));for(var r=e===0?0:~~e,n=0;n<t.length;n++){var a=t[n];r=u0[(r^a)&255]^r>>>8}return r});s0.default=b1});var zu=T((y3,Gu)=>{"use strict";p();Gu.exports=$u().default});var Hu=T((_3,Wu)=>{"use strict";p();Wu.exports={crc1:iu(),crc8:uu(),crc81wire:xu(),crc16:gu(),crc16ccitt:_u(),crc16modbus:Bu(),crc16xmodem:Ou(),crc16kermit:Tu(),crc24:Cu(),crc32:Lu(),crcjam:zu()}});var rt=T(K=>{"use strict";p();var y1=K&&K.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(K,"__esModule",{value:!0});K.bufferXOR=K.setDifference=K.arrayContains=K.arraysEqual=K.hasPrefix=K.isURType=K.intToBytes=K.toUint32=K.getCRCHex=K.getCRC=K.split=K.partition=K.sha256Hash=void 0;var m1=y1(eu()),Vu=Hu(),_1=t=>m1.default("sha256").update(t).digest();K.sha256Hash=_1;var w1=(t,e)=>t.match(new RegExp(".{1,"+e+"}","g"))||[t];K.partition=w1;var v1=(t,e)=>[t.slice(0,-e),t.slice(-e)];K.split=v1;var E1=t=>Vu.crc32(t);K.getCRC=E1;var B1=t=>Vu.crc32(t).toString(16).padStart(8,"0");K.getCRCHex=B1;var A1=t=>t>>>0;K.toUint32=A1;var S1=t=>{let e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),Buffer.from(e)};K.intToBytes=S1;var I1=t=>t.split("").every((e,r)=>{let n=t.charCodeAt(r);return 97<=n&&n<=122||48<=n&&n<=57||n===45});K.isURType=I1;var O1=(t,e)=>t.indexOf(e)===0;K.hasPrefix=O1;var P1=(t,e)=>t.length!==e.length?!1:t.every(r=>e.includes(r));K.arraysEqual=P1;var q1=(t,e)=>e.every(r=>t.includes(r));K.arrayContains=q1;var D1=(t,e)=>t.filter(r=>e.indexOf(r)<0);K.setDifference=D1;var T1=(t,e)=>{let r=Math.max(t.length,e.length),n=Buffer.allocUnsafe(r);for(let a=0;a<r;++a)n[a]=t[a]^e[a];return n};K.bufferXOR=T1});var Yu=T((Xu,un)=>{p();(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof un<"u"&&un.exports?un.exports=e():t.CBOR=e()})(Xu,function(){var t=(function(){function e(x){this.$hex=x}e.prototype={length:function(){return this.$hex.length/2},toString:function(x){if(!x||x==="hex"||x===16)return this.$hex;if(x==="utf-8"){for(var b="",A=0;A<this.$hex.length;A+=2)b+="%"+this.$hex.substring(A,A+2);return decodeURIComponent(b)}if(x==="latin"){for(var b=[],A=0;A<this.$hex.length;A+=2)b.push(parseInt(this.$hex.substring(A,A+2),16));return String.fromCharCode.apply(String,b)}throw new Error("Unrecognised format: "+x)}},e.fromLatinString=function(x){for(var b="",A=0;A<x.length;A++){var j=x.charCodeAt(A).toString(16);j.length===1&&(j="0"+j),b+=j}return new e(b)},e.fromUtf8String=function(x){for(var b=encodeURIComponent(x),A="",j=0;j<b.length;j++)if(b.charAt(j)==="%")A+=b.substring(j+1,j+3),j+=2;else{var N=b.charCodeAt(j).toString(16);N.length<2&&(N="0"+N),A+=N}return new e(A)};var r=[],n={},a=function(x){return function(){throw new Error(x+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var x=this.readUint16(),b=(x&32767)>>10,A=x&1023,j=x&32768;if(b===31)return A===0?j?-1/0:1/0:NaN;var N=b?Math.pow(2,b-25)*(1024+A):Math.pow(2,-24)*A;return j?-N:N},readFloat32:function(){var x=this.readUint32(),b=(x&2147483647)>>23,A=x&8388607,j=x&2147483648;if(b===255)return A===0?j?-1/0:1/0:NaN;var N=b?Math.pow(2,b-23-127)*(8388608+A):Math.pow(2,-149)*A;return j?-N:N},readFloat64:function(){var x=this.readUint32(),b=this.readUint32(),A=x>>20&2047,j=(x&1048575)*4294967296+b,N=x&2147483648;if(A===2047)return j===0?N?-1/0:1/0:NaN;var X=A?Math.pow(2,A-52-1023)*(4503599627370496+j):Math.pow(2,-1074)*j;return N?-X:X},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function c(){}c.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(x){this.writeByte(x>>8&255),this.writeByte(x&255)},writeUint32:function(x){this.writeUint16(x>>16&65535),this.writeUint16(x&65535)},writeUint64:function(x){if(x>=9007199254740992||x<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+x+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(x/4294967296)),this.writeUint32(x%4294967296)},writeString:a("writeString"),canWriteBinary:function(x){return!1},writeBinary:a("writeChunk")};function i(x){var b=x.readByte(),A=b>>5,j=b&31;return{type:A,value:j}}function f(x,b){var A=x.value;if(A<24)return A;if(A==24)return b.readByte();if(A==25)return b.readUint16();if(A==26)return b.readUint32();if(A==27)return b.readUint64();if(A==31)return null;a("Additional info: "+A)()}function u(x,b,A){A.writeByte(x<<5|b)}function s(x,b,A){var j=x<<5;b<24?A.writeByte(j|b):b<256?(A.writeByte(j|24),A.writeByte(b)):b<65536?(A.writeByte(j|25),A.writeUint16(b)):b<4294967296?(A.writeByte(j|26),A.writeUint32(b)):(A.writeByte(j|27),A.writeUint64(b))}var l=new Error;function d(x){var b=i(x);switch(b.type){case 0:return f(b,x);case 1:return-1-f(b,x);case 2:return x.readChunk(f(b,x));case 3:var A=x.readChunk(f(b,x));return A.toString("utf-8");case 4:case 5:var j=f(b,x),Z=[];if(j!==null){b.type===5&&(j*=2);for(var N=0;N<j;N++)Z[N]=d(x)}else for(var X;(X=d(x))!==l;)Z.push(X);if(b.type===5){for(var Q={},N=0;N<Z.length;N+=2)Q[Z[N]]=Z[N+1];return Q}else return Z;case 6:var re=f(b,x),ee=n[re],Z=d(x);return ee?ee(Z):Z;case 7:if(b.value===25)return x.readFloat16();if(b.value===26)return x.readFloat32();if(b.value===27)return x.readFloat64();switch(f(b,x)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return l;default:throw new Error("Unknown fixed value: "+b.value)}default:throw new Error("Unsupported header: "+JSON.stringify(b))}throw new Error("not implemented yet")}function m(x,b){for(var A=0;A<r.length;A++){var j=r[A].fn(x);if(j!==void 0)return s(6,r[A].tag,b),m(j,b)}if(x&&typeof x.toCBOR=="function"&&(x=x.toCBOR()),x===!1)s(7,20,b);else if(x===!0)s(7,21,b);else if(x===null)s(7,22,b);else if(x===void 0)s(7,23,b);else if(typeof x=="number")Math.floor(x)===x&&x<9007199254740992&&x>-9007199254740992?x<0?s(1,-1-x,b):s(0,x,b):(u(7,27,b),b.writeFloat64(x));else if(typeof x=="string")b.writeString(x,function(X){s(3,X,b)});else if(b.canWriteBinary(x))b.writeBinary(x,function(X){s(2,X,b)});else if(typeof x=="object")if(C.config.useToJSON&&typeof x.toJSON=="function"&&(x=x.toJSON()),Array.isArray(x)){s(4,x.length,b);for(var A=0;A<x.length;A++)m(x[A],b)}else{var N=Object.keys(x);s(5,N.length,b);for(var A=0;A<N.length;A++)m(N[A],b),m(x[N[A]],b)}else throw new Error("CBOR encoding not supported: "+x)}var _=[],D=[],C={config:{useToJSON:!0},addWriter:function(x,b){typeof x=="string"?D.push(function(A){if(x===A)return b(A)}):D.push(x)},addReader:function(x,b){typeof x=="string"?_.push(function(A,j){if(x===j)return b(A,j)}):_.push(x)},encode:function(x,b){for(var A=0;A<D.length;A++){var j=D[A],N=j(b);if(N)return m(x,N),N.result()}throw new Error("Unsupported output format: "+b)},decode:function(x,b){for(var A=0;A<_.length;A++){var j=_[A],N=j(x,b);if(N)return d(N)}throw new Error("Unsupported input format: "+b)},addSemanticEncode:function(x,b){if(typeof x!="number"||x%1!==0||x<0)throw new Error("Tag must be a positive integer");return r.push({tag:x,fn:b}),this},addSemanticDecode:function(x,b){if(typeof x!="number"||x%1!==0||x<0)throw new Error("Tag must be a positive integer");return n[x]=b,this},Reader:o,Writer:c};function P(x){this.buffer=x,this.pos=0}P.prototype=Object.create(o.prototype),P.prototype.peekByte=function(){return this.buffer[this.pos]},P.prototype.readByte=function(){return this.buffer[this.pos++]},P.prototype.readUint16=function(){var x=this.buffer.readUInt16BE(this.pos);return this.pos+=2,x},P.prototype.readUint32=function(){var x=this.buffer.readUInt32BE(this.pos);return this.pos+=4,x},P.prototype.readFloat32=function(){var x=this.buffer.readFloatBE(this.pos);return this.pos+=4,x},P.prototype.readFloat64=function(){var x=this.buffer.readDoubleBE(this.pos);return this.pos+=8,x},P.prototype.readChunk=function(x){var b=Buffer.alloc(x);return this.buffer.copy(b,0,this.pos,this.pos+=x),b};function R(x){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=x}R.prototype=Object.create(c.prototype),R.prototype.writeByte=function(x){this.latestBuffer[this.latestBufferOffset++]=x,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},R.prototype.writeFloat32=function(x){var b=Buffer.alloc(4);b.writeFloatBE(x,0),this.writeBuffer(b)},R.prototype.writeFloat64=function(x){var b=Buffer.alloc(8);b.writeDoubleBE(x,0),this.writeBuffer(b)},R.prototype.writeString=function(x,b){var A=Buffer.from(x,"utf-8");b(A.length),this.writeBuffer(A)},R.prototype.canWriteBinary=function(x){return x instanceof Buffer},R.prototype.writeBinary=function(x,b){b(x.length),this.writeBuffer(x)},R.prototype.writeBuffer=function(x){if(!(x instanceof Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=x.length?(x.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=x.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(x),this.latestBuffer=Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(x),this.byteLength+=x.length},R.prototype.result=function(){for(var x=Buffer.alloc(this.byteLength),b=0,A=0;A<this.completeBuffers.length;A++){var j=this.completeBuffers[A];j.copy(x,b,0,j.length),b+=j.length}return this.latestBufferOffset&&this.latestBuffer.copy(x,b,0,this.latestBufferOffset),this.stringFormat?x.toString(this.stringFormat):x},typeof Buffer=="function"&&(C.addReader(function(x,b){if(x instanceof Buffer)return new P(x);if(b==="hex"||b==="base64"){var A=Buffer.from(x,b);return new P(A)}}),C.addWriter(function(x){if(!x||x==="buffer")return new R;if(x==="hex"||x==="base64")return new R(x)}));function L(x){this.hex=x,this.pos=0}L.prototype=Object.create(o.prototype),L.prototype.peekByte=function(){var x=this.hex.substring(this.pos,2);return parseInt(x,16)},L.prototype.readByte=function(){var x=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(x,16)},L.prototype.readChunk=function(x){var b=this.hex.substring(this.pos,this.pos+x*2);return this.pos+=x*2,typeof Buffer=="function"?Buffer.from(b,"hex"):new e(b)};function k(x){this.$hex="",this.finalFormat=x||"hex"}return k.prototype=Object.create(c.prototype),k.prototype.writeByte=function(x){if(x<0||x>255)throw new Error("Byte value out of range: "+x);var b=x.toString(16);b.length==1&&(b="0"+b),this.$hex+=b},k.prototype.canWriteBinary=function(x){return x instanceof e||typeof Buffer=="function"&&x instanceof Buffer},k.prototype.writeBinary=function(x,b){if(x instanceof e)b(x.length()),this.$hex+=x.$hex;else if(typeof Buffer=="function"&&x instanceof Buffer)b(x.length),this.$hex+=x.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},k.prototype.result=function(){return this.finalFormat==="buffer"&&typeof Buffer=="function"?Buffer.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},k.prototype.writeString=function(x,b){var A=e.fromUtf8String(x);b(A.length()),this.$hex+=A.$hex},C.addReader(function(x,b){if(x instanceof e||x.$hex)return new L(x.$hex);if(b==="hex")return new L(x)}),C.addWriter(function(x){if(x==="hex")return new k}),C})();return t.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),t})});var c0=T(Ut=>{"use strict";p();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.cborDecode=Ut.cborEncode=void 0;var Ju=Yu(),F1=t=>Ju.encode(t);Ut.cborEncode=F1;var R1=t=>Ju.decode(Buffer.isBuffer(t)?t:Buffer.from(t,"hex"));Ut.cborDecode=R1});var h0=T(x0=>{"use strict";p();Object.defineProperty(x0,"__esModule",{value:!0});var N1=jr(),C1=rt(),Qu=c0(),l0=class t{constructor(e,r="bytes"){if(this._cborPayload=e,this._type=r,!C1.isURType(this._type))throw new N1.InvalidTypeError}static fromBuffer(e){return new t(Qu.cborEncode(e))}static from(e,r){return t.fromBuffer(Buffer.from(e,r))}decodeCBOR(){return Qu.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}};x0.default=l0});var es=T((P3,Ku)=>{"use strict";p();var U1=ir()(),j1=tt(),d0=j1("Object.prototype.toString"),sn=function(e){return U1&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:d0(e)==="[object Arguments]"},Zu=function(e){return sn(e)?!0:e!==null&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&e.length>=0&&d0(e)!=="[object Array]"&&"callee"in e&&d0(e.callee)==="[object Function]"},M1=(function(){return sn(arguments)})();sn.isLegacyArguments=Zu;Ku.exports=M1?sn:Zu});var fs=T((D3,os)=>{"use strict";p();var ts=tt(),L1=ir()(),k1=Bi(),$1=bt(),b0;L1?(rs=ts("RegExp.prototype.exec"),p0={},cn=function(){throw p0},g0={toString:cn,valueOf:cn},typeof Symbol.toPrimitive=="symbol"&&(g0[Symbol.toPrimitive]=cn),b0=function(e){if(!e||typeof e!="object")return!1;var r=$1(e,"lastIndex"),n=r&&k1(r,"value");if(!n)return!1;try{rs(e,g0)}catch(a){return a===p0}}):(ns=ts("Object.prototype.toString"),is="[object RegExp]",b0=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:ns(e)===is});var rs,p0,cn,g0,ns,is;os.exports=b0});var us=T((F3,as)=>{"use strict";p();var G1=tt(),z1=fs(),W1=G1("RegExp.prototype.exec"),H1=gt();as.exports=function(e){if(!z1(e))throw new H1("`regex` must be a RegExp");return function(n){return W1(e,n)!==null}}});var cs=T((N3,ss)=>{"use strict";p();var V1=function*(){}.constructor;ss.exports=()=>V1});var ds=T((U3,hs)=>{"use strict";p();var xs=tt(),X1=us(),Y1=X1(/^\s*(?:function)?\*/),J1=ir()(),ls=Vr(),Q1=xs("Object.prototype.toString"),Z1=xs("Function.prototype.toString"),K1=cs();hs.exports=function(e){if(typeof e!="function")return!1;if(Y1(Z1(e)))return!0;if(!J1){var r=Q1(e);return r==="[object GeneratorFunction]"}if(!ls)return!1;var n=K1();return n&&ls(e)===n.prototype}});var Os=T(H=>{"use strict";p();var eg=es(),tg=ds(),Re=ji(),ps=Mi();function jt(t){return t.call.bind(t)}var gs=typeof BigInt<"u",bs=typeof Symbol<"u",Oe=jt(Object.prototype.toString),rg=jt(Number.prototype.valueOf),ng=jt(String.prototype.valueOf),ig=jt(Boolean.prototype.valueOf);gs&&(ys=jt(BigInt.prototype.valueOf));var ys;bs&&(ms=jt(Symbol.prototype.valueOf));var ms;function cr(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}H.isArgumentsObject=eg;H.isGeneratorFunction=tg;H.isTypedArray=ps;function og(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}H.isPromise=og;function fg(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):ps(t)||ws(t)}H.isArrayBufferView=fg;function ag(t){return Re(t)==="Uint8Array"}H.isUint8Array=ag;function ug(t){return Re(t)==="Uint8ClampedArray"}H.isUint8ClampedArray=ug;function sg(t){return Re(t)==="Uint16Array"}H.isUint16Array=sg;function cg(t){return Re(t)==="Uint32Array"}H.isUint32Array=cg;function lg(t){return Re(t)==="Int8Array"}H.isInt8Array=lg;function xg(t){return Re(t)==="Int16Array"}H.isInt16Array=xg;function hg(t){return Re(t)==="Int32Array"}H.isInt32Array=hg;function dg(t){return Re(t)==="Float32Array"}H.isFloat32Array=dg;function pg(t){return Re(t)==="Float64Array"}H.isFloat64Array=pg;function gg(t){return Re(t)==="BigInt64Array"}H.isBigInt64Array=gg;function bg(t){return Re(t)==="BigUint64Array"}H.isBigUint64Array=bg;function ln(t){return Oe(t)==="[object Map]"}ln.working=typeof Map<"u"&&ln(new Map);function yg(t){return typeof Map>"u"?!1:ln.working?ln(t):t instanceof Map}H.isMap=yg;function xn(t){return Oe(t)==="[object Set]"}xn.working=typeof Set<"u"&&xn(new Set);function mg(t){return typeof Set>"u"?!1:xn.working?xn(t):t instanceof Set}H.isSet=mg;function hn(t){return Oe(t)==="[object WeakMap]"}hn.working=typeof WeakMap<"u"&&hn(new WeakMap);function _g(t){return typeof WeakMap>"u"?!1:hn.working?hn(t):t instanceof WeakMap}H.isWeakMap=_g;function m0(t){return Oe(t)==="[object WeakSet]"}m0.working=typeof WeakSet<"u"&&m0(new WeakSet);function wg(t){return m0(t)}H.isWeakSet=wg;function dn(t){return Oe(t)==="[object ArrayBuffer]"}dn.working=typeof ArrayBuffer<"u"&&dn(new ArrayBuffer);function _s(t){return typeof ArrayBuffer>"u"?!1:dn.working?dn(t):t instanceof ArrayBuffer}H.isArrayBuffer=_s;function pn(t){return Oe(t)==="[object DataView]"}pn.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&pn(new DataView(new ArrayBuffer(1),0,1));function ws(t){return typeof DataView>"u"?!1:pn.working?pn(t):t instanceof DataView}H.isDataView=ws;var y0=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function sr(t){return Oe(t)==="[object SharedArrayBuffer]"}function vs(t){return typeof y0>"u"?!1:(typeof sr.working>"u"&&(sr.working=sr(new y0)),sr.working?sr(t):t instanceof y0)}H.isSharedArrayBuffer=vs;function vg(t){return Oe(t)==="[object AsyncFunction]"}H.isAsyncFunction=vg;function Eg(t){return Oe(t)==="[object Map Iterator]"}H.isMapIterator=Eg;function Bg(t){return Oe(t)==="[object Set Iterator]"}H.isSetIterator=Bg;function Ag(t){return Oe(t)==="[object Generator]"}H.isGeneratorObject=Ag;function Sg(t){return Oe(t)==="[object WebAssembly.Module]"}H.isWebAssemblyCompiledModule=Sg;function Es(t){return cr(t,rg)}H.isNumberObject=Es;function Bs(t){return cr(t,ng)}H.isStringObject=Bs;function As(t){return cr(t,ig)}H.isBooleanObject=As;function Ss(t){return gs&&cr(t,ys)}H.isBigIntObject=Ss;function Is(t){return bs&&cr(t,ms)}H.isSymbolObject=Is;function Ig(t){return Es(t)||Bs(t)||As(t)||Ss(t)||Is(t)}H.isBoxedPrimitive=Ig;function Og(t){return typeof Uint8Array<"u"&&(_s(t)||vs(t))}H.isAnyArrayBuffer=Og;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(H,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var qs=T((k3,Ps)=>{p();Ps.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var Lt=T(V=>{p();var Ds=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},a=0;a<r.length;a++)n[r[a]]=Object.getOwnPropertyDescriptor(e,r[a]);return n},Pg=/%[sdj%]/g;V.format=function(t){if(!vn(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(nt(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,a=n.length,o=String(t).replace(Pg,function(i){if(i==="%%")return"%";if(r>=a)return i;switch(i){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return i}}),c=n[r];r<a;c=n[++r])wn(c)||!Mt(c)?o+=" "+c:o+=" "+nt(c);return o};V.deprecate=function(t,e){if(typeof process<"u"&&process.noDeprecation===!0)return t;if(typeof process>"u")return function(){return V.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var gn={},Ts=/^$/;process.env.NODE_DEBUG&&(bn=process.env.NODE_DEBUG,bn=bn.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Ts=new RegExp("^"+bn+"$","i"));var bn;V.debuglog=function(t){if(t=t.toUpperCase(),!gn[t])if(Ts.test(t)){var e=process.pid;gn[t]=function(){var r=V.format.apply(V,arguments);console.error("%s %d: %s",t,e,r)}}else gn[t]=function(){};return gn[t]};function nt(t,e){var r={seen:[],stylize:Dg};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),E0(e)?r.showHidden=e:e&&V._extend(r,e),wt(r.showHidden)&&(r.showHidden=!1),wt(r.depth)&&(r.depth=2),wt(r.colors)&&(r.colors=!1),wt(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=qg),mn(r,t,r.depth)}V.inspect=nt;nt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};nt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function qg(t,e){var r=nt.styles[e];return r?"\x1B["+nt.colors[r][0]+"m"+t+"\x1B["+nt.colors[r][1]+"m":t}function Dg(t,e){return t}function Tg(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function mn(t,e,r){if(t.customInspect&&e&&yn(e.inspect)&&e.inspect!==V.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return vn(n)||(n=mn(t,n,r)),n}var a=Fg(t,e);if(a)return a;var o=Object.keys(e),c=Tg(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),xr(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return _0(e);if(o.length===0){if(yn(e)){var i=e.name?": "+e.name:"";return t.stylize("[Function"+i+"]","special")}if(lr(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(_n(e))return t.stylize(Date.prototype.toString.call(e),"date");if(xr(e))return _0(e)}var f="",u=!1,s=["{","}"];if(Fs(e)&&(u=!0,s=["[","]"]),yn(e)){var l=e.name?": "+e.name:"";f=" [Function"+l+"]"}if(lr(e)&&(f=" "+RegExp.prototype.toString.call(e)),_n(e)&&(f=" "+Date.prototype.toUTCString.call(e)),xr(e)&&(f=" "+_0(e)),o.length===0&&(!u||e.length==0))return s[0]+f+s[1];if(r<0)return lr(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var d;return u?d=Rg(t,e,r,c,o):d=o.map(function(m){return v0(t,e,r,c,m,u)}),t.seen.pop(),Ng(d,f,s)}function Fg(t,e){if(wt(e))return t.stylize("undefined","undefined");if(vn(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(Rs(e))return t.stylize(""+e,"number");if(E0(e))return t.stylize(""+e,"boolean");if(wn(e))return t.stylize("null","null")}function _0(t){return"["+Error.prototype.toString.call(t)+"]"}function Rg(t,e,r,n,a){for(var o=[],c=0,i=e.length;c<i;++c)Ns(e,String(c))?o.push(v0(t,e,r,n,String(c),!0)):o.push("");return a.forEach(function(f){f.match(/^\d+$/)||o.push(v0(t,e,r,n,f,!0))}),o}function v0(t,e,r,n,a,o){var c,i,f;if(f=Object.getOwnPropertyDescriptor(e,a)||{value:e[a]},f.get?f.set?i=t.stylize("[Getter/Setter]","special"):i=t.stylize("[Getter]","special"):f.set&&(i=t.stylize("[Setter]","special")),Ns(n,a)||(c="["+a+"]"),i||(t.seen.indexOf(f.value)<0?(wn(r)?i=mn(t,f.value,null):i=mn(t,f.value,r-1),i.indexOf(`
`)>-1&&(o?i=i.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):i=`
`+i.split(`
`).map(function(u){return"   "+u}).join(`
`))):i=t.stylize("[Circular]","special")),wt(c)){if(o&&a.match(/^\d+$/))return i;c=JSON.stringify(""+a),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.slice(1,-1),c=t.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=t.stylize(c,"string"))}return c+": "+i}function Ng(t,e,r){var n=0,a=t.reduce(function(o,c){return n++,c.indexOf(`
`)>=0&&n++,o+c.replace(/\u001b\[\d\d?m/g,"").length+1},0);return a>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}V.types=Os();function Fs(t){return Array.isArray(t)}V.isArray=Fs;function E0(t){return typeof t=="boolean"}V.isBoolean=E0;function wn(t){return t===null}V.isNull=wn;function Cg(t){return t==null}V.isNullOrUndefined=Cg;function Rs(t){return typeof t=="number"}V.isNumber=Rs;function vn(t){return typeof t=="string"}V.isString=vn;function Ug(t){return typeof t=="symbol"}V.isSymbol=Ug;function wt(t){return t===void 0}V.isUndefined=wt;function lr(t){return Mt(t)&&B0(t)==="[object RegExp]"}V.isRegExp=lr;V.types.isRegExp=lr;function Mt(t){return typeof t=="object"&&t!==null}V.isObject=Mt;function _n(t){return Mt(t)&&B0(t)==="[object Date]"}V.isDate=_n;V.types.isDate=_n;function xr(t){return Mt(t)&&(B0(t)==="[object Error]"||t instanceof Error)}V.isError=xr;V.types.isNativeError=xr;function yn(t){return typeof t=="function"}V.isFunction=yn;function jg(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}V.isPrimitive=jg;V.isBuffer=qs();function B0(t){return Object.prototype.toString.call(t)}function w0(t){return t<10?"0"+t.toString(10):t.toString(10)}var Mg=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Lg(){var t=new Date,e=[w0(t.getHours()),w0(t.getMinutes()),w0(t.getSeconds())].join(":");return[t.getDate(),Mg[t.getMonth()],e].join(" ")}V.log=function(){console.log("%s - %s",Lg(),V.format.apply(V,arguments))};V.inherits=et();V._extend=function(t,e){if(!e||!Mt(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function Ns(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var _t=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;V.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(_t&&e[_t]){var r=e[_t];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,_t,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,a,o=new Promise(function(f,u){n=f,a=u}),c=[],i=0;i<arguments.length;i++)c.push(arguments[i]);c.push(function(f,u){f?a(f):n(u)});try{e.apply(this,c)}catch(f){a(f)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),_t&&Object.defineProperty(r,_t,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,Ds(e))};V.promisify.custom=_t;function kg(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function $g(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var a=r.pop();if(typeof a!="function")throw new TypeError("The last argument must be of type Function");var o=this,c=function(){return a.apply(o,arguments)};t.apply(this,r).then(function(i){process.nextTick(c.bind(null,null,i))},function(i){process.nextTick(kg.bind(null,i,c))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Ds(t)),e}V.callbackify=$g});var I0=T((W3,Ms)=>{"use strict";p();function it(t){"@babel/helpers - typeof";return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(t)}function Cs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zg(n.key),n)}}function Gg(t,e,r){return e&&Cs(t.prototype,e),r&&Cs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zg(t){var e=Wg(t,"string");return it(e)==="symbol"?e:String(e)}function Wg(t,e){if(it(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(it(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S0(t,e)}function S0(t,e){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S0(t,e)}function Xg(t){var e=Qg();return function(){var n=En(t),a;if(e){var o=En(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Yg(this,a)}}function Yg(t,e){if(e&&(it(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jg(t)}function Jg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function En(t){return En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},En(t)}var js={},kt,A0;function hr(t,e,r){r||(r=Error);function n(o,c,i){return typeof e=="string"?e:e(o,c,i)}var a=(function(o){Vg(i,o);var c=Xg(i);function i(f,u,s){var l;return Hg(this,i),l=c.call(this,n(f,u,s)),l.code=t,l}return Gg(i)})(r);js[t]=a}function Us(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Zg(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Kg(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function eb(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}hr("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);hr("ERR_INVALID_ARG_TYPE",function(t,e,r){kt===void 0&&(kt=$t()),kt(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&Zg(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(Kg(t," argument"))a="The ".concat(t," ").concat(n," ").concat(Us(e,"type"));else{var o=eb(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(Us(e,"type"))}return a+=". Received type ".concat(it(r)),a},TypeError);hr("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";A0===void 0&&(A0=Lt());var n=A0.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError,RangeError);hr("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(it(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);hr("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];kt===void 0&&(kt=$t()),kt(e.length>0,"At least one arg needs to be specified");var n="The ",a=e.length;switch(e=e.map(function(o){return'"'.concat(o,'"')}),a){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,a-1).join(", "),n+=", and ".concat(e[a-1]," arguments");break}return"".concat(n," must be specified")},TypeError);Ms.exports.codes=js});var Ys=T((V3,Xs)=>{"use strict";p();function Ls(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ls(Object(r),!0).forEach(function(n){tb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ls(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tb(t,e,r){return e=Ws(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ws(n.key),n)}}function nb(t,e,r){return e&&$s(t.prototype,e),r&&$s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ws(t){var e=ib(t,"string");return _e(e)==="symbol"?e:String(e)}function ib(t,e){if(_e(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_e(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ob(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&br(t,e)}function fb(t){var e=Vs();return function(){var n=yr(t),a;if(e){var o=yr(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Hs(this,a)}}function Hs(t,e){if(e&&(_e(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O0(t)}function O0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P0(t){var e=typeof Map=="function"?new Map:void 0;return P0=function(n){if(n===null||!ab(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return Bn(n,arguments,yr(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),br(a,n)},P0(t)}function Bn(t,e,r){return Vs()?Bn=Reflect.construct.bind():Bn=function(a,o,c){var i=[null];i.push.apply(i,o);var f=Function.bind.apply(a,i),u=new f;return c&&br(u,c.prototype),u},Bn.apply(null,arguments)}function Vs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ab(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function br(t,e){return br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},br(t,e)}function yr(t){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yr(t)}function _e(t){"@babel/helpers - typeof";return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(t)}var ub=Lt(),q0=ub.inspect,sb=I0(),cb=sb.codes.ERR_INVALID_ARG_TYPE;function Gs(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function lb(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}var Ne="",dr="",pr="",he="",vt={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},xb=10;function zs(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}function gr(t){return q0(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function hb(t,e,r){var n="",a="",o=0,c="",i=!1,f=gr(t),u=f.split(`
`),s=gr(e).split(`
`),l=0,d="";if(r==="strictEqual"&&_e(t)==="object"&&_e(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),u.length===1&&s.length===1&&u[0]!==s[0]){var m=u[0].length+s[0].length;if(m<=xb){if((_e(t)!=="object"||t===null)&&(_e(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(vt[r],`

`)+"".concat(u[0]," !== ").concat(s[0],`
`)}else if(r!=="strictEqualObject"){var _=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(m<_){for(;u[0][l]===s[0][l];)l++;l>2&&(d=`
  `.concat(lb(" ",l),"^"),l=0)}}}for(var D=u[u.length-1],C=s[s.length-1];D===C&&(l++<2?c=`
  `.concat(D).concat(c):n=D,u.pop(),s.pop(),!(u.length===0||s.length===0));)D=u[u.length-1],C=s[s.length-1];var P=Math.max(u.length,s.length);if(P===0){var R=f.split(`
`);if(R.length>30)for(R[26]="".concat(Ne,"...").concat(he);R.length>27;)R.pop();return"".concat(vt.notIdentical,`

`).concat(R.join(`
`),`
`)}l>3&&(c=`
`.concat(Ne,"...").concat(he).concat(c),i=!0),n!==""&&(c=`
  `.concat(n).concat(c),n="");var L=0,k=vt[r]+`
`.concat(dr,"+ actual").concat(he," ").concat(pr,"- expected").concat(he),x=" ".concat(Ne,"...").concat(he," Lines skipped");for(l=0;l<P;l++){var b=l-o;if(u.length<l+1)b>1&&l>2&&(b>4?(a+=`
`.concat(Ne,"...").concat(he),i=!0):b>3&&(a+=`
  `.concat(s[l-2]),L++),a+=`
  `.concat(s[l-1]),L++),o=l,n+=`
`.concat(pr,"-").concat(he," ").concat(s[l]),L++;else if(s.length<l+1)b>1&&l>2&&(b>4?(a+=`
`.concat(Ne,"...").concat(he),i=!0):b>3&&(a+=`
  `.concat(u[l-2]),L++),a+=`
  `.concat(u[l-1]),L++),o=l,a+=`
`.concat(dr,"+").concat(he," ").concat(u[l]),L++;else{var A=s[l],j=u[l],N=j!==A&&(!Gs(j,",")||j.slice(0,-1)!==A);N&&Gs(A,",")&&A.slice(0,-1)===j&&(N=!1,j+=","),N?(b>1&&l>2&&(b>4?(a+=`
`.concat(Ne,"...").concat(he),i=!0):b>3&&(a+=`
  `.concat(u[l-2]),L++),a+=`
  `.concat(u[l-1]),L++),o=l,a+=`
`.concat(dr,"+").concat(he," ").concat(j),n+=`
`.concat(pr,"-").concat(he," ").concat(A),L+=2):(a+=n,n="",(b===1||l===0)&&(a+=`
  `.concat(j),L++))}if(L>20&&l<P-2)return"".concat(k).concat(x,`
`).concat(a,`
`).concat(Ne,"...").concat(he).concat(n,`
`)+"".concat(Ne,"...").concat(he)}return"".concat(k).concat(i?x:"",`
`).concat(a).concat(n).concat(c).concat(d)}var db=(function(t,e){ob(n,t);var r=fb(n);function n(a){var o;if(rb(this,n),_e(a)!=="object"||a===null)throw new cb("options","Object",a);var c=a.message,i=a.operator,f=a.stackStartFn,u=a.actual,s=a.expected,l=Error.stackTraceLimit;if(Error.stackTraceLimit=0,c!=null)o=r.call(this,String(c));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Ne="\x1B[34m",dr="\x1B[32m",he="\x1B[39m",pr="\x1B[31m"):(Ne="",dr="",he="",pr="")),_e(u)==="object"&&u!==null&&_e(s)==="object"&&s!==null&&"stack"in u&&u instanceof Error&&"stack"in s&&s instanceof Error&&(u=zs(u),s=zs(s)),i==="deepStrictEqual"||i==="strictEqual")o=r.call(this,hb(u,s,i));else if(i==="notDeepStrictEqual"||i==="notStrictEqual"){var d=vt[i],m=gr(u).split(`
`);if(i==="notStrictEqual"&&_e(u)==="object"&&u!==null&&(d=vt.notStrictEqualObject),m.length>30)for(m[26]="".concat(Ne,"...").concat(he);m.length>27;)m.pop();m.length===1?o=r.call(this,"".concat(d," ").concat(m[0])):o=r.call(this,"".concat(d,`

`).concat(m.join(`
`),`
`))}else{var _=gr(u),D="",C=vt[i];i==="notDeepEqual"||i==="notEqual"?(_="".concat(vt[i],`

`).concat(_),_.length>1024&&(_="".concat(_.slice(0,1021),"..."))):(D="".concat(gr(s)),_.length>512&&(_="".concat(_.slice(0,509),"...")),D.length>512&&(D="".concat(D.slice(0,509),"...")),i==="deepEqual"||i==="equal"?_="".concat(C,`

`).concat(_,`

should equal

`):D=" ".concat(i," ").concat(D)),o=r.call(this,"".concat(_).concat(D))}return Error.stackTraceLimit=l,o.generatedMessage=!c,Object.defineProperty(O0(o),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),o.code="ERR_ASSERTION",o.actual=u,o.expected=s,o.operator=i,Error.captureStackTrace&&Error.captureStackTrace(O0(o),f),o.stack,o.name="AssertionError",Hs(o)}return nb(n,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(o,c){return q0(this,ks(ks({},c),{},{customInspect:!1,depth:0}))}}]),n})(P0(Error),q0.custom);Xs.exports=db});var D0=T((Y3,Qs)=>{"use strict";p();var Js=Object.prototype.toString;Qs.exports=function(e){var r=Js.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Js.call(e.callee)==="[object Function]"),n}});var fc=T((Q3,oc)=>{"use strict";p();var ic;Object.keys||(mr=Object.prototype.hasOwnProperty,T0=Object.prototype.toString,Zs=D0(),F0=Object.prototype.propertyIsEnumerable,Ks=!F0.call({toString:null},"toString"),ec=F0.call(function(){},"prototype"),_r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],An=function(t){var e=t.constructor;return e&&e.prototype===t},tc={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},rc=(function(){if(typeof window>"u")return!1;for(var t in window)try{if(!tc["$"+t]&&mr.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{An(window[t])}catch{return!0}}catch{return!0}return!1})(),nc=function(t){if(typeof window>"u"||!rc)return An(t);try{return An(t)}catch{return!1}},ic=function(e){var r=e!==null&&typeof e=="object",n=T0.call(e)==="[object Function]",a=Zs(e),o=r&&T0.call(e)==="[object String]",c=[];if(!r&&!n&&!a)throw new TypeError("Object.keys called on a non-object");var i=ec&&n;if(o&&e.length>0&&!mr.call(e,0))for(var f=0;f<e.length;++f)c.push(String(f));if(a&&e.length>0)for(var u=0;u<e.length;++u)c.push(String(u));else for(var s in e)!(i&&s==="prototype")&&mr.call(e,s)&&c.push(String(s));if(Ks)for(var l=nc(e),d=0;d<_r.length;++d)!(l&&_r[d]==="constructor")&&mr.call(e,_r[d])&&c.push(_r[d]);return c});var mr,T0,Zs,F0,Ks,ec,_r,An,tc,rc,nc;oc.exports=ic});var R0=T((K3,sc)=>{"use strict";p();var pb=Array.prototype.slice,gb=D0(),ac=Object.keys,Sn=ac?function(e){return ac(e)}:fc(),uc=Object.keys;Sn.shim=function(){if(Object.keys){var e=(function(){var r=Object.keys(arguments);return r&&r.length===arguments.length})(1,2);e||(Object.keys=function(n){return gb(n)?uc(pb.call(n)):uc(n)})}else Object.keys=Sn;return Object.keys||Sn};sc.exports=Sn});var dc=T((t_,hc)=>{"use strict";p();var bb=R0(),lc=Gr()(),xc=tt(),In=Lr(),yb=xc("Array.prototype.push"),cc=xc("Object.prototype.propertyIsEnumerable"),mb=lc?In.getOwnPropertySymbols:null;hc.exports=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=In(e);if(arguments.length===1)return n;for(var a=1;a<arguments.length;++a){var o=In(arguments[a]),c=bb(o),i=lc&&(In.getOwnPropertySymbols||mb);if(i)for(var f=i(o),u=0;u<f.length;++u){var s=f[u];cc(o,s)&&yb(c,s)}for(var l=0;l<c.length;++l){var d=c[l];if(cc(o,d)){var m=o[d];n[d]=m}}}return n}});var gc=T((n_,pc)=>{"use strict";p();var N0=dc(),_b=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var a=Object.assign({},r),o="";for(var c in a)o+=c;return t!==o},wb=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1};pc.exports=function(){return!Object.assign||_b()||wb()?N0:Object.assign}});var C0=T((o_,yc)=>{"use strict";p();var bc=function(t){return t!==t};yc.exports=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||bc(e)&&bc(r))}});var On=T((a_,mc)=>{"use strict";p();var vb=C0();mc.exports=function(){return typeof Object.is=="function"?Object.is:vb}});var Ec=T((s_,vc)=>{"use strict";p();var _c=Jr(),wc=nr(),Eb=wc(_c("String.prototype.indexOf"));vc.exports=function(e,r){var n=_c(e,!!r);return typeof n=="function"&&Eb(e,".prototype.")>-1?wc(n):n}});var wr=T((l_,Ic)=>{"use strict";p();var Bb=R0(),Ab=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Sb=Object.prototype.toString,Ib=Array.prototype.concat,Bc=Ti(),Ob=function(t){return typeof t=="function"&&Sb.call(t)==="[object Function]"},Ac=Ri()(),Pb=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!Ob(n)||!n())return}Ac?Bc(t,e,r,!0):Bc(t,e,r)},Sc=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Bb(e);Ab&&(n=Ib.call(n,Object.getOwnPropertySymbols(e)));for(var a=0;a<n.length;a+=1)Pb(t,n[a],e[n[a]],r[n[a]])};Sc.supportsDescriptors=!!Ac;Ic.exports=Sc});var Pc=T((h_,Oc)=>{"use strict";p();var qb=On(),Db=wr();Oc.exports=function(){var e=qb();return Db(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var Fc=T((p_,Tc)=>{"use strict";p();var Tb=wr(),Fb=nr(),Rb=C0(),qc=On(),Nb=Pc(),Dc=Fb(qc(),Object);Tb(Dc,{getPolyfill:qc,implementation:Rb,shim:Nb});Tc.exports=Dc});var U0=T((b_,Rc)=>{"use strict";p();Rc.exports=function(e){return e!==e}});var j0=T((m_,Nc)=>{"use strict";p();var Cb=U0();Nc.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Cb}});var Uc=T((w_,Cc)=>{"use strict";p();var Ub=wr(),jb=j0();Cc.exports=function(){var e=jb();return Ub(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var kc=T((E_,Lc)=>{"use strict";p();var Mb=nr(),Lb=wr(),kb=U0(),jc=j0(),$b=Uc(),Mc=Mb(jc(),Number);Lb(Mc,{getPolyfill:jc,implementation:kb,shim:$b});Lc.exports=Mc});var al=T((A_,fl)=>{"use strict";p();function $c(t,e){return Hb(t)||Wb(t,e)||zb(t,e)||Gb()}function Gb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zb(t,e){if(t){if(typeof t=="string")return Gc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gc(t,e)}}function Gc(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wb(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,i=[],f=!0,u=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=o.call(r)).done)&&(i.push(n.value),i.length!==e);f=!0);}catch(s){u=!0,a=s}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(u)throw a}}return i}}function Hb(t){if(Array.isArray(t))return t}function Pe(t){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(t)}var Vb=/a/g.flags!==void 0,Nn=function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},zc=function(e){var r=[];return e.forEach(function(n,a){return r.push([a,n])}),r},tl=Object.is?Object.is:Fc(),Fn=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},M0=Number.isNaN?Number.isNaN:kc();function k0(t){return t.call.bind(t)}var Er=k0(Object.prototype.hasOwnProperty),Rn=k0(Object.prototype.propertyIsEnumerable),Wc=k0(Object.prototype.toString),be=Lt().types,Xb=be.isAnyArrayBuffer,Yb=be.isArrayBufferView,Hc=be.isDate,Pn=be.isMap,Vc=be.isRegExp,qn=be.isSet,Jb=be.isNativeError,Qb=be.isBoxedPrimitive,Xc=be.isNumberObject,Yc=be.isStringObject,Jc=be.isBooleanObject,Qc=be.isBigIntObject,Zb=be.isSymbolObject,Kb=be.isFloat32Array,ey=be.isFloat64Array;function ty(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}function Dn(t){return Object.keys(t).filter(ty).concat(Fn(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function rl(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,a=0,o=Math.min(r,n);a<o;++a)if(t[a]!==e[a]){r=t[a],n=e[a];break}return r<n?-1:n<r?1:0}var Tn=void 0,ry=!0,ny=!1,L0=0,$0=1,nl=2,il=3;function iy(t,e){return Vb?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function oy(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function fy(t,e){return t.byteLength!==e.byteLength?!1:rl(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function ay(t,e){return t.byteLength===e.byteLength&&rl(new Uint8Array(t),new Uint8Array(e))===0}function uy(t,e){return Xc(t)?Xc(e)&&tl(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):Yc(t)?Yc(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):Jc(t)?Jc(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):Qc(t)?Qc(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):Zb(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function qe(t,e,r,n){if(t===e)return t!==0?!0:r?tl(t,e):!0;if(r){if(Pe(t)!=="object")return typeof t=="number"&&M0(t)&&M0(e);if(Pe(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||Pe(t)!=="object")return e===null||Pe(e)!=="object"?t==e:!1;if(e===null||Pe(e)!=="object")return!1}var a=Wc(t),o=Wc(e);if(a!==o)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var c=Dn(t,Tn),i=Dn(e,Tn);return c.length!==i.length?!1:vr(t,e,r,n,$0,c)}if(a==="[object Object]"&&(!Pn(t)&&Pn(e)||!qn(t)&&qn(e)))return!1;if(Hc(t)){if(!Hc(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(Vc(t)){if(!Vc(e)||!iy(t,e))return!1}else if(Jb(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(Yb(t)){if(!r&&(Kb(t)||ey(t))){if(!oy(t,e))return!1}else if(!fy(t,e))return!1;var f=Dn(t,Tn),u=Dn(e,Tn);return f.length!==u.length?!1:vr(t,e,r,n,L0,f)}else{if(qn(t))return!qn(e)||t.size!==e.size?!1:vr(t,e,r,n,nl);if(Pn(t))return!Pn(e)||t.size!==e.size?!1:vr(t,e,r,n,il);if(Xb(t)){if(!ay(t,e))return!1}else if(Qb(t)&&!uy(t,e))return!1}return vr(t,e,r,n,L0)}function Zc(t,e){return e.filter(function(r){return Rn(t,r)})}function vr(t,e,r,n,a,o){if(arguments.length===5){o=Object.keys(t);var c=Object.keys(e);if(o.length!==c.length)return!1}for(var i=0;i<o.length;i++)if(!Er(e,o[i]))return!1;if(r&&arguments.length===5){var f=Fn(t);if(f.length!==0){var u=0;for(i=0;i<f.length;i++){var s=f[i];if(Rn(t,s)){if(!Rn(e,s))return!1;o.push(s),u++}else if(Rn(e,s))return!1}var l=Fn(e);if(f.length!==l.length&&Zc(e,l).length!==u)return!1}else{var d=Fn(e);if(d.length!==0&&Zc(e,d).length!==0)return!1}}if(o.length===0&&(a===L0||a===$0&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var m=n.val1.get(t);if(m!==void 0){var _=n.val2.get(e);if(_!==void 0)return m===_}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var D=hy(t,e,r,o,n,a);return n.val1.delete(t),n.val2.delete(e),D}function Kc(t,e,r,n){for(var a=Nn(t),o=0;o<a.length;o++){var c=a[o];if(qe(e,c,r,n))return t.delete(c),!0}return!1}function ol(t){switch(Pe(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(M0(t))return!1}return!0}function sy(t,e,r){var n=ol(r);return n??(e.has(n)&&!t.has(n))}function cy(t,e,r,n,a){var o=ol(r);if(o!=null)return o;var c=e.get(o);return c===void 0&&!e.has(o)||!qe(n,c,!1,a)?!1:!t.has(o)&&qe(n,c,!1,a)}function ly(t,e,r,n){for(var a=null,o=Nn(t),c=0;c<o.length;c++){var i=o[c];if(Pe(i)==="object"&&i!==null)a===null&&(a=new Set),a.add(i);else if(!e.has(i)){if(r||!sy(t,e,i))return!1;a===null&&(a=new Set),a.add(i)}}if(a!==null){for(var f=Nn(e),u=0;u<f.length;u++){var s=f[u];if(Pe(s)==="object"&&s!==null){if(!Kc(a,s,r,n))return!1}else if(!r&&!t.has(s)&&!Kc(a,s,r,n))return!1}return a.size===0}return!0}function el(t,e,r,n,a,o){for(var c=Nn(t),i=0;i<c.length;i++){var f=c[i];if(qe(r,f,a,o)&&qe(n,e.get(f),a,o))return t.delete(f),!0}return!1}function xy(t,e,r,n){for(var a=null,o=zc(t),c=0;c<o.length;c++){var i=$c(o[c],2),f=i[0],u=i[1];if(Pe(f)==="object"&&f!==null)a===null&&(a=new Set),a.add(f);else{var s=e.get(f);if(s===void 0&&!e.has(f)||!qe(u,s,r,n)){if(r||!cy(t,e,f,u,n))return!1;a===null&&(a=new Set),a.add(f)}}}if(a!==null){for(var l=zc(e),d=0;d<l.length;d++){var m=$c(l[d],2),_=m[0],D=m[1];if(Pe(_)==="object"&&_!==null){if(!el(a,t,_,D,r,n))return!1}else if(!r&&(!t.has(_)||!qe(t.get(_),D,!1,n))&&!el(a,t,_,D,!1,n))return!1}return a.size===0}return!0}function hy(t,e,r,n,a,o){var c=0;if(o===nl){if(!ly(t,e,r,a))return!1}else if(o===il){if(!xy(t,e,r,a))return!1}else if(o===$0)for(;c<t.length;c++)if(Er(t,c)){if(!Er(e,c)||!qe(t[c],e[c],r,a))return!1}else{if(Er(e,c))return!1;for(var i=Object.keys(t);c<i.length;c++){var f=i[c];if(!Er(e,f)||!qe(t[f],e[f],r,a))return!1}return i.length===Object.keys(e).length}for(c=0;c<n.length;c++){var u=n[c];if(!qe(t[u],e[u],r,a))return!1}return!0}function dy(t,e){return qe(t,e,ny)}function py(t,e){return qe(t,e,ry)}fl.exports={isDeepEqual:dy,isDeepStrictEqual:py}});var $t=T((I_,Al)=>{"use strict";p();function Ce(t){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(t)}function ul(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,by(n.key),n)}}function gy(t,e,r){return e&&ul(t.prototype,e),r&&ul(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function by(t){var e=yy(t,"string");return Ce(e)==="symbol"?e:String(e)}function yy(t,e){if(Ce(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ce(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function my(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _y=I0(),Br=_y.codes,sl=Br.ERR_AMBIGUOUS_ARGUMENT,Gt=Br.ERR_INVALID_ARG_TYPE,wy=Br.ERR_INVALID_ARG_VALUE,vy=Br.ERR_INVALID_RETURN_VALUE,ft=Br.ERR_MISSING_ARGS,at=Ys(),Ey=Lt(),Cn=Ey.inspect,hl=Lt().types,By=hl.isPromise,Un=hl.isRegExp,Ay=gc()(),dl=On()(),jn=Ec()("RegExp.prototype.test"),ot,Mn;function Ar(){var t=al();ot=t.isDeepEqual,Mn=t.isDeepStrictEqual}var cl=!1,ne=Al.exports=G0,Ln={};function Ue(t){throw t.message instanceof Error?t.message:new at(t)}function pl(t,e,r,n,a){var o=arguments.length,c;if(o===0)c="Failed";else if(o===1)r=t,t=void 0;else{if(cl===!1){cl=!0;var i=process.emitWarning?process.emitWarning:console.warn.bind(console);i("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}o===2&&(n="!=")}if(r instanceof Error)throw r;var f={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:a||pl};r!==void 0&&(f.message=r);var u=new at(f);throw c&&(u.message=c,u.generatedMessage=!0),u}ne.fail=pl;ne.AssertionError=at;function gl(t,e,r,n){if(!r){var a=!1;if(e===0)a=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new at({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=a,o}}function G0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];gl.apply(void 0,[G0,e.length].concat(e))}ne.ok=G0;ne.equal=function t(e,r,n){if(arguments.length<2)throw new ft("actual","expected");e!=r&&Ue({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})};ne.notEqual=function t(e,r,n){if(arguments.length<2)throw new ft("actual","expected");e==r&&Ue({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})};ne.deepEqual=function t(e,r,n){if(arguments.length<2)throw new ft("actual","expected");ot===void 0&&Ar(),ot(e,r)||Ue({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})};ne.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new ft("actual","expected");ot===void 0&&Ar(),ot(e,r)&&Ue({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})};ne.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new ft("actual","expected");ot===void 0&&Ar(),Mn(e,r)||Ue({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})};ne.notDeepStrictEqual=bl;function bl(t,e,r){if(arguments.length<2)throw new ft("actual","expected");ot===void 0&&Ar(),Mn(t,e)&&Ue({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:bl})}ne.strictEqual=function t(e,r,n){if(arguments.length<2)throw new ft("actual","expected");dl(e,r)||Ue({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})};ne.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new ft("actual","expected");dl(e,r)&&Ue({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var ll=gy(function t(e,r,n){var a=this;my(this,t),r.forEach(function(o){o in e&&(n!==void 0&&typeof n[o]=="string"&&Un(e[o])&&jn(e[o],n[o])?a[o]=n[o]:a[o]=e[o])})});function Sy(t,e,r,n,a,o){if(!(r in t)||!Mn(t[r],e[r])){if(!n){var c=new ll(t,a),i=new ll(e,a,t),f=new at({actual:c,expected:i,operator:"deepStrictEqual",stackStartFn:o});throw f.actual=t,f.expected=e,f.operator=o.name,f}Ue({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}function yl(t,e,r,n){if(typeof e!="function"){if(Un(e))return jn(e,t);if(arguments.length===2)throw new Gt("expected",["Function","RegExp"],e);if(Ce(t)!=="object"||t===null){var a=new at({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw a.operator=n.name,a}var o=Object.keys(e);if(e instanceof Error)o.push("name","message");else if(o.length===0)throw new wy("error",e,"may not be an empty object");return ot===void 0&&Ar(),o.forEach(function(c){typeof t[c]=="string"&&Un(e[c])&&jn(e[c],t[c])||Sy(t,e,c,r,o,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function ml(t){if(typeof t!="function")throw new Gt("fn","Function",t);try{t()}catch(e){return e}return Ln}function xl(t){return By(t)||t!==null&&Ce(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}function _l(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!xl(e))throw new vy("instance of Promise","promiseFn",e)}else if(xl(t))e=t;else throw new Gt("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return Ln}).catch(function(r){return r})})}function wl(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new Gt("error",["Object","Error","Function","RegExp"],r);if(Ce(e)==="object"&&e!==null){if(e.message===r)throw new sl("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new sl("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&Ce(r)!=="object"&&typeof r!="function")throw new Gt("error",["Object","Error","Function","RegExp"],r);if(e===Ln){var a="";r&&r.name&&(a+=" (".concat(r.name,")")),a+=n?": ".concat(n):".";var o=t.name==="rejects"?"rejection":"exception";Ue({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(o).concat(a),stackStartFn:t})}if(r&&!yl(e,r,n,t))throw e}function vl(t,e,r,n){if(e!==Ln){if(typeof r=="string"&&(n=r,r=void 0),!r||yl(e,r)){var a=n?": ".concat(n):".",o=t.name==="doesNotReject"?"rejection":"exception";Ue({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(a,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}ne.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];wl.apply(void 0,[t,ml(e)].concat(n))};ne.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return _l(e).then(function(o){return wl.apply(void 0,[t,o].concat(n))})};ne.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];vl.apply(void 0,[t,ml(e)].concat(n))};ne.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return _l(e).then(function(o){return vl.apply(void 0,[t,o].concat(n))})};ne.ifError=function t(e){if(e!=null){var r="ifError got unwanted exception: ";Ce(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=Cn(e);var n=new at({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),a=e.stack;if(typeof a=="string"){var o=a.split(`
`);o.shift();for(var c=n.stack.split(`
`),i=0;i<o.length;i++){var f=c.indexOf(o[i]);if(f!==-1){c=c.slice(0,f);break}}n.stack="".concat(c.join(`
`),`
`).concat(o.join(`
`))}throw n}};function El(t,e,r,n,a){if(!Un(e))throw new Gt("regexp","RegExp",e);var o=a==="match";if(typeof t!="string"||jn(e,t)!==o){if(r instanceof Error)throw r;var c=!r;r=r||(typeof t!="string"?'The "string" argument must be of type string. Received type '+"".concat(Ce(t)," (").concat(Cn(t),")"):(o?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(Cn(e),`. Input:

`).concat(Cn(t),`
`));var i=new at({actual:t,expected:e,message:r,operator:a,stackStartFn:n});throw i.generatedMessage=c,i}}ne.match=function t(e,r,n){El(e,r,n,t,"match")};ne.doesNotMatch=function t(e,r,n){El(e,r,n,t,"doesNotMatch")};function Bl(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];gl.apply(void 0,[Bl,e.length].concat(e))}ne.strict=Ay(Bl,ne,{equal:ne.strictEqual,deepEqual:ne.deepStrictEqual,notEqual:ne.notStrictEqual,notDeepEqual:ne.notDeepStrictEqual});ne.strict.strict=ne.strict});var Il=T((Sl,kn)=>{p();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,a=Math.floor,o="[BigNumber Error] ",c=o+"Number primitive has more than 15 significant digits: ",i=1e14,f=14,u=9007199254740991,s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],l=1e7,d=1e9;function m(x){var b,A,j,N=M.prototype={constructor:M,toString:null,valueOf:null},X=new M(1),Q=20,re=4,ee=-7,Z=21,ye=-1e7,we=1e7,He=!1,lt=1,Te=0,Vt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Ve="0123456789abcdefghijklmnopqrstuvwxyz",Xt=!0;function M(h,g){var y,I,v,B,q,w,E,O,S=this;if(!(S instanceof M))return new M(h,g);if(g==null){if(h&&h._isBigNumber===!0){S.s=h.s,!h.c||h.e>we?S.c=S.e=null:h.e<ye?S.c=[S.e=0]:(S.e=h.e,S.c=h.c.slice());return}if((w=typeof h=="number")&&h*0==0){if(S.s=1/h<0?(h=-h,-1):1,h===~~h){for(B=0,q=h;q>=10;q/=10,B++);B>we?S.c=S.e=null:(S.e=B,S.c=[h]);return}O=String(h)}else{if(!r.test(O=String(h)))return j(S,O,w);S.s=O.charCodeAt(0)==45?(O=O.slice(1),-1):1}(B=O.indexOf("."))>-1&&(O=O.replace(".","")),(q=O.search(/e/i))>0?(B<0&&(B=q),B+=+O.slice(q+1),O=O.substring(0,q)):B<0&&(B=O.length)}else{if(P(g,2,Ve.length,"Base"),g==10&&Xt)return S=new M(h),fe(S,Q+S.e+1,re);if(O=String(h),w=typeof h=="number"){if(h*0!=0)return j(S,O,w,g);if(S.s=1/h<0?(O=O.slice(1),-1):1,M.DEBUG&&O.replace(/^0\.0*|\./,"").length>15)throw Error(c+h)}else S.s=O.charCodeAt(0)===45?(O=O.slice(1),-1):1;for(y=Ve.slice(0,g),B=q=0,E=O.length;q<E;q++)if(y.indexOf(I=O.charAt(q))<0){if(I=="."){if(q>B){B=E;continue}}else if(!v&&(O==O.toUpperCase()&&(O=O.toLowerCase())||O==O.toLowerCase()&&(O=O.toUpperCase()))){v=!0,q=-1,B=0;continue}return j(S,String(h),w,g)}w=!1,O=A(O,g,10,S.s),(B=O.indexOf("."))>-1?O=O.replace(".",""):B=O.length}for(q=0;O.charCodeAt(q)===48;q++);for(E=O.length;O.charCodeAt(--E)===48;);if(O=O.slice(q,++E)){if(E-=q,w&&M.DEBUG&&E>15&&(h>u||h!==a(h)))throw Error(c+S.s*h);if((B=B-q-1)>we)S.c=S.e=null;else if(B<ye)S.c=[S.e=0];else{if(S.e=B,S.c=[],q=(B+1)%f,B<0&&(q+=f),q<E){for(q&&S.c.push(+O.slice(0,q)),E-=f;q<E;)S.c.push(+O.slice(q,q+=f));q=f-(O=O.slice(q)).length}else q-=E;for(;q--;O+="0");S.c.push(+O)}}else S.c=[S.e=0]}M.clone=m,M.ROUND_UP=0,M.ROUND_DOWN=1,M.ROUND_CEIL=2,M.ROUND_FLOOR=3,M.ROUND_HALF_UP=4,M.ROUND_HALF_DOWN=5,M.ROUND_HALF_EVEN=6,M.ROUND_HALF_CEIL=7,M.ROUND_HALF_FLOOR=8,M.EUCLID=9,M.config=M.set=function(h){var g,y;if(h!=null)if(typeof h=="object"){if(h.hasOwnProperty(g="DECIMAL_PLACES")&&(y=h[g],P(y,0,d,g),Q=y),h.hasOwnProperty(g="ROUNDING_MODE")&&(y=h[g],P(y,0,8,g),re=y),h.hasOwnProperty(g="EXPONENTIAL_AT")&&(y=h[g],y&&y.pop?(P(y[0],-d,0,g),P(y[1],0,d,g),ee=y[0],Z=y[1]):(P(y,-d,d,g),ee=-(Z=y<0?-y:y))),h.hasOwnProperty(g="RANGE"))if(y=h[g],y&&y.pop)P(y[0],-d,-1,g),P(y[1],1,d,g),ye=y[0],we=y[1];else if(P(y,-d,d,g),y)ye=-(we=y<0?-y:y);else throw Error(o+g+" cannot be zero: "+y);if(h.hasOwnProperty(g="CRYPTO"))if(y=h[g],y===!!y)if(y)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))He=y;else throw He=!y,Error(o+"crypto unavailable");else He=y;else throw Error(o+g+" not true or false: "+y);if(h.hasOwnProperty(g="MODULO_MODE")&&(y=h[g],P(y,0,9,g),lt=y),h.hasOwnProperty(g="POW_PRECISION")&&(y=h[g],P(y,0,d,g),Te=y),h.hasOwnProperty(g="FORMAT"))if(y=h[g],typeof y=="object")Vt=y;else throw Error(o+g+" not an object: "+y);if(h.hasOwnProperty(g="ALPHABET"))if(y=h[g],typeof y=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(y))Xt=y.slice(0,10)=="0123456789",Ve=y;else throw Error(o+g+" invalid: "+y)}else throw Error(o+"Object expected: "+h);return{DECIMAL_PLACES:Q,ROUNDING_MODE:re,EXPONENTIAL_AT:[ee,Z],RANGE:[ye,we],CRYPTO:He,MODULO_MODE:lt,POW_PRECISION:Te,FORMAT:Vt,ALPHABET:Ve}},M.isBigNumber=function(h){if(!h||h._isBigNumber!==!0)return!1;if(!M.DEBUG)return!0;var g,y,I=h.c,v=h.e,B=h.s;e:if({}.toString.call(I)=="[object Array]"){if((B===1||B===-1)&&v>=-d&&v<=d&&v===a(v)){if(I[0]===0){if(v===0&&I.length===1)return!0;break e}if(g=(v+1)%f,g<1&&(g+=f),String(I[0]).length==g){for(g=0;g<I.length;g++)if(y=I[g],y<0||y>=i||y!==a(y))break e;if(y!==0)return!0}}}else if(I===null&&v===null&&(B===null||B===1||B===-1))return!0;throw Error(o+"Invalid BigNumber: "+h)},M.maximum=M.max=function(){return Jt(arguments,-1)},M.minimum=M.min=function(){return Jt(arguments,1)},M.random=(function(){var h=9007199254740992,g=Math.random()*h&2097151?function(){return a(Math.random()*h)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(y){var I,v,B,q,w,E=0,O=[],S=new M(X);if(y==null?y=Q:P(y,0,d),q=n(y/f),He)if(crypto.getRandomValues){for(I=crypto.getRandomValues(new Uint32Array(q*=2));E<q;)w=I[E]*131072+(I[E+1]>>>11),w>=9e15?(v=crypto.getRandomValues(new Uint32Array(2)),I[E]=v[0],I[E+1]=v[1]):(O.push(w%1e14),E+=2);E=q/2}else if(crypto.randomBytes){for(I=crypto.randomBytes(q*=7);E<q;)w=(I[E]&31)*281474976710656+I[E+1]*1099511627776+I[E+2]*4294967296+I[E+3]*16777216+(I[E+4]<<16)+(I[E+5]<<8)+I[E+6],w>=9e15?crypto.randomBytes(7).copy(I,E):(O.push(w%1e14),E+=7);E=q/7}else throw He=!1,Error(o+"crypto unavailable");if(!He)for(;E<q;)w=g(),w<9e15&&(O[E++]=w%1e14);for(q=O[--E],y%=f,q&&y&&(w=s[f-y],O[E]=a(q/w)*w);O[E]===0;O.pop(),E--);if(E<0)O=[B=0];else{for(B=-1;O[0]===0;O.splice(0,1),B-=f);for(E=1,w=O[0];w>=10;w/=10,E++);E<f&&(B-=f-E)}return S.e=B,S.c=O,S}})(),M.sum=function(){for(var h=1,g=arguments,y=new M(g[0]);h<g.length;)y=y.plus(g[h++]);return y},A=(function(){var h="0123456789";function g(y,I,v,B){for(var q,w=[0],E,O=0,S=y.length;O<S;){for(E=w.length;E--;w[E]*=I);for(w[0]+=B.indexOf(y.charAt(O++)),q=0;q<w.length;q++)w[q]>v-1&&(w[q+1]==null&&(w[q+1]=0),w[q+1]+=w[q]/v|0,w[q]%=v)}return w.reverse()}return function(y,I,v,B,q){var w,E,O,S,U,$,G,J,ie=y.indexOf("."),ue=Q,Y=re;for(ie>=0&&(S=Te,Te=0,y=y.replace(".",""),J=new M(I),$=J.pow(y.length-ie),Te=S,J.c=g(k(D($.c),$.e,"0"),10,v,h),J.e=J.c.length),G=g(y,I,v,q?(w=Ve,h):(w=h,Ve)),O=S=G.length;G[--S]==0;G.pop());if(!G[0])return w.charAt(0);if(ie<0?--O:($.c=G,$.e=O,$.s=B,$=b($,J,ue,Y,v),G=$.c,U=$.r,O=$.e),E=O+ue+1,ie=G[E],S=v/2,U=U||E<0||G[E+1]!=null,U=Y<4?(ie!=null||U)&&(Y==0||Y==($.s<0?3:2)):ie>S||ie==S&&(Y==4||U||Y==6&&G[E-1]&1||Y==($.s<0?8:7)),E<1||!G[0])y=U?k(w.charAt(1),-ue,w.charAt(0)):w.charAt(0);else{if(G.length=E,U)for(--v;++G[--E]>v;)G[E]=0,E||(++O,G=[1].concat(G));for(S=G.length;!G[--S];);for(ie=0,y="";ie<=S;y+=w.charAt(G[ie++]));y=k(y,O,w.charAt(0))}return y}})(),b=(function(){function h(I,v,B){var q,w,E,O,S=0,U=I.length,$=v%l,G=v/l|0;for(I=I.slice();U--;)E=I[U]%l,O=I[U]/l|0,q=G*E+O*$,w=$*E+q%l*l+S,S=(w/B|0)+(q/l|0)+G*O,I[U]=w%B;return S&&(I=[S].concat(I)),I}function g(I,v,B,q){var w,E;if(B!=q)E=B>q?1:-1;else for(w=E=0;w<B;w++)if(I[w]!=v[w]){E=I[w]>v[w]?1:-1;break}return E}function y(I,v,B,q){for(var w=0;B--;)I[B]-=w,w=I[B]<v[B]?1:0,I[B]=w*q+I[B]-v[B];for(;!I[0]&&I.length>1;I.splice(0,1));}return function(I,v,B,q,w){var E,O,S,U,$,G,J,ie,ue,Y,te,de,Fr,Qn,Zn,Me,Qt,Ee=I.s==v.s?1:-1,pe=I.c,oe=v.c;if(!pe||!pe[0]||!oe||!oe[0])return new M(!I.s||!v.s||(pe?oe&&pe[0]==oe[0]:!oe)?NaN:pe&&pe[0]==0||!oe?Ee*0:Ee/0);for(ie=new M(Ee),ue=ie.c=[],O=I.e-v.e,Ee=B+O+1,w||(w=i,O=_(I.e/f)-_(v.e/f),Ee=Ee/f|0),S=0;oe[S]==(pe[S]||0);S++);if(oe[S]>(pe[S]||0)&&O--,Ee<0)ue.push(1),U=!0;else{for(Qn=pe.length,Me=oe.length,S=0,Ee+=2,$=a(w/(oe[0]+1)),$>1&&(oe=h(oe,$,w),pe=h(pe,$,w),Me=oe.length,Qn=pe.length),Fr=Me,Y=pe.slice(0,Me),te=Y.length;te<Me;Y[te++]=0);Qt=oe.slice(),Qt=[0].concat(Qt),Zn=oe[0],oe[1]>=w/2&&Zn++;do{if($=0,E=g(oe,Y,Me,te),E<0){if(de=Y[0],Me!=te&&(de=de*w+(Y[1]||0)),$=a(de/Zn),$>1)for($>=w&&($=w-1),G=h(oe,$,w),J=G.length,te=Y.length;g(G,Y,J,te)==1;)$--,y(G,Me<J?Qt:oe,J,w),J=G.length,E=1;else $==0&&(E=$=1),G=oe.slice(),J=G.length;if(J<te&&(G=[0].concat(G)),y(Y,G,te,w),te=Y.length,E==-1)for(;g(oe,Y,Me,te)<1;)$++,y(Y,Me<te?Qt:oe,te,w),te=Y.length}else E===0&&($++,Y=[0]);ue[S++]=$,Y[0]?Y[te++]=pe[Fr]||0:(Y=[pe[Fr]],te=1)}while((Fr++<Qn||Y[0]!=null)&&Ee--);U=Y[0]!=null,ue[0]||ue.splice(0,1)}if(w==i){for(S=1,Ee=ue[0];Ee>=10;Ee/=10,S++);fe(ie,B+(ie.e=S+O*f-1)+1,q,U)}else ie.e=O,ie.r=+U;return ie}})();function Yt(h,g,y,I){var v,B,q,w,E;if(y==null?y=re:P(y,0,8),!h.c)return h.toString();if(v=h.c[0],q=h.e,g==null)E=D(h.c),E=I==1||I==2&&(q<=ee||q>=Z)?L(E,q):k(E,q,"0");else if(h=fe(new M(h),g,y),B=h.e,E=D(h.c),w=E.length,I==1||I==2&&(g<=B||B<=ee)){for(;w<g;E+="0",w++);E=L(E,B)}else if(g-=q+(I===2&&B>q),E=k(E,B,"0"),B+1>w){if(--g>0)for(E+=".";g--;E+="0");}else if(g+=B-w,g>0)for(B+1==w&&(E+=".");g--;E+="0");return h.s<0&&v?"-"+E:E}function Jt(h,g){for(var y,I,v=1,B=new M(h[0]);v<h.length;v++)I=new M(h[v]),(!I.s||(y=C(B,I))===g||y===0&&B.s===g)&&(B=I);return B}function xe(h,g,y){for(var I=1,v=g.length;!g[--v];g.pop());for(v=g[0];v>=10;v/=10,I++);return(y=I+y*f-1)>we?h.c=h.e=null:y<ye?h.c=[h.e=0]:(h.e=y,h.c=g),h}j=(function(){var h=/^(-?)0([xbo])(?=\w[\w.]*$)/i,g=/^([^.]+)\.$/,y=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,v=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(B,q,w,E){var O,S=w?q:q.replace(v,"");if(I.test(S))B.s=isNaN(S)?null:S<0?-1:1;else{if(!w&&(S=S.replace(h,function(U,$,G){return O=(G=G.toLowerCase())=="x"?16:G=="b"?2:8,!E||E==O?$:U}),E&&(O=E,S=S.replace(g,"$1").replace(y,"0.$1")),q!=S))return new M(S,O);if(M.DEBUG)throw Error(o+"Not a"+(E?" base "+E:"")+" number: "+q);B.s=null}B.c=B.e=null}})();function fe(h,g,y,I){var v,B,q,w,E,O,S,U=h.c,$=s;if(U){e:{for(v=1,w=U[0];w>=10;w/=10,v++);if(B=g-v,B<0)B+=f,q=g,E=U[O=0],S=a(E/$[v-q-1]%10);else if(O=n((B+1)/f),O>=U.length)if(I){for(;U.length<=O;U.push(0));E=S=0,v=1,B%=f,q=B-f+1}else break e;else{for(E=w=U[O],v=1;w>=10;w/=10,v++);B%=f,q=B-f+v,S=q<0?0:a(E/$[v-q-1]%10)}if(I=I||g<0||U[O+1]!=null||(q<0?E:E%$[v-q-1]),I=y<4?(S||I)&&(y==0||y==(h.s<0?3:2)):S>5||S==5&&(y==4||I||y==6&&(B>0?q>0?E/$[v-q]:0:U[O-1])%10&1||y==(h.s<0?8:7)),g<1||!U[0])return U.length=0,I?(g-=h.e+1,U[0]=$[(f-g%f)%f],h.e=-g||0):U[0]=h.e=0,h;if(B==0?(U.length=O,w=1,O--):(U.length=O+1,w=$[f-B],U[O]=q>0?a(E/$[v-q]%$[q])*w:0),I)for(;;)if(O==0){for(B=1,q=U[0];q>=10;q/=10,B++);for(q=U[0]+=w,w=1;q>=10;q/=10,w++);B!=w&&(h.e++,U[0]==i&&(U[0]=1));break}else{if(U[O]+=w,U[O]!=i)break;U[O--]=0,w=1}for(B=U.length;U[--B]===0;U.pop());}h.e>we?h.c=h.e=null:h.e<ye&&(h.c=[h.e=0])}return h}function ve(h){var g,y=h.e;return y===null?h.toString():(g=D(h.c),g=y<=ee||y>=Z?L(g,y):k(g,y,"0"),h.s<0?"-"+g:g)}return N.absoluteValue=N.abs=function(){var h=new M(this);return h.s<0&&(h.s=1),h},N.comparedTo=function(h,g){return C(this,new M(h,g))},N.decimalPlaces=N.dp=function(h,g){var y,I,v,B=this;if(h!=null)return P(h,0,d),g==null?g=re:P(g,0,8),fe(new M(B),h+B.e+1,g);if(!(y=B.c))return null;if(I=((v=y.length-1)-_(this.e/f))*f,v=y[v])for(;v%10==0;v/=10,I--);return I<0&&(I=0),I},N.dividedBy=N.div=function(h,g){return b(this,new M(h,g),Q,re)},N.dividedToIntegerBy=N.idiv=function(h,g){return b(this,new M(h,g),0,1)},N.exponentiatedBy=N.pow=function(h,g){var y,I,v,B,q,w,E,O,S,U=this;if(h=new M(h),h.c&&!h.isInteger())throw Error(o+"Exponent not an integer: "+ve(h));if(g!=null&&(g=new M(g)),w=h.e>14,!U.c||!U.c[0]||U.c[0]==1&&!U.e&&U.c.length==1||!h.c||!h.c[0])return S=new M(Math.pow(+ve(U),w?h.s*(2-R(h)):+ve(h))),g?S.mod(g):S;if(E=h.s<0,g){if(g.c?!g.c[0]:!g.s)return new M(NaN);I=!E&&U.isInteger()&&g.isInteger(),I&&(U=U.mod(g))}else{if(h.e>9&&(U.e>0||U.e<-1||(U.e==0?U.c[0]>1||w&&U.c[1]>=24e7:U.c[0]<8e13||w&&U.c[0]<=9999975e7)))return B=U.s<0&&R(h)?-0:0,U.e>-1&&(B=1/B),new M(E?1/B:B);Te&&(B=n(Te/f+2))}for(w?(y=new M(.5),E&&(h.s=1),O=R(h)):(v=Math.abs(+ve(h)),O=v%2),S=new M(X);;){if(O){if(S=S.times(U),!S.c)break;B?S.c.length>B&&(S.c.length=B):I&&(S=S.mod(g))}if(v){if(v=a(v/2),v===0)break;O=v%2}else if(h=h.times(y),fe(h,h.e+1,1),h.e>14)O=R(h);else{if(v=+ve(h),v===0)break;O=v%2}U=U.times(U),B?U.c&&U.c.length>B&&(U.c.length=B):I&&(U=U.mod(g))}return I?S:(E&&(S=X.div(S)),g?S.mod(g):B?fe(S,Te,re,q):S)},N.integerValue=function(h){var g=new M(this);return h==null?h=re:P(h,0,8),fe(g,g.e+1,h)},N.isEqualTo=N.eq=function(h,g){return C(this,new M(h,g))===0},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(h,g){return C(this,new M(h,g))>0},N.isGreaterThanOrEqualTo=N.gte=function(h,g){return(g=C(this,new M(h,g)))===1||g===0},N.isInteger=function(){return!!this.c&&_(this.e/f)>this.c.length-2},N.isLessThan=N.lt=function(h,g){return C(this,new M(h,g))<0},N.isLessThanOrEqualTo=N.lte=function(h,g){return(g=C(this,new M(h,g)))===-1||g===0},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return this.s>0},N.isZero=function(){return!!this.c&&this.c[0]==0},N.minus=function(h,g){var y,I,v,B,q=this,w=q.s;if(h=new M(h,g),g=h.s,!w||!g)return new M(NaN);if(w!=g)return h.s=-g,q.plus(h);var E=q.e/f,O=h.e/f,S=q.c,U=h.c;if(!E||!O){if(!S||!U)return S?(h.s=-g,h):new M(U?q:NaN);if(!S[0]||!U[0])return U[0]?(h.s=-g,h):new M(S[0]?q:re==3?-0:0)}if(E=_(E),O=_(O),S=S.slice(),w=E-O){for((B=w<0)?(w=-w,v=S):(O=E,v=U),v.reverse(),g=w;g--;v.push(0));v.reverse()}else for(I=(B=(w=S.length)<(g=U.length))?w:g,w=g=0;g<I;g++)if(S[g]!=U[g]){B=S[g]<U[g];break}if(B&&(v=S,S=U,U=v,h.s=-h.s),g=(I=U.length)-(y=S.length),g>0)for(;g--;S[y++]=0);for(g=i-1;I>w;){if(S[--I]<U[I]){for(y=I;y&&!S[--y];S[y]=g);--S[y],S[I]+=i}S[I]-=U[I]}for(;S[0]==0;S.splice(0,1),--O);return S[0]?xe(h,S,O):(h.s=re==3?-1:1,h.c=[h.e=0],h)},N.modulo=N.mod=function(h,g){var y,I,v=this;return h=new M(h,g),!v.c||!h.s||h.c&&!h.c[0]?new M(NaN):!h.c||v.c&&!v.c[0]?new M(v):(lt==9?(I=h.s,h.s=1,y=b(v,h,0,3),h.s=I,y.s*=I):y=b(v,h,0,lt),h=v.minus(y.times(h)),!h.c[0]&&lt==1&&(h.s=v.s),h)},N.multipliedBy=N.times=function(h,g){var y,I,v,B,q,w,E,O,S,U,$,G,J,ie,ue,Y=this,te=Y.c,de=(h=new M(h,g)).c;if(!te||!de||!te[0]||!de[0])return!Y.s||!h.s||te&&!te[0]&&!de||de&&!de[0]&&!te?h.c=h.e=h.s=null:(h.s*=Y.s,!te||!de?h.c=h.e=null:(h.c=[0],h.e=0)),h;for(I=_(Y.e/f)+_(h.e/f),h.s*=Y.s,E=te.length,U=de.length,E<U&&(J=te,te=de,de=J,v=E,E=U,U=v),v=E+U,J=[];v--;J.push(0));for(ie=i,ue=l,v=U;--v>=0;){for(y=0,$=de[v]%ue,G=de[v]/ue|0,q=E,B=v+q;B>v;)O=te[--q]%ue,S=te[q]/ue|0,w=G*O+S*$,O=$*O+w%ue*ue+J[B]+y,y=(O/ie|0)+(w/ue|0)+G*S,J[B--]=O%ie;J[B]=y}return y?++I:J.splice(0,1),xe(h,J,I)},N.negated=function(){var h=new M(this);return h.s=-h.s||null,h},N.plus=function(h,g){var y,I=this,v=I.s;if(h=new M(h,g),g=h.s,!v||!g)return new M(NaN);if(v!=g)return h.s=-g,I.minus(h);var B=I.e/f,q=h.e/f,w=I.c,E=h.c;if(!B||!q){if(!w||!E)return new M(v/0);if(!w[0]||!E[0])return E[0]?h:new M(w[0]?I:v*0)}if(B=_(B),q=_(q),w=w.slice(),v=B-q){for(v>0?(q=B,y=E):(v=-v,y=w),y.reverse();v--;y.push(0));y.reverse()}for(v=w.length,g=E.length,v-g<0&&(y=E,E=w,w=y,g=v),v=0;g;)v=(w[--g]=w[g]+E[g]+v)/i|0,w[g]=i===w[g]?0:w[g]%i;return v&&(w=[v].concat(w),++q),xe(h,w,q)},N.precision=N.sd=function(h,g){var y,I,v,B=this;if(h!=null&&h!==!!h)return P(h,1,d),g==null?g=re:P(g,0,8),fe(new M(B),h,g);if(!(y=B.c))return null;if(v=y.length-1,I=v*f+1,v=y[v]){for(;v%10==0;v/=10,I--);for(v=y[0];v>=10;v/=10,I++);}return h&&B.e+1>I&&(I=B.e+1),I},N.shiftedBy=function(h){return P(h,-u,u),this.times("1e"+h)},N.squareRoot=N.sqrt=function(){var h,g,y,I,v,B=this,q=B.c,w=B.s,E=B.e,O=Q+4,S=new M("0.5");if(w!==1||!q||!q[0])return new M(!w||w<0&&(!q||q[0])?NaN:q?B:1/0);if(w=Math.sqrt(+ve(B)),w==0||w==1/0?(g=D(q),(g.length+E)%2==0&&(g+="0"),w=Math.sqrt(+g),E=_((E+1)/2)-(E<0||E%2),w==1/0?g="5e"+E:(g=w.toExponential(),g=g.slice(0,g.indexOf("e")+1)+E),y=new M(g)):y=new M(w+""),y.c[0]){for(E=y.e,w=E+O,w<3&&(w=0);;)if(v=y,y=S.times(v.plus(b(B,v,O,1))),D(v.c).slice(0,w)===(g=D(y.c)).slice(0,w))if(y.e<E&&--w,g=g.slice(w-3,w+1),g=="9999"||!I&&g=="4999"){if(!I&&(fe(v,v.e+Q+2,0),v.times(v).eq(B))){y=v;break}O+=4,w+=4,I=1}else{(!+g||!+g.slice(1)&&g.charAt(0)=="5")&&(fe(y,y.e+Q+2,1),h=!y.times(y).eq(B));break}}return fe(y,y.e+Q+1,re,h)},N.toExponential=function(h,g){return h!=null&&(P(h,0,d),h++),Yt(this,h,g,1)},N.toFixed=function(h,g){return h!=null&&(P(h,0,d),h=h+this.e+1),Yt(this,h,g)},N.toFormat=function(h,g,y){var I,v=this;if(y==null)h!=null&&g&&typeof g=="object"?(y=g,g=null):h&&typeof h=="object"?(y=h,h=g=null):y=Vt;else if(typeof y!="object")throw Error(o+"Argument not an object: "+y);if(I=v.toFixed(h,g),v.c){var B,q=I.split("."),w=+y.groupSize,E=+y.secondaryGroupSize,O=y.groupSeparator||"",S=q[0],U=q[1],$=v.s<0,G=$?S.slice(1):S,J=G.length;if(E&&(B=w,w=E,E=B,J-=B),w>0&&J>0){for(B=J%w||w,S=G.substr(0,B);B<J;B+=w)S+=O+G.substr(B,w);E>0&&(S+=O+G.slice(B)),$&&(S="-"+S)}I=U?S+(y.decimalSeparator||"")+((E=+y.fractionGroupSize)?U.replace(new RegExp("\\d{"+E+"}\\B","g"),"$&"+(y.fractionGroupSeparator||"")):U):S}return(y.prefix||"")+I+(y.suffix||"")},N.toFraction=function(h){var g,y,I,v,B,q,w,E,O,S,U,$,G=this,J=G.c;if(h!=null&&(w=new M(h),!w.isInteger()&&(w.c||w.s!==1)||w.lt(X)))throw Error(o+"Argument "+(w.isInteger()?"out of range: ":"not an integer: ")+ve(w));if(!J)return new M(G);for(g=new M(X),O=y=new M(X),I=E=new M(X),$=D(J),B=g.e=$.length-G.e-1,g.c[0]=s[(q=B%f)<0?f+q:q],h=!h||w.comparedTo(g)>0?B>0?g:O:w,q=we,we=1/0,w=new M($),E.c[0]=0;S=b(w,g,0,1),v=y.plus(S.times(I)),v.comparedTo(h)!=1;)y=I,I=v,O=E.plus(S.times(v=O)),E=v,g=w.minus(S.times(v=g)),w=v;return v=b(h.minus(y),I,0,1),E=E.plus(v.times(O)),y=y.plus(v.times(I)),E.s=O.s=G.s,B=B*2,U=b(O,I,B,re).minus(G).abs().comparedTo(b(E,y,B,re).minus(G).abs())<1?[O,I]:[E,y],we=q,U},N.toNumber=function(){return+ve(this)},N.toPrecision=function(h,g){return h!=null&&P(h,1,d),Yt(this,h,g,2)},N.toString=function(h){var g,y=this,I=y.s,v=y.e;return v===null?I?(g="Infinity",I<0&&(g="-"+g)):g="NaN":(h==null?g=v<=ee||v>=Z?L(D(y.c),v):k(D(y.c),v,"0"):h===10&&Xt?(y=fe(new M(y),Q+v+1,re),g=k(D(y.c),y.e,"0")):(P(h,2,Ve.length,"Base"),g=A(k(D(y.c),v,"0"),10,h,I,!0)),I<0&&y.c[0]&&(g="-"+g)),g},N.valueOf=N.toJSON=function(){return ve(this)},N._isBigNumber=!0,x!=null&&M.set(x),M}function _(x){var b=x|0;return x>0||x===b?b:b-1}function D(x){for(var b,A,j=1,N=x.length,X=x[0]+"";j<N;){for(b=x[j++]+"",A=f-b.length;A--;b="0"+b);X+=b}for(N=X.length;X.charCodeAt(--N)===48;);return X.slice(0,N+1||1)}function C(x,b){var A,j,N=x.c,X=b.c,Q=x.s,re=b.s,ee=x.e,Z=b.e;if(!Q||!re)return null;if(A=N&&!N[0],j=X&&!X[0],A||j)return A?j?0:-re:Q;if(Q!=re)return Q;if(A=Q<0,j=ee==Z,!N||!X)return j?0:!N^A?1:-1;if(!j)return ee>Z^A?1:-1;for(re=(ee=N.length)<(Z=X.length)?ee:Z,Q=0;Q<re;Q++)if(N[Q]!=X[Q])return N[Q]>X[Q]^A?1:-1;return ee==Z?0:ee>Z^A?1:-1}function P(x,b,A,j){if(x<b||x>A||x!==a(x))throw Error(o+(j||"Argument")+(typeof x=="number"?x<b||x>A?" out of range: ":" not an integer: ":" not a primitive number: ")+String(x))}function R(x){var b=x.c.length-1;return _(x.e/f)==b&&x.c[b]%2!=0}function L(x,b){return(x.length>1?x.charAt(0)+"."+x.slice(1):x)+(b<0?"e":"e+")+b}function k(x,b,A){var j,N;if(b<0){for(N=A+".";++b;N+=A);x=N+x}else if(j=x.length,++b>j){for(N=A,b-=j;--b;N+=A);x+=N}else b<j&&(x=x.slice(0,b)+"."+x.slice(b));return x}e=m(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof kn<"u"&&kn.exports?kn.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(Sl)});var Ol=T((z0,W0)=>{p();(function(t,e){typeof z0=="object"&&typeof W0<"u"?W0.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.JSBI=e())})(z0,function(){"use strict";var t=Math.imul,e=Math.clz32,r=Math.abs,n=Math.max,a=Math.floor;class o extends Array{constructor(i,f){if(super(i),this.sign=f,i>o.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(i){var f=Number.isFinite;if(typeof i=="number"){if(i===0)return o.__zero();if(o.__isOneDigitInt(i))return 0>i?o.__oneDigit(-i,!0):o.__oneDigit(i,!1);if(!f(i)||a(i)!==i)throw new RangeError("The number "+i+" cannot be converted to BigInt because it is not an integer");return o.__fromDouble(i)}if(typeof i=="string"){let u=o.__fromString(i);if(u===null)throw new SyntaxError("Cannot convert "+i+" to a BigInt");return u}if(typeof i=="boolean")return i===!0?o.__oneDigit(1,!1):o.__zero();if(typeof i=="object"){if(i.constructor===o)return i;let u=o.__toPrimitive(i);return o.BigInt(u)}throw new TypeError("Cannot convert "+i+" to a BigInt")}toDebugString(){let i=["BigInt["];for(let f of this)i.push((f&&(f>>>0).toString(16))+", ");return i.push("]"),i.join("")}toString(i=10){if(2>i||36<i)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(i&i-1)==0?o.__toStringBasePowerOfTwo(this,i):o.__toStringGeneric(this,i,!1)}static toNumber(i){let f=i.length;if(f===0)return 0;if(f===1){let b=i.__unsignedDigit(0);return i.sign?-b:b}let u=i.__digit(f-1),s=o.__clz30(u),l=30*f-s;if(1024<l)return i.sign?-1/0:1/0;let d=l-1,m=u,_=f-1,D=s+3,C=D===32?0:m<<D;C>>>=12;let P=D-12,R=12<=D?0:m<<20+D,L=20+D;for(0<P&&0<_&&(_--,m=i.__digit(_),C|=m>>>30-P,R=m<<P+2,L=P+2);0<L&&0<_;)_--,m=i.__digit(_),R|=30<=L?m<<L-30:m>>>30-L,L-=30;let k=o.__decideRounding(i,L,_,m);if((k===1||k===0&&(1&R)==1)&&(R=R+1>>>0,R===0&&(C++,C>>>20!=0&&(C=0,d++,1023<d))))return i.sign?-1/0:1/0;let x=i.sign?-2147483648:0;return d=d+1023<<20,o.__kBitConversionInts[1]=x|d|C,o.__kBitConversionInts[0]=R,o.__kBitConversionDouble[0]}static unaryMinus(i){if(i.length===0)return i;let f=i.__copy();return f.sign=!i.sign,f}static bitwiseNot(i){return i.sign?o.__absoluteSubOne(i).__trim():o.__absoluteAddOne(i,!0)}static exponentiate(i,f){if(f.sign)throw new RangeError("Exponent must be positive");if(f.length===0)return o.__oneDigit(1,!1);if(i.length===0)return i;if(i.length===1&&i.__digit(0)===1)return i.sign&&(1&f.__digit(0))==0?o.unaryMinus(i):i;if(1<f.length)throw new RangeError("BigInt too big");let u=f.__unsignedDigit(0);if(u===1)return i;if(u>=o.__kMaxLengthBits)throw new RangeError("BigInt too big");if(i.length===1&&i.__digit(0)===2){let d=1+(0|u/30),m=i.sign&&(1&u)!=0,_=new o(d,m);_.__initializeDigits();let D=1<<u%30;return _.__setDigit(d-1,D),_}let s=null,l=i;for((1&u)!=0&&(s=i),u>>=1;u!==0;u>>=1)l=o.multiply(l,l),(1&u)!=0&&(s===null?s=l:s=o.multiply(s,l));return s}static multiply(i,f){if(i.length===0)return i;if(f.length===0)return f;let u=i.length+f.length;30<=i.__clzmsd()+f.__clzmsd()&&u--;let s=new o(u,i.sign!==f.sign);s.__initializeDigits();for(let l=0;l<i.length;l++)o.__multiplyAccumulate(f,i.__digit(l),s,l);return s.__trim()}static divide(i,f){if(f.length===0)throw new RangeError("Division by zero");if(0>o.__absoluteCompare(i,f))return o.__zero();let u=i.sign!==f.sign,s=f.__unsignedDigit(0),l;if(f.length===1&&32767>=s){if(s===1)return u===i.sign?i:o.unaryMinus(i);l=o.__absoluteDivSmall(i,s,null)}else l=o.__absoluteDivLarge(i,f,!0,!1);return l.sign=u,l.__trim()}static remainder(i,f){if(f.length===0)throw new RangeError("Division by zero");if(0>o.__absoluteCompare(i,f))return i;let u=f.__unsignedDigit(0);if(f.length===1&&32767>=u){if(u===1)return o.__zero();let l=o.__absoluteModSmall(i,u);return l===0?o.__zero():o.__oneDigit(l,i.sign)}let s=o.__absoluteDivLarge(i,f,!1,!0);return s.sign=i.sign,s.__trim()}static add(i,f){let u=i.sign;return u===f.sign?o.__absoluteAdd(i,f,u):0<=o.__absoluteCompare(i,f)?o.__absoluteSub(i,f,u):o.__absoluteSub(f,i,!u)}static subtract(i,f){let u=i.sign;return u===f.sign?0<=o.__absoluteCompare(i,f)?o.__absoluteSub(i,f,u):o.__absoluteSub(f,i,!u):o.__absoluteAdd(i,f,u)}static leftShift(i,f){return f.length===0||i.length===0?i:f.sign?o.__rightShiftByAbsolute(i,f):o.__leftShiftByAbsolute(i,f)}static signedRightShift(i,f){return f.length===0||i.length===0?i:f.sign?o.__leftShiftByAbsolute(i,f):o.__rightShiftByAbsolute(i,f)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(i,f){return 0>o.__compareToBigInt(i,f)}static lessThanOrEqual(i,f){return 0>=o.__compareToBigInt(i,f)}static greaterThan(i,f){return 0<o.__compareToBigInt(i,f)}static greaterThanOrEqual(i,f){return 0<=o.__compareToBigInt(i,f)}static equal(i,f){if(i.sign!==f.sign||i.length!==f.length)return!1;for(let u=0;u<i.length;u++)if(i.__digit(u)!==f.__digit(u))return!1;return!0}static notEqual(i,f){return!o.equal(i,f)}static bitwiseAnd(i,f){if(!i.sign&&!f.sign)return o.__absoluteAnd(i,f).__trim();if(i.sign&&f.sign){let u=n(i.length,f.length)+1,s=o.__absoluteSubOne(i,u),l=o.__absoluteSubOne(f);return s=o.__absoluteOr(s,l,s),o.__absoluteAddOne(s,!0,s).__trim()}return i.sign&&([i,f]=[f,i]),o.__absoluteAndNot(i,o.__absoluteSubOne(f)).__trim()}static bitwiseXor(i,f){if(!i.sign&&!f.sign)return o.__absoluteXor(i,f).__trim();if(i.sign&&f.sign){let l=n(i.length,f.length),d=o.__absoluteSubOne(i,l),m=o.__absoluteSubOne(f);return o.__absoluteXor(d,m,d).__trim()}let u=n(i.length,f.length)+1;i.sign&&([i,f]=[f,i]);let s=o.__absoluteSubOne(f,u);return s=o.__absoluteXor(s,i,s),o.__absoluteAddOne(s,!0,s).__trim()}static bitwiseOr(i,f){let u=n(i.length,f.length);if(!i.sign&&!f.sign)return o.__absoluteOr(i,f).__trim();if(i.sign&&f.sign){let l=o.__absoluteSubOne(i,u),d=o.__absoluteSubOne(f);return l=o.__absoluteAnd(l,d,l),o.__absoluteAddOne(l,!0,l).__trim()}i.sign&&([i,f]=[f,i]);let s=o.__absoluteSubOne(f,u);return s=o.__absoluteAndNot(s,i,s),o.__absoluteAddOne(s,!0,s).__trim()}static asIntN(i,f){if(f.length===0)return f;if(i=a(i),0>i)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(i===0)return o.__zero();if(i>=o.__kMaxLengthBits)return f;let u=0|(i+29)/30;if(f.length<u)return f;let s=f.__unsignedDigit(u-1),l=1<<(i-1)%30;if(f.length===u&&s<l)return f;if((s&l)!==l)return o.__truncateToNBits(i,f);if(!f.sign)return o.__truncateAndSubFromPowerOfTwo(i,f,!0);if((s&l-1)==0){for(let d=u-2;0<=d;d--)if(f.__digit(d)!==0)return o.__truncateAndSubFromPowerOfTwo(i,f,!1);return f.length===u&&s===l?f:o.__truncateToNBits(i,f)}return o.__truncateAndSubFromPowerOfTwo(i,f,!1)}static asUintN(i,f){if(f.length===0)return f;if(i=a(i),0>i)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(i===0)return o.__zero();if(f.sign){if(i>o.__kMaxLengthBits)throw new RangeError("BigInt too big");return o.__truncateAndSubFromPowerOfTwo(i,f,!1)}if(i>=o.__kMaxLengthBits)return f;let u=0|(i+29)/30;if(f.length<u)return f;let s=i%30;return f.length==u&&(s===0||!(f.__digit(u-1)>>>s))?f:o.__truncateToNBits(i,f)}static ADD(i,f){if(i=o.__toPrimitive(i),f=o.__toPrimitive(f),typeof i=="string")return typeof f!="string"&&(f=f.toString()),i+f;if(typeof f=="string")return i.toString()+f;if(i=o.__toNumeric(i),f=o.__toNumeric(f),o.__isBigInt(i)&&o.__isBigInt(f))return o.add(i,f);if(typeof i=="number"&&typeof f=="number")return i+f;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(i,f){return o.__compare(i,f,0)}static LE(i,f){return o.__compare(i,f,1)}static GT(i,f){return o.__compare(i,f,2)}static GE(i,f){return o.__compare(i,f,3)}static EQ(i,f){for(;;){if(o.__isBigInt(i))return o.__isBigInt(f)?o.equal(i,f):o.EQ(f,i);if(typeof i=="number"){if(o.__isBigInt(f))return o.__equalToNumber(f,i);if(typeof f!="object")return i==f;f=o.__toPrimitive(f)}else if(typeof i=="string"){if(o.__isBigInt(f))return i=o.__fromString(i),i!==null&&o.equal(i,f);if(typeof f!="object")return i==f;f=o.__toPrimitive(f)}else if(typeof i=="boolean"){if(o.__isBigInt(f))return o.__equalToNumber(f,+i);if(typeof f!="object")return i==f;f=o.__toPrimitive(f)}else if(typeof i=="symbol"){if(o.__isBigInt(f))return!1;if(typeof f!="object")return i==f;f=o.__toPrimitive(f)}else if(typeof i=="object"){if(typeof f=="object"&&f.constructor!==o)return i==f;i=o.__toPrimitive(i)}else return i==f}}static NE(i,f){return!o.EQ(i,f)}static __zero(){return new o(0,!1)}static __oneDigit(i,f){let u=new o(1,f);return u.__setDigit(0,i),u}__copy(){let i=new o(this.length,this.sign);for(let f=0;f<this.length;f++)i[f]=this[f];return i}__trim(){let i=this.length,f=this[i-1];for(;f===0;)i--,f=this[i-1],this.pop();return i===0&&(this.sign=!1),this}__initializeDigits(){for(let i=0;i<this.length;i++)this[i]=0}static __decideRounding(i,f,u,s){if(0<f)return-1;let l;if(0>f)l=-f-1;else{if(u===0)return-1;u--,s=i.__digit(u),l=29}let d=1<<l;if((s&d)==0)return-1;if(d-=1,(s&d)!=0)return 1;for(;0<u;)if(u--,i.__digit(u)!==0)return 1;return 0}static __fromDouble(i){o.__kBitConversionDouble[0]=i;let f=2047&o.__kBitConversionInts[1]>>>20,u=f-1023,s=(0|u/30)+1,l=new o(s,0>i),d=1048575&o.__kBitConversionInts[1]|1048576,m=o.__kBitConversionInts[0],_=20,D=u%30,C,P=0;if(20>D){let R=_-D;P=R+32,C=d>>>R,d=d<<32-R|m>>>R,m<<=32-R}else if(D===20)P=32,C=d,d=m,m=0;else{let R=D-_;P=32-R,C=d<<R|m>>>32-R,d=m<<R,m=0}l.__setDigit(s-1,C);for(let R=s-2;0<=R;R--)0<P?(P-=30,C=d>>>2,d=d<<30|m>>>2,m<<=30):C=0,l.__setDigit(R,C);return l.__trim()}static __isWhitespace(i){return 13>=i&&9<=i||(159>=i?i==32:131071>=i?i==160||i==5760:196607>=i?(i&=131071,10>=i||i==40||i==41||i==47||i==95||i==4096):i==65279)}static __fromString(i,f=0){let u=0,s=i.length,l=0;if(l===s)return o.__zero();let d=i.charCodeAt(l);for(;o.__isWhitespace(d);){if(++l===s)return o.__zero();d=i.charCodeAt(l)}if(d===43){if(++l===s)return null;d=i.charCodeAt(l),u=1}else if(d===45){if(++l===s)return null;d=i.charCodeAt(l),u=-1}if(f===0){if(f=10,d===48){if(++l===s)return o.__zero();if(d=i.charCodeAt(l),d===88||d===120){if(f=16,++l===s)return null;d=i.charCodeAt(l)}else if(d===79||d===111){if(f=8,++l===s)return null;d=i.charCodeAt(l)}else if(d===66||d===98){if(f=2,++l===s)return null;d=i.charCodeAt(l)}}}else if(f===16&&d===48){if(++l===s)return o.__zero();if(d=i.charCodeAt(l),d===88||d===120){if(++l===s)return null;d=i.charCodeAt(l)}}if(u!=0&&f!==10)return null;for(;d===48;){if(++l===s)return o.__zero();d=i.charCodeAt(l)}let m=s-l,_=o.__kMaxBitsPerChar[f],D=o.__kBitsPerCharTableMultiplier-1;if(m>1073741824/_)return null;let C=_*m+D>>>o.__kBitsPerCharTableShift,P=new o(0|(C+29)/30,!1),R=10>f?f:10,L=10<f?f-10:0;if((f&f-1)==0){_>>=o.__kBitsPerCharTableShift;let k=[],x=[],b=!1;do{let A=0,j=0;for(;;){let N;if(d-48>>>0<R)N=d-48;else if((32|d)-97>>>0<L)N=(32|d)-87;else{b=!0;break}if(j+=_,A=A<<_|N,++l===s){b=!0;break}if(d=i.charCodeAt(l),30<j+_)break}k.push(A),x.push(j)}while(!b);o.__fillFromParts(P,k,x)}else{P.__initializeDigits();let k=!1,x=0;do{let b=0,A=1;for(;;){let N;if(d-48>>>0<R)N=d-48;else if((32|d)-97>>>0<L)N=(32|d)-87;else{k=!0;break}let X=A*f;if(1073741823<X)break;if(A=X,b=b*f+N,x++,++l===s){k=!0;break}d=i.charCodeAt(l)}D=30*o.__kBitsPerCharTableMultiplier-1;let j=0|(_*x+D>>>o.__kBitsPerCharTableShift)/30;P.__inplaceMultiplyAdd(A,b,j)}while(!k)}if(l!==s){if(!o.__isWhitespace(d))return null;for(l++;l<s;l++)if(d=i.charCodeAt(l),!o.__isWhitespace(d))return null}return P.sign=u==-1,P.__trim()}static __fillFromParts(i,f,u){let s=0,l=0,d=0;for(let m=f.length-1;0<=m;m--){let _=f[m],D=u[m];l|=_<<d,d+=D,d===30?(i.__setDigit(s++,l),d=0,l=0):30<d&&(i.__setDigit(s++,1073741823&l),d-=30,l=_>>>D-d)}if(l!==0){if(s>=i.length)throw new Error("implementation bug");i.__setDigit(s++,l)}for(;s<i.length;s++)i.__setDigit(s,0)}static __toStringBasePowerOfTwo(i,f){let u=i.length,s=f-1;s=(85&s>>>1)+(85&s),s=(51&s>>>2)+(51&s),s=(15&s>>>4)+(15&s);let l=s,d=f-1,m=i.__digit(u-1),_=o.__clz30(m),D=0|(30*u-_+l-1)/l;if(i.sign&&D++,268435456<D)throw new Error("string too long");let C=Array(D),P=D-1,R=0,L=0;for(let x=0;x<u-1;x++){let b=i.__digit(x),A=(R|b<<L)&d;C[P--]=o.__kConversionChars[A];let j=l-L;for(R=b>>>j,L=30-j;L>=l;)C[P--]=o.__kConversionChars[R&d],R>>>=l,L-=l}let k=(R|m<<L)&d;for(C[P--]=o.__kConversionChars[k],R=m>>>l-L;R!==0;)C[P--]=o.__kConversionChars[R&d],R>>>=l;if(i.sign&&(C[P--]="-"),P!=-1)throw new Error("implementation bug");return C.join("")}static __toStringGeneric(i,f,u){let s=i.length;if(s===0)return"";if(s===1){let x=i.__unsignedDigit(0).toString(f);return u===!1&&i.sign&&(x="-"+x),x}let l=30*s-o.__clz30(i.__digit(s-1)),d=o.__kMaxBitsPerChar[f],m=d-1,_=l*o.__kBitsPerCharTableMultiplier;_+=m-1,_=0|_/m;let D=_+1>>1,C=o.exponentiate(o.__oneDigit(f,!1),o.__oneDigit(D,!1)),P,R,L=C.__unsignedDigit(0);if(C.length===1&&32767>=L){P=new o(i.length,!1),P.__initializeDigits();let x=0;for(let b=2*i.length-1;0<=b;b--){let A=x<<15|i.__halfDigit(b);P.__setHalfDigit(b,0|A/L),x=0|A%L}R=x.toString(f)}else{let x=o.__absoluteDivLarge(i,C,!0,!0);P=x.quotient;let b=x.remainder.__trim();R=o.__toStringGeneric(b,f,!0)}P.__trim();let k=o.__toStringGeneric(P,f,!0);for(;R.length<D;)R="0"+R;return u===!1&&i.sign&&(k="-"+k),k+R}static __unequalSign(i){return i?-1:1}static __absoluteGreater(i){return i?-1:1}static __absoluteLess(i){return i?1:-1}static __compareToBigInt(i,f){let u=i.sign;if(u!==f.sign)return o.__unequalSign(u);let s=o.__absoluteCompare(i,f);return 0<s?o.__absoluteGreater(u):0>s?o.__absoluteLess(u):0}static __compareToNumber(i,f){if(o.__isOneDigitInt(f)){let u=i.sign,s=0>f;if(u!==s)return o.__unequalSign(u);if(i.length===0){if(s)throw new Error("implementation bug");return f===0?0:-1}if(1<i.length)return o.__absoluteGreater(u);let l=r(f),d=i.__unsignedDigit(0);return d>l?o.__absoluteGreater(u):d<l?o.__absoluteLess(u):0}return o.__compareToDouble(i,f)}static __compareToDouble(i,f){if(f!==f)return f;if(f===1/0)return-1;if(f===-1/0)return 1;let u=i.sign;if(u!==0>f)return o.__unequalSign(u);if(f===0)throw new Error("implementation bug: should be handled elsewhere");if(i.length===0)return-1;o.__kBitConversionDouble[0]=f;let s=2047&o.__kBitConversionInts[1]>>>20;if(s==2047)throw new Error("implementation bug: handled elsewhere");let l=s-1023;if(0>l)return o.__absoluteGreater(u);let d=i.length,m=i.__digit(d-1),_=o.__clz30(m),D=30*d-_,C=l+1;if(D<C)return o.__absoluteLess(u);if(D>C)return o.__absoluteGreater(u);let P=1048576|1048575&o.__kBitConversionInts[1],R=o.__kBitConversionInts[0],L=20,k=29-_;if(k!==(0|(D-1)%30))throw new Error("implementation bug");let x,b=0;if(20>k){let A=L-k;b=A+32,x=P>>>A,P=P<<32-A|R>>>A,R<<=32-A}else if(k===20)b=32,x=P,P=R,R=0;else{let A=k-L;b=32-A,x=P<<A|R>>>32-A,P=R<<A,R=0}if(m>>>=0,x>>>=0,m>x)return o.__absoluteGreater(u);if(m<x)return o.__absoluteLess(u);for(let A=d-2;0<=A;A--){0<b?(b-=30,x=P>>>2,P=P<<30|R>>>2,R<<=30):x=0;let j=i.__unsignedDigit(A);if(j>x)return o.__absoluteGreater(u);if(j<x)return o.__absoluteLess(u)}if(P!==0||R!==0){if(b===0)throw new Error("implementation bug");return o.__absoluteLess(u)}return 0}static __equalToNumber(i,f){return o.__isOneDigitInt(f)?f===0?i.length===0:i.length===1&&i.sign===0>f&&i.__unsignedDigit(0)===r(f):o.__compareToDouble(i,f)===0}static __comparisonResultToBool(i,f){return f===0?0>i:f===1?0>=i:f===2?0<i:f===3?0<=i:void 0}static __compare(i,f,u){if(i=o.__toPrimitive(i),f=o.__toPrimitive(f),typeof i=="string"&&typeof f=="string")switch(u){case 0:return i<f;case 1:return i<=f;case 2:return i>f;case 3:return i>=f}if(o.__isBigInt(i)&&typeof f=="string")return f=o.__fromString(f),f!==null&&o.__comparisonResultToBool(o.__compareToBigInt(i,f),u);if(typeof i=="string"&&o.__isBigInt(f))return i=o.__fromString(i),i!==null&&o.__comparisonResultToBool(o.__compareToBigInt(i,f),u);if(i=o.__toNumeric(i),f=o.__toNumeric(f),o.__isBigInt(i)){if(o.__isBigInt(f))return o.__comparisonResultToBool(o.__compareToBigInt(i,f),u);if(typeof f!="number")throw new Error("implementation bug");return o.__comparisonResultToBool(o.__compareToNumber(i,f),u)}if(typeof i!="number")throw new Error("implementation bug");if(o.__isBigInt(f))return o.__comparisonResultToBool(o.__compareToNumber(f,i),2^u);if(typeof f!="number")throw new Error("implementation bug");return u===0?i<f:u===1?i<=f:u===2?i>f:u===3?i>=f:void 0}__clzmsd(){return o.__clz30(this.__digit(this.length-1))}static __absoluteAdd(i,f,u){if(i.length<f.length)return o.__absoluteAdd(f,i,u);if(i.length===0)return i;if(f.length===0)return i.sign===u?i:o.unaryMinus(i);let s=i.length;(i.__clzmsd()===0||f.length===i.length&&f.__clzmsd()===0)&&s++;let l=new o(s,u),d=0,m=0;for(;m<f.length;m++){let _=i.__digit(m)+f.__digit(m)+d;d=_>>>30,l.__setDigit(m,1073741823&_)}for(;m<i.length;m++){let _=i.__digit(m)+d;d=_>>>30,l.__setDigit(m,1073741823&_)}return m<l.length&&l.__setDigit(m,d),l.__trim()}static __absoluteSub(i,f,u){if(i.length===0)return i;if(f.length===0)return i.sign===u?i:o.unaryMinus(i);let s=new o(i.length,u),l=0,d=0;for(;d<f.length;d++){let m=i.__digit(d)-f.__digit(d)-l;l=1&m>>>30,s.__setDigit(d,1073741823&m)}for(;d<i.length;d++){let m=i.__digit(d)-l;l=1&m>>>30,s.__setDigit(d,1073741823&m)}return s.__trim()}static __absoluteAddOne(i,f,u=null){let s=i.length;u===null?u=new o(s,f):u.sign=f;let l=1;for(let d=0;d<s;d++){let m=i.__digit(d)+l;l=m>>>30,u.__setDigit(d,1073741823&m)}return l!=0&&u.__setDigitGrow(s,1),u}static __absoluteSubOne(i,f){let u=i.length;f=f||u;let s=new o(f,!1),l=1;for(let d=0;d<u;d++){let m=i.__digit(d)-l;l=1&m>>>30,s.__setDigit(d,1073741823&m)}if(l!=0)throw new Error("implementation bug");for(let d=u;d<f;d++)s.__setDigit(d,0);return s}static __absoluteAnd(i,f,u=null){let s=i.length,l=f.length,d=l;if(s<l){d=s;let D=i,C=s;i=f,s=l,f=D,l=C}let m=d;u===null?u=new o(m,!1):m=u.length;let _=0;for(;_<d;_++)u.__setDigit(_,i.__digit(_)&f.__digit(_));for(;_<m;_++)u.__setDigit(_,0);return u}static __absoluteAndNot(i,f,u=null){let s=i.length,l=f.length,d=l;s<l&&(d=s);let m=s;u===null?u=new o(m,!1):m=u.length;let _=0;for(;_<d;_++)u.__setDigit(_,i.__digit(_)&~f.__digit(_));for(;_<s;_++)u.__setDigit(_,i.__digit(_));for(;_<m;_++)u.__setDigit(_,0);return u}static __absoluteOr(i,f,u=null){let s=i.length,l=f.length,d=l;if(s<l){d=s;let D=i,C=s;i=f,s=l,f=D,l=C}let m=s;u===null?u=new o(m,!1):m=u.length;let _=0;for(;_<d;_++)u.__setDigit(_,i.__digit(_)|f.__digit(_));for(;_<s;_++)u.__setDigit(_,i.__digit(_));for(;_<m;_++)u.__setDigit(_,0);return u}static __absoluteXor(i,f,u=null){let s=i.length,l=f.length,d=l;if(s<l){d=s;let D=i,C=s;i=f,s=l,f=D,l=C}let m=s;u===null?u=new o(m,!1):m=u.length;let _=0;for(;_<d;_++)u.__setDigit(_,i.__digit(_)^f.__digit(_));for(;_<s;_++)u.__setDigit(_,i.__digit(_));for(;_<m;_++)u.__setDigit(_,0);return u}static __absoluteCompare(i,f){let u=i.length-f.length;if(u!=0)return u;let s=i.length-1;for(;0<=s&&i.__digit(s)===f.__digit(s);)s--;return 0>s?0:i.__unsignedDigit(s)>f.__unsignedDigit(s)?1:-1}static __multiplyAccumulate(i,f,u,s){if(f===0)return;let l=32767&f,d=f>>>15,m=0,_=0;for(let D,C=0;C<i.length;C++,s++){D=u.__digit(s);let P=i.__digit(C),R=32767&P,L=P>>>15,k=o.__imul(R,l),x=o.__imul(R,d),b=o.__imul(L,l),A=o.__imul(L,d);D+=_+k+m,m=D>>>30,D&=1073741823,D+=((32767&x)<<15)+((32767&b)<<15),m+=D>>>30,_=A+(x>>>15)+(b>>>15),u.__setDigit(s,1073741823&D)}for(;m!=0||_!==0;s++){let D=u.__digit(s);D+=m+_,_=0,m=D>>>30,u.__setDigit(s,1073741823&D)}}static __internalMultiplyAdd(i,f,u,s,l){let d=u,m=0;for(let _=0;_<s;_++){let D=i.__digit(_),C=o.__imul(32767&D,f),P=o.__imul(D>>>15,f),R=C+((32767&P)<<15)+m+d;d=R>>>30,m=P>>>15,l.__setDigit(_,1073741823&R)}if(l.length>s)for(l.__setDigit(s++,d+m);s<l.length;)l.__setDigit(s++,0);else if(d+m!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(i,f,u){u>this.length&&(u=this.length);let s=32767&i,l=i>>>15,d=0,m=f;for(let _=0;_<u;_++){let D=this.__digit(_),C=32767&D,P=D>>>15,R=o.__imul(C,s),L=o.__imul(C,l),k=o.__imul(P,s),x=o.__imul(P,l),b=m+R+d;d=b>>>30,b&=1073741823,b+=((32767&L)<<15)+((32767&k)<<15),d+=b>>>30,m=x+(L>>>15)+(k>>>15),this.__setDigit(_,1073741823&b)}if(d!=0||m!==0)throw new Error("implementation bug")}static __absoluteDivSmall(i,f,u=null){u===null&&(u=new o(i.length,!1));let s=0;for(let l,d=2*i.length-1;0<=d;d-=2){l=(s<<15|i.__halfDigit(d))>>>0;let m=0|l/f;s=0|l%f,l=(s<<15|i.__halfDigit(d-1))>>>0;let _=0|l/f;s=0|l%f,u.__setDigit(d>>>1,m<<15|_)}return u}static __absoluteModSmall(i,f){let u=0;for(let s=2*i.length-1;0<=s;s--)u=0|((u<<15|i.__halfDigit(s))>>>0)%f;return u}static __absoluteDivLarge(i,f,u,s){let l=f.__halfDigitLength(),d=f.length,m=i.__halfDigitLength()-l,_=null;u&&(_=new o(m+2>>>1,!1),_.__initializeDigits());let D=new o(l+2>>>1,!1);D.__initializeDigits();let C=o.__clz15(f.__halfDigit(l-1));0<C&&(f=o.__specialLeftShift(f,C,0));let P=o.__specialLeftShift(i,C,1),R=f.__halfDigit(l-1),L=0;for(let k,x=m;0<=x;x--){k=32767;let b=P.__halfDigit(x+l);if(b!==R){let j=(b<<15|P.__halfDigit(x+l-1))>>>0;k=0|j/R;let N=0|j%R,X=f.__halfDigit(l-2),Q=P.__halfDigit(x+l-2);for(;o.__imul(k,X)>>>0>(N<<16|Q)>>>0&&(k--,N+=R,!(32767<N)););}o.__internalMultiplyAdd(f,k,0,d,D);let A=P.__inplaceSub(D,x,l+1);A!==0&&(A=P.__inplaceAdd(f,x,l),P.__setHalfDigit(x+l,32767&P.__halfDigit(x+l)+A),k--),u&&(1&x?L=k<<15:_.__setDigit(x>>>1,L|k))}if(s)return P.__inplaceRightShift(C),u?{quotient:_,remainder:P}:P;if(u)return _;throw new Error("unreachable")}static __clz15(i){return o.__clz30(i)-15}__inplaceAdd(i,f,u){let s=0;for(let l=0;l<u;l++){let d=this.__halfDigit(f+l)+i.__halfDigit(l)+s;s=d>>>15,this.__setHalfDigit(f+l,32767&d)}return s}__inplaceSub(i,f,u){let s=0;if(1&f){f>>=1;let l=this.__digit(f),d=32767&l,m=0;for(;m<u-1>>>1;m++){let C=i.__digit(m),P=(l>>>15)-(32767&C)-s;s=1&P>>>15,this.__setDigit(f+m,(32767&P)<<15|32767&d),l=this.__digit(f+m+1),d=(32767&l)-(C>>>15)-s,s=1&d>>>15}let _=i.__digit(m),D=(l>>>15)-(32767&_)-s;if(s=1&D>>>15,this.__setDigit(f+m,(32767&D)<<15|32767&d),f+m+1>=this.length)throw new RangeError("out of bounds");(1&u)==0&&(l=this.__digit(f+m+1),d=(32767&l)-(_>>>15)-s,s=1&d>>>15,this.__setDigit(f+i.length,1073709056&l|32767&d))}else{f>>=1;let l=0;for(;l<i.length-1;l++){let C=this.__digit(f+l),P=i.__digit(l),R=(32767&C)-(32767&P)-s;s=1&R>>>15;let L=(C>>>15)-(P>>>15)-s;s=1&L>>>15,this.__setDigit(f+l,(32767&L)<<15|32767&R)}let d=this.__digit(f+l),m=i.__digit(l),_=(32767&d)-(32767&m)-s;s=1&_>>>15;let D=0;(1&u)==0&&(D=(d>>>15)-(m>>>15)-s,s=1&D>>>15),this.__setDigit(f+l,(32767&D)<<15|32767&_)}return s}__inplaceRightShift(i){if(i===0)return;let f=this.__digit(0)>>>i,u=this.length-1;for(let s=0;s<u;s++){let l=this.__digit(s+1);this.__setDigit(s,1073741823&l<<30-i|f),f=l>>>i}this.__setDigit(u,f)}static __specialLeftShift(i,f,u){let s=i.length,l=new o(s+u,!1);if(f===0){for(let m=0;m<s;m++)l.__setDigit(m,i.__digit(m));return 0<u&&l.__setDigit(s,0),l}let d=0;for(let m=0;m<s;m++){let _=i.__digit(m);l.__setDigit(m,1073741823&_<<f|d),d=_>>>30-f}return 0<u&&l.__setDigit(s,d),l}static __leftShiftByAbsolute(i,f){let u=o.__toShiftAmount(f);if(0>u)throw new RangeError("BigInt too big");let s=0|u/30,l=u%30,d=i.length,m=l!==0&&i.__digit(d-1)>>>30-l!=0,_=d+s+(m?1:0),D=new o(_,i.sign);if(l===0){let C=0;for(;C<s;C++)D.__setDigit(C,0);for(;C<_;C++)D.__setDigit(C,i.__digit(C-s))}else{let C=0;for(let P=0;P<s;P++)D.__setDigit(P,0);for(let P=0;P<d;P++){let R=i.__digit(P);D.__setDigit(P+s,1073741823&R<<l|C),C=R>>>30-l}if(m)D.__setDigit(d+s,C);else if(C!==0)throw new Error("implementation bug")}return D.__trim()}static __rightShiftByAbsolute(i,f){let u=i.length,s=i.sign,l=o.__toShiftAmount(f);if(0>l)return o.__rightShiftByMaximum(s);let d=0|l/30,m=l%30,_=u-d;if(0>=_)return o.__rightShiftByMaximum(s);let D=!1;if(s){if((i.__digit(d)&(1<<m)-1)!=0)D=!0;else for(let P=0;P<d;P++)if(i.__digit(P)!==0){D=!0;break}}D&&m===0&&~i.__digit(u-1)==0&&_++;let C=new o(_,s);if(m===0){C.__setDigit(_-1,0);for(let P=d;P<u;P++)C.__setDigit(P-d,i.__digit(P))}else{let P=i.__digit(d)>>>m,R=u-d-1;for(let L=0;L<R;L++){let k=i.__digit(L+d+1);C.__setDigit(L,1073741823&k<<30-m|P),P=k>>>m}C.__setDigit(R,P)}return D&&(C=o.__absoluteAddOne(C,!0,C)),C.__trim()}static __rightShiftByMaximum(i){return i?o.__oneDigit(1,!0):o.__zero()}static __toShiftAmount(i){if(1<i.length)return-1;let f=i.__unsignedDigit(0);return f>o.__kMaxLengthBits?-1:f}static __toPrimitive(i,f="default"){if(typeof i!="object"||i.constructor===o)return i;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){let l=i[Symbol.toPrimitive];if(l){let d=l(f);if(typeof d!="object")return d;throw new TypeError("Cannot convert object to primitive value")}}let u=i.valueOf;if(u){let l=u.call(i);if(typeof l!="object")return l}let s=i.toString;if(s){let l=s.call(i);if(typeof l!="object")return l}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(i){return o.__isBigInt(i)?i:+i}static __isBigInt(i){return typeof i=="object"&&i!==null&&i.constructor===o}static __truncateToNBits(i,f){let u=0|(i+29)/30,s=new o(u,f.sign),l=u-1;for(let m=0;m<l;m++)s.__setDigit(m,f.__digit(m));let d=f.__digit(l);if(i%30!=0){let m=32-i%30;d=d<<m>>>m}return s.__setDigit(l,d),s.__trim()}static __truncateAndSubFromPowerOfTwo(i,f,u){var s=Math.min;let l=0|(i+29)/30,d=new o(l,u),m=0,_=l-1,D=0;for(let L=s(_,f.length);m<L;m++){let k=0-f.__digit(m)-D;D=1&k>>>30,d.__setDigit(m,1073741823&k)}for(;m<_;m++)d.__setDigit(m,0|1073741823&-D);let C=_<f.length?f.__digit(_):0,P=i%30,R;if(P==0)R=0-C-D,R&=1073741823;else{let L=32-P;C=C<<L>>>L;let k=1<<32-L;R=k-C-D,R&=k-1}return d.__setDigit(_,R),d.__trim()}__digit(i){return this[i]}__unsignedDigit(i){return this[i]>>>0}__setDigit(i,f){this[i]=0|f}__setDigitGrow(i,f){this[i]=0|f}__halfDigitLength(){let i=this.length;return 32767>=this.__unsignedDigit(i-1)?2*i-1:2*i}__halfDigit(i){return 32767&this[i>>>1]>>>15*(1&i)}__setHalfDigit(i,f){let u=i>>>1,s=this.__digit(u),l=1&i?32767&s|f<<15:1073709056&s|32767&f;this.__setDigit(u,l)}static __digitPow(i,f){let u=1;for(;0<f;)1&f&&(u*=i),f>>>=1,i*=i;return u}static __isOneDigitInt(i){return(1073741823&i)===i}}return o.__kMaxLength=33554432,o.__kMaxLengthBits=o.__kMaxLength<<5,o.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],o.__kBitsPerCharTableShift=5,o.__kBitsPerCharTableMultiplier=1<<o.__kBitsPerCharTableShift,o.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],o.__kBitConversionBuffer=new ArrayBuffer(8),o.__kBitConversionDouble=new Float64Array(o.__kBitConversionBuffer),o.__kBitConversionInts=new Int32Array(o.__kBitConversionBuffer),o.__clz30=e?function(c){return e(c)-2}:function(c){var i=Math.LN2,f=Math.log;return c===0?30:0|29-(0|f(c>>>0)/i)},o.__imul=t||function(c,i){return 0|c*i},o})});var Tl=T(Sr=>{"use strict";p();var Dl=Sr&&Sr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sr,"__esModule",{value:!0});var Iy=rt(),Pl=Dl(Il()),z=Dl(Ol()),Oy=18446744073709552e3,ql=(t,e)=>z.default.bitwiseXor(z.default.asUintN(64,z.default.leftShift(t,z.default.BigInt(e))),z.default.BigInt(z.default.asUintN(64,z.default.signedRightShift(t,z.default.subtract(z.default.BigInt(64),z.default.BigInt(e)))))),H0=class{constructor(e){this.next=()=>new Pl.default(this.roll().toString()),this.nextDouble=()=>new Pl.default(this.roll().toString()).div(Oy+1),this.nextInt=(n,a)=>Math.floor(this.nextDouble().toNumber()*(a-n+1)+n),this.nextByte=()=>this.nextInt(0,255),this.nextData=n=>[...new Array(n)].map(()=>this.nextByte());let r=Iy.sha256Hash(e);this.s=[z.default.BigInt(0),z.default.BigInt(0),z.default.BigInt(0),z.default.BigInt(0)],this.setS(r)}setS(e){for(let r=0;r<4;r++){let n=r*8,a=z.default.BigInt(0);for(let o=0;o<8;o++)a=z.default.asUintN(64,z.default.leftShift(a,z.default.BigInt(8))),a=z.default.asUintN(64,z.default.bitwiseOr(a,z.default.BigInt(e[n+o])));this.s[r]=z.default.asUintN(64,a)}}roll(){let e=z.default.asUintN(64,z.default.multiply(ql(z.default.asUintN(64,z.default.multiply(this.s[1],z.default.BigInt(5))),7),z.default.BigInt(9))),r=z.default.asUintN(64,z.default.leftShift(this.s[1],z.default.BigInt(17)));return this.s[2]=z.default.asUintN(64,z.default.bitwiseXor(this.s[2],z.default.BigInt(this.s[0]))),this.s[3]=z.default.asUintN(64,z.default.bitwiseXor(this.s[3],z.default.BigInt(this.s[1]))),this.s[1]=z.default.asUintN(64,z.default.bitwiseXor(this.s[1],z.default.BigInt(this.s[2]))),this.s[0]=z.default.asUintN(64,z.default.bitwiseXor(this.s[0],z.default.BigInt(this.s[3]))),this.s[2]=z.default.asUintN(64,z.default.bitwiseXor(this.s[2],z.default.BigInt(r))),this.s[3]=z.default.asUintN(64,ql(this.s[3],45)),e}};Sr.default=H0});var Rl=T(V0=>{"use strict";p();Object.defineProperty(V0,"__esModule",{value:!0});var Py=function(t,e){var r=t.reduce(function(s,l){if(l<0)throw new Error("Probability must be a positive: p["+t.indexOf(l)+"]="+l);return s+l},0);if(r===0)throw new Error("Probability sum must be greater than zero.");for(var n=t.map(function(s){return s*e/r}),a={prob:new Array(e),alias:new Array(e)},o=[],c=[],i=e-1;i>=0;i--)n[i]<1?o.push(i):c.push(i);for(;o.length>0&&c.length>0;){var f=o.pop(),u=c.pop();a.prob[f]=n[f],a.alias[f]=u,n[u]=n[u]+n[f]-1,n[u]<1?o.push(u):c.push(u)}for(;c.length>0;)a.prob[c.pop()]=1;for(;o.length>0;)a.prob[o.pop()]=1;return a},Fl=function(t,e,r){var n=Math.floor(r()*t.prob.length);return e[r()<t.prob[n]?n:t.alias[n]]},qy=function(t,e,r,n){if(n===void 0&&(n=1),n===1)return Fl(t,e,r);for(var a=[],o=0;o<n;o++)a.push(Fl(t,e,r));return a},Dy=function(t,e,r){if(r===void 0&&(r=Math.random),!Array.isArray(t))throw new Error("Probabilities must be an array.");if(t.length===0)throw new Error("Probabilities array must not be empty.");var n=t.length,a=e??Array.from({length:n},function(c,i){return i}),o=Py(t,n);return{next:function(c){return c===void 0&&(c=1),qy(o,a,r,c)}}};V0.default=Dy});var X0=T(De=>{"use strict";p();var Cl=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(De,"__esModule",{value:!0});De.chooseFragments=De.shuffle=De.chooseDegree=void 0;var Nl=rt(),Ty=Cl(Tl()),Fy=Cl(Rl()),Ry=(t,e)=>{let r=[...new Array(t)].map((a,o)=>1/(o+1));return Fy.default(r,void 0,e.nextDouble).next()+1};De.chooseDegree=Ry;var Ny=(t,e)=>{let r=[...t],n=[];for(;r.length>0;){let a=e.nextInt(0,r.length-1),o=r[a];r.splice(a,1),n.push(o)}return n};De.shuffle=Ny;var Cy=(t,e,r)=>{if(t<=e)return[t-1];{let n=Buffer.concat([Nl.intToBytes(t),Nl.intToBytes(r)]),a=new Ty.default(n),o=De.chooseDegree(e,a),c=[...new Array(e)].map((f,u)=>u);return De.shuffle(c,a).slice(0,o)}};De.chooseFragments=Cy});var J0=T(Et=>{"use strict";p();var Uy=Et&&Et.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Et,"__esModule",{value:!0});Et.FountainEncoderPart=void 0;var ut=Uy($t()),Ir=rt(),jy=X0(),Ul=c0(),$n=class t{constructor(e,r,n,a,o){this._seqNum=e,this._seqLength=r,this._messageLength=n,this._checksum=a,this._fragment=o}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){let e=Ul.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return Buffer.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){let[r,n,a,o,c]=Ul.cborDecode(e);return ut.default(typeof r=="number"),ut.default(typeof n=="number"),ut.default(typeof a=="number"),ut.default(typeof o=="number"),ut.default(Buffer.isBuffer(c)&&c.length>0),new t(r,n,a,o,Buffer.from(c))}};Et.FountainEncoderPart=$n;var Y0=class t{constructor(e,r=100,n=0,a=10){let o=t.findNominalFragmentLength(e.length,a,r);this._messageLength=e.length,this._fragments=t.partitionMessage(e,o),this.fragmentLength=o,this.seqNum=Ir.toUint32(n),this.checksum=Ir.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return this._fragments.length===1}seqLength(){return this._fragments.length}mix(e){return e.reduce((r,n)=>Ir.bufferXOR(this._fragments[n],r),Buffer.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=Ir.toUint32(this.seqNum+1);let e=jy.chooseFragments(this.seqNum,this._fragments.length,this.checksum),r=this.mix(e);return new $n(this.seqNum,this._fragments.length,this._messageLength,this.checksum,r)}static findNominalFragmentLength(e,r,n){ut.default(e>0),ut.default(r>0),ut.default(n>=r);let a=Math.ceil(e/r),o=0;for(let c=1;c<=a&&(o=Math.ceil(e/c),!(o<=n));c++);return o}static partitionMessage(e,r){let n=Buffer.from(e),a,o=[];for(;n.length>0;)[a,n]=Ir.split(n,-r),a=Buffer.alloc(r,0).fill(a,0,a.length),o.push(a);return o}};Et.default=Y0});var Z0=T(Or=>{"use strict";p();var My=Or&&Or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Or,"__esModule",{value:!0});var zt=My($t()),zn=rt(),Ly="ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom",Gn=[],ky=256,st=4,$y=2,je;(function(t){t.STANDARD="standard",t.URI="uri",t.MINIMAL="minimal"})(je||(je={}));var Wn=t=>Ly.slice(t*st,t*st+st),Gy=t=>{let e=Wn(t);return`${e[0]}${e[st-1]}`},Ml=t=>{let e=zn.getCRCHex(Buffer.from(t,"hex"));return`${t}${e}`},jl=(t,e)=>{let r=Ml(t);return Buffer.from(r,"hex").reduce((o,c)=>[...o,Wn(c)],[]).join(e)},zy=t=>{let e=Ml(t);return Buffer.from(e,"hex").reduce((a,o)=>a+Gy(o),"")},Wy=(t,e)=>{zt.default(t.length===e,"Invalid Bytewords: word.length does not match wordLength provided");let r=26;if(Gn.length===0){let i=r*r;Gn=[...new Array(i)].map(()=>-1);for(let f=0;f<ky;f++){let u=Wn(f),s=u[0].charCodeAt(0)-97,d=(u[3].charCodeAt(0)-97)*r+s;Gn[d]=f}}let n=t[0].toLowerCase().charCodeAt(0)-97,a=t[e==4?3:1].toLowerCase().charCodeAt(0)-97;zt.default(0<=n&&n<r&&0<=a&&a<r,"Invalid Bytewords: invalid word");let o=a*r+n,c=Gn[o];if(zt.default(c!==-1,"Invalid Bytewords: value not in lookup table"),e==st){let i=Wn(c),f=t[1].toLowerCase(),u=t[2].toLowerCase();zt.default(f===i[1]&&u===i[2],"Invalid Bytewords: invalid middle letters of word")}return Buffer.from([c]).toString("hex")},Q0=(t,e,r)=>{let a=(r==st?t.split(e):zn.partition(t,2)).map(f=>Wy(f,r)).join("");zt.default(a.length>=5,"Invalid Bytewords: invalid decoded string length");let[o,c]=zn.split(Buffer.from(a,"hex"),4),i=zn.getCRCHex(o);return zt.default(i===c.toString("hex"),"Invalid Checksum"),o.toString("hex")},Hy=(t,e=je.MINIMAL)=>{switch(e){case je.STANDARD:return Q0(t," ",st);case je.URI:return Q0(t,"-",st);case je.MINIMAL:return Q0(t,"",$y);default:throw new Error(`Invalid style ${e}`)}},Vy=(t,e=je.MINIMAL)=>{switch(e){case je.STANDARD:return jl(t," ");case je.URI:return jl(t,"-");case je.MINIMAL:return zy(t);default:throw new Error(`Invalid style ${e}`)}};Or.default={decode:Hy,encode:Vy,STYLES:je}});var kl=T(Pr=>{"use strict";p();var Ll=Pr&&Pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pr,"__esModule",{value:!0});var Xy=Ll(J0()),Hn=Ll(Z0()),K0=class t{constructor(e,r,n,a){this.ur=e,this.fountainEncoder=new Xy.default(e.cbor,r,n,a)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){let e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?t.encodeSinglePart(this.ur):t.encodePart(this.ur.type,e)}static encodeUri(e,r){let n=r.join("/");return[e,n].join(":")}static encodeUR(e){return t.encodeUri("ur",e)}static encodePart(e,r){let n=`${r.seqNum}-${r.seqLength}`,a=Hn.default.encode(r.cbor().toString("hex"),Hn.default.STYLES.MINIMAL);return t.encodeUR([e,n,a])}static encodeSinglePart(e){let r=Hn.default.encode(e.cbor.toString("hex"),Hn.default.STYLES.MINIMAL);return t.encodeUR([e.type,r])}};Pr.default=K0});var $l=T(Dr=>{"use strict";p();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.FountainDecoderPart=void 0;var Wt=rt(),Yy=X0(),Jy=jr(),qr=class t{constructor(e,r){this._indexes=e,this._fragment=r}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){let r=Yy.chooseFragments(e.seqNum,e.seqLength,e.checksum),n=e.fragment;return new t(r,n)}isSimple(){return this.indexes.length===1}};Dr.FountainDecoderPart=qr;var Vn=class t{constructor(){this.result=void 0,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(this.expectedPartIndexes.length===0)[...new Array(e.seqLength)].forEach((r,n)=>this.expectedPartIndexes.push(n)),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else if(this.expectedPartIndexes.length!==e.seqLength||this.expectedMessageLength!==e.messageLength||this.expectedChecksum!==e.checksum||this.expectedFragmentLength!==e.fragment.length)return!1;return!0}reducePartByPart(e,r){if(Wt.arrayContains(e.indexes,r.indexes)){let n=Wt.setDifference(e.indexes,r.indexes),a=Wt.bufferXOR(e.fragment,r.fragment);return new qr(n,a)}else return e}reduceMixedBy(e){let r=[];this.mixedParts.map(({value:n})=>this.reducePartByPart(n,e)).forEach(n=>{n.isSimple()?this.queuedParts.push(n):r.push({key:n.indexes,value:n})}),this.mixedParts=r}processSimplePart(e){let r=e.indexes[0];if(!this.receivedPartIndexes.includes(r))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(r),Wt.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){let n=this.simpleParts.map(({value:c})=>c).sort((c,i)=>c.indexes[0]-i.indexes[0]),a=t.joinFragments(n.map(c=>c.fragment),this.expectedMessageLength);Wt.getCRC(a)===this.expectedChecksum?this.result=a:this.error=new Jy.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some(({key:n})=>Wt.arraysEqual(n,e.indexes)))return;let r=this.simpleParts.reduce((n,{value:a})=>this.reducePartByPart(n,a),e);r=this.mixedParts.reduce((n,{value:a})=>this.reducePartByPart(n,a),r),r.isSimple()?this.queuedParts.push(r):(this.reduceMixedBy(r),this.mixedParts.push({key:r.indexes,value:r}))}processQueuedItem(){if(this.queuedParts.length===0)return;let e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete()||!this.validatePart(e))return!1;let r=qr.fromEncoderPart(e);for(this.lastPartIndexes=r.indexes,this.queuedParts.push(r);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return this.result!==void 0&&this.result.length>0}isSuccess(){return!!(this.error===void 0&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:Buffer.from([])}isFailure(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:Math.min(.99,this.processedPartsCount/(e*1.75))}getProgress(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:this.receivedPartIndexes.length/e}};Dr.default=Vn;Vn.joinFragments=(t,e)=>Buffer.concat(t).slice(0,e)});var Gl=T(Tr=>{"use strict";p();var Jn=Tr&&Tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tr,"__esModule",{value:!0});var Qy=Jn($l()),Xn=Jn(Z0()),Zy=Jn($t()),Yn=rt(),ct=jr(),eo=Jn(h0()),Ky=J0(),to=class t{constructor(e=new Qy.default,r="bytes"){this.fountainDecoder=e,this.type=r,Zy.default(Yn.isURType(r),"Invalid UR type"),this.expected_type=""}static decodeBody(e,r){let n=Xn.default.decode(r,Xn.default.STYLES.MINIMAL);return new eo.default(Buffer.from(n,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:Yn.isURType(e)?(this.expected_type=e,!0):!1}static decode(e){let[r,n]=this.parse(e);if(n.length===0)throw new ct.InvalidPathLengthError;let a=n[0];return t.decodeBody(r,a)}static parse(e){let r=e.toLowerCase();if(r.slice(0,3)!=="ur:")throw new ct.InvalidSchemeError;let a=r.slice(3).split("/"),o=a[0];if(a.length<2)throw new ct.InvalidPathLengthError;if(!Yn.isURType(o))throw new ct.InvalidTypeError;return[o,a.slice(1)]}static parseSequenceComponent(e){let r=e.split("-");if(r.length!==2)throw new ct.InvalidSequenceComponentError;let n=Yn.toUint32(Number(r[0])),a=Number(r[1]);if(n<1||a<1)throw new ct.InvalidSequenceComponentError;return[n,a]}receivePart(e){if(this.result!==void 0)return!1;let[r,n]=t.parse(e);if(!this.validatePart(r))return!1;if(n.length===1)return this.result=t.decodeBody(r,n[0]),!0;if(n.length!==2)throw new ct.InvalidPathLengthError;let[a,o]=n,[c,i]=t.parseSequenceComponent(a),f=Xn.default.decode(o,Xn.default.STYLES.MINIMAL),u=Ky.FountainEncoderPart.fromCBOR(f);return c!==u.seqNum||i!==u.seqLength||!this.fountainDecoder.receivePart(u)?!1:(this.fountainDecoder.isSuccess()?this.result=new eo.default(this.fountainDecoder.resultMessage(),r):this.fountainDecoder.isFailure()&&(this.error=new ct.InvalidSchemeError),!0)}resultUR(){return this.result?this.result:new eo.default(Buffer.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}};Tr.default=to});var zl=T(We=>{"use strict";p();var ro=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(We,"__esModule",{value:!0});We.URDecoder=We.UREncoder=We.UR=void 0;var e2=ro(h0());We.UR=e2.default;var t2=ro(kl());We.UREncoder=t2.default;var r2=ro(Gl());We.URDecoder=r2.default});p();var Ht=Kn(zl());window.BCUR={UR:Ht.UR,URDecoder:Ht.URDecoder,UREncoder:Ht.UREncoder};})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)
*/

</script>

<script>
      // ---- DOM elements ----
      const readerEl = document.getElementById('reader');
      const cameraToggleBtn = document.getElementById('cameraToggleBtn');
      const resetBtn = document.getElementById('resetBtn');
      const refreshPreviewBtn = document.getElementById('refreshPreviewBtn');

      // (1) Camera status removed from DOM; do not reference it.
      // const statusEl = document.getElementById('status');

      const logEl    = document.getElementById('log');
      const resultEl = document.getElementById('result');

      const signBtn = document.getElementById('signBtn');
      const sigText = document.getElementById('sigText');
      const rHexEl = document.getElementById('rHex');
      const sHexEl = document.getElementById('sHex');
      const vParityEl = document.getElementById('vParity');
      const sigQrEl = document.getElementById('sigQr');

      // NEW: Transaction actions container (buttons are shown only after successful details render)
      const txActionsEl = document.getElementById('txActions');

      // ---- Panel visibility (keep UI compact: only 2 blocks visible) ----
      const cameraCardEl = document.getElementById('cameraCard');
      const unlockCardEl = document.getElementById('unlockCard');
      const txCardEl     = document.getElementById('txCard');
      const sigCardEl    = document.getElementById('sigCard');
      const unlockWalletBtn = document.getElementById('unlockWalletBtn');
      const removeWalletBtn = document.getElementById('removeWalletBtn');
      const walletStatusPillEl = document.getElementById('walletStatusPill');
      const clearSigBtn = document.getElementById('clearSigBtn');

      function showRightPanel(which) {
        // camera stays visible; we swap the "right" block only
        if (unlockCardEl) unlockCardEl.style.display = (which === 'unlock') ? 'flex' : 'none';
        if (txCardEl)     txCardEl.style.display     = (which === 'tx')     ? 'flex' : 'none';
        if (sigCardEl)    sigCardEl.style.display    = (which === 'sig')    ? 'flex' : 'none';
      }

      // Default: Camera + Transaction details
      showRightPanel('tx');

      if (unlockWalletBtn) {
        unlockWalletBtn.addEventListener('click', () => {
          showRightPanel('unlock');
        });
      }

      if (removeWalletBtn) {
        removeWalletBtn.addEventListener('click', async () => {
          // ---- Clear wallet material from memory ----
          currentPrivateKeyHex = null;
          currentAddress = null;
          pendingPkFromFile = null;
          keystoreJsonString = null;

          // ---- Clear ALL unlock inputs (DOM) ----
          try {
            // Keystore mode inputs
            if (keystoreFileInput) keystoreFileInput.value = '';
            if (keystorePasswordInput) keystorePasswordInput.value = '';

            // Private key file mode input
            if (pkFileInput) pkFileInput.value = '';

            // Manual PK mode input
            if (pkManualInput) pkManualInput.value = '';

            // Mnemonic mode inputs
            if (mnemonicInput) mnemonicInput.value = '';
            if (derivationPathInput) derivationPathInput.value = DEFAULT_DERIVATION_PATH;

            // Mnemonic+passphrase mode inputs
            if (mnemonicInput2) mnemonicInput2.value = '';
            if (mnemonicPassphraseInput) mnemonicPassphraseInput.value = '';
            if (derivationPathInput2) derivationPathInput2.value = DEFAULT_DERIVATION_PATH;

            // Optional: clear any legacy wallet display elements (if present)
            if (walletUnlockedNoteEl) {
              walletUnlockedNoteEl.textContent = '';
              walletUnlockedNoteEl.style.display = 'none';
            }
          } catch (_) {
            // no-op
          }

    // ---- Reset UI hints ----
    try { resetWalletAlertToSecurityNote(); } catch (_) {}

    // If you have any wallet-address UI, reset it too
    try { updateWalletUI(); } catch (_) {}

    // Update the camera-card button label, pill, remove button visibility
    setUnlockWalletButtonLabel();

    // Reset unlock button labels (UX)
    try {
      keystoreUnlockBtn.textContent = 'Unlock';
      pkFileUnlockBtn.textContent = 'Unlock';
      manualUnlockBtn.textContent = 'Unlock';
      mnemonicUnlockBtn.textContent = 'Unlock';
      mnemonicPassUnlockBtn.textContent = 'Unlock';
    } catch (_) {}

    // Keep heights aligned
    syncRightPanelHeights();
  });
}

      // Unlock UI
      const unlockModeSelect = document.getElementById('unlockMode');
      const keystoreSection = document.getElementById('unlock-keystore');
      const pkFileSection = document.getElementById('unlock-pkFile');
      const manualSection = document.getElementById('unlock-manual');
      const mnemonicSection = document.getElementById('unlock-mnemonic');
      const mnemonicPassSection = document.getElementById('unlock-mnemonicPass');

      const keystoreFileInput = document.getElementById('keystoreFile');
      const keystorePasswordInput = document.getElementById('keystorePassword');
      const keystoreUnlockBtn = document.getElementById('keystoreUnlockBtn');

      const pkFileInput = document.getElementById('pkFile');
      const pkFileUnlockBtn = document.getElementById('pkFileUnlockBtn');

      const pkManualInput = document.getElementById('pkManual');
      const manualUnlockBtn = document.getElementById('manualUnlockBtn');

      const mnemonicInput = document.getElementById('mnemonicInput');
      const derivationPathInput = document.getElementById('derivationPathInput');
      const mnemonicUnlockBtn = document.getElementById('mnemonicUnlockBtn');

      const mnemonicInput2 = document.getElementById('mnemonicInput2');
      const mnemonicPassphraseInput = document.getElementById('mnemonicPassphraseInput');
      const derivationPathInput2 = document.getElementById('derivationPathInput2');
      const mnemonicPassUnlockBtn = document.getElementById('mnemonicPassUnlockBtn');

      const walletAddressEl = document.getElementById('walletAddress');
      const walletUnlockedNoteEl = document.getElementById('walletUnlockedNote');

      let html5QrCode = null;
      let isRunning = false;
      let seen = new Set();
      let sigQr = null;
let urDecoder = null; // client-side multipart UR assembler

      // Wallet state
      let currentPrivateKeyHex = null; // 64-hex, no 0x
      let currentAddress = null;       // 0x-address
      let pendingPkFromFile = null;    // 64-hex from file
      let keystoreJsonString = null;   // raw JSON text

      const DEFAULT_DERIVATION_PATH = "m/44'/60'/0'/0/0";

      function setTxActionsVisible(isVisible) {
        if (!txActionsEl) return;
        txActionsEl.style.display = isVisible ? 'flex' : 'none';
      }

      function shortAddressTail(addr, n=6) {
        if (!addr || typeof addr !== 'string') return '';
        const m = addr.match(/^0x[0-9a-fA-F]{40}$/);
        if (!m) return addr.slice(-n);
        return addr.slice(-n);
      }

      function setRemoveWalletButtonVisible() {
        if (!removeWalletBtn) return;
        const hasWallet = !!(currentPrivateKeyHex && /^[0-9a-fA-F]{64}$/.test(currentPrivateKeyHex));
        removeWalletBtn.style.display = hasWallet ? 'inline-block' : 'none';
      }

      function updateWalletStatusPill() {
        if (!walletStatusPillEl) return;

        const hasWallet = !!(currentPrivateKeyHex && /^[0-9a-fA-F]{64}$/.test(currentPrivateKeyHex));
        const addrTail = currentAddress ? shortAddressTail(currentAddress, 6) : '';
        if (hasWallet) {
          walletStatusPillEl.textContent = `Wallet: •\u200A•\u200A•\u200A${addrTail || '??????'}`;
          walletStatusPillEl.classList.add('status-pill--unlocked');
        } else {
          walletStatusPillEl.textContent = 'No wallet unlocked';
          walletStatusPillEl.classList.remove('status-pill--unlocked');
        }
      }

      function setUnlockWalletButtonLabel() {
        // Update the Camera-card "Unlock wallet" button label based on wallet state
        if (!unlockWalletBtn) return;
        if (currentPrivateKeyHex && /^[0-9a-fA-F]{64}$/.test(currentPrivateKeyHex)) {
          unlockWalletBtn.textContent = 'Wallet unlocked';
        } else {
          unlockWalletBtn.textContent = 'Unlock wallet';
        }
        setRemoveWalletButtonVisible();
        updateWalletStatusPill();
      }

      // (3) Stabilize layout: ensure Unlock / Tx / Sig panels share the same height
      //     so the camera/top block does not move when swapping panels.
  function getNaturalHeightEvenIfHidden(el) {
    if (!el) return 0;

    // Save current inline styles we touch
    const prev = {
      display: el.style.display,
      visibility: el.style.visibility,
      position: el.style.position,
      left: el.style.left,
      top: el.style.top,
      minHeight: el.style.minHeight,
      height: el.style.height,
      width: el.style.width,
    };

    // IMPORTANT: remove min-height constraints so measurement can shrink again
    el.style.minHeight = '0px';
    el.style.height = 'auto';

    // Render off-screen but at the CURRENT container width so wrapping matches the real layout
    const container = document.getElementById('main-container');
    const targetWidth = container ? container.getBoundingClientRect().width : null;

    el.style.visibility = 'hidden';
    el.style.position = 'absolute';
    el.style.left = '-9999px';
    el.style.top = '0px';
    el.style.display = 'flex';

    if (targetWidth) el.style.width = targetWidth + 'px';

    // Measure natural height
    const h = el.getBoundingClientRect().height;

    // Restore
    el.style.display = prev.display;
    el.style.visibility = prev.visibility;
    el.style.position = prev.position;
    el.style.left = prev.left;
    el.style.top = prev.top;
    el.style.minHeight = prev.minHeight;
    el.style.height = prev.height;
    el.style.width = prev.width;

    return h;
  }

  function syncRightPanelHeights() {
    if (!unlockCardEl || !txCardEl || !sigCardEl) return;

    // 1) Clear minHeight first (prevents “ratcheting”)
    unlockCardEl.style.minHeight = '0px';
    txCardEl.style.minHeight = '0px';
    sigCardEl.style.minHeight = '0px';

    // 2) Measure natural height for the canonical panel (Unlock)
    const unlockH = getNaturalHeightEvenIfHidden(unlockCardEl);

    if (unlockH && unlockH > 0) {
      // 3) Apply the synchronized minHeight
      unlockCardEl.style.minHeight = unlockH + 'px';
      txCardEl.style.minHeight = unlockH + 'px';
      sigCardEl.style.minHeight = unlockH + 'px';
    }
  }

      function deriveWalletFromMnemonic(phrase, pathOverride, bip39Passphrase) {
        const ethersLib = window.ethers;
        if (!ethersLib) {
          throw new Error('Ethers library not loaded');
        }

        // BIP39 passphrase (a.k.a. "mnemonic password") is optional
        const passphrase = (bip39Passphrase || '').toString();

        // Use override if provided, otherwise default
        let path = (pathOverride && pathOverride.trim()) || DEFAULT_DERIVATION_PATH;

        // Normalize path: allow "44'/60'/..." and prepend "m/"
        if (!/^m\//i.test(path)) {
          path = 'm/' + path.replace(/^\/+/, '');
        }

        // Ethers v6: HDNodeWallet.fromPhrase(mnemonic, password?, path?)
        if (ethersLib.HDNodeWallet && typeof ethersLib.HDNodeWallet.fromPhrase === 'function') {
          return ethersLib.HDNodeWallet.fromPhrase(phrase, passphrase || undefined, path);
        }

        // Ethers v5: utils.HDNode.fromMnemonic(mnemonic, password?) + derivePath
        if (ethersLib.utils && ethersLib.utils.HDNode && typeof ethersLib.utils.HDNode.fromMnemonic === 'function') {
          const root = ethersLib.utils.HDNode.fromMnemonic(phrase, passphrase || undefined);
          const child = root.derivePath(path);
          return new ethersLib.Wallet(child.privateKey);
        }

        // Ethers v5: Wallet.fromMnemonic(mnemonic, path?)
        // NOTE: Ethers v5 Wallet.fromMnemonic does not support BIP39 passphrase.
        if (ethersLib.Wallet && typeof ethersLib.Wallet.fromMnemonic === 'function') {
          if (passphrase) {
            throw new Error('This ethers build does not support BIP39 passphrase for mnemonic derivation (Wallet.fromMnemonic).');
          }
          return ethersLib.Wallet.fromMnemonic(phrase, path);
        }

        // Ethers v6 compat: Wallet.fromPhrase(mnemonic, password?, path?)
        if (ethersLib.Wallet && typeof ethersLib.Wallet.fromPhrase === 'function') {
          return ethersLib.Wallet.fromPhrase(phrase, passphrase || undefined, path);
        }

        throw new Error('This ethers build does not support mnemonic/HD wallets.');
      }

      // ---- Helpers ----
      function log(line) {
        if (!logEl) return;
        logEl.value += (logEl.value ? "\n" : "") + line;
        logEl.scrollTop = logEl.scrollHeight;
      }

      function updateWalletUI() {
        if (!walletAddressEl) return;
        if (currentAddress) {
          walletAddressEl.textContent = currentAddress;
          walletAddressEl.classList.remove('muted');
        } else {
          walletAddressEl.textContent = '(locked)';
          walletAddressEl.classList.add('muted');
        }
      }

      function resetWalletAlertToSecurityNote() {
        const walletAlertEl = document.getElementById('walletAlert');
        if (!walletAlertEl) return;
        walletAlertEl.classList.remove('alert-green');
        walletAlertEl.classList.add('alert-red');
        walletAlertEl.innerHTML = `<strong>Security Note:</strong> &thinsp; Use this tool on an air-gapped machine for maximum security.`;
      }

      function logWalletUnlocked() {
        // Log to hidden log textarea
        if (currentAddress) {
          log(`Wallet unlocked (${currentAddress}).`);
        } else {
          log('Wallet unlocked.');
        }

        const walletAlertEl = document.getElementById('walletAlert');
        if (walletAlertEl) {
          walletAlertEl.classList.remove('alert-red');
          walletAlertEl.classList.add('alert-green');

          const addr = currentAddress || '(address unavailable)';
          walletAlertEl.innerHTML =
            `<strong>Wallet Unlocked:</strong><span class="wallet-address">${addr}</span>`;
        }

        // Ensure old footnote stays hidden (legacy)
        if (walletUnlockedNoteEl) {
          walletUnlockedNoteEl.style.display = 'none';
        }

        // Status row (legacy) is no longer needed, but if present keep it hidden to save space
        const walletStatusRow = document.getElementById('walletStatusRow');
        if (walletStatusRow) {
          walletStatusRow.style.display = 'none';
        }

        // Update camera-card affordances + pill
        setUnlockWalletButtonLabel();

        // Keep heights aligned
        syncRightPanelHeights();

        // After a successful unlock, return to Transaction details panel
        try { showRightPanel('tx'); } catch (_) {}
      }

      function normalizePkHex(raw) {
        return (raw || '').trim().replace(/^0x/i, '');
      }

      async function postJSON(url, body) {
        const res = await fetch(url, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(body),
        });
        if (!res.ok) throw new Error(await res.text());
        return res.json();
      }

      async function getJSON(url) {
        const res = await fetch(url);
        if (!res.ok) throw new Error(await res.text());
        return res.json();
      }

      // ---- Unlock mode UI ----
      function updateUnlockModeUI() {
        const mode = unlockModeSelect.value;
        keystoreSection.style.display = (mode === 'keystore') ? 'block' : 'none';
        pkFileSection.style.display   = (mode === 'pkFile')   ? 'block' : 'none';
        manualSection.style.display   = (mode === 'manual')   ? 'block' : 'none';
        mnemonicSection.style.display = (mode === 'mnemonic') ? 'block' : 'none';
        mnemonicPassSection.style.display = (mode === 'mnemonicPass') ? 'block' : 'none';
      }
      unlockModeSelect.addEventListener('change', updateUnlockModeUI);
      updateUnlockModeUI();

      // ---- Keystore handling ----
      keystoreFileInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        keystoreJsonString = null;

        const reader = new FileReader();
        reader.onload = (e) => {
          try {
            const text = e.target.result;
            JSON.parse(text); // sanity check
            keystoreJsonString = text;
            log(`Loaded keystore file: ${file.name}`);
          } catch (err) {
            alert('File is not valid JSON keystore.');
            log('ERROR: Invalid keystore JSON: ' + (err.message || err));
            keystoreJsonString = null;
          }
        };
        if (file) reader.readAsText(file);
      });

      keystoreUnlockBtn.addEventListener('click', async () => {
        if (!window.ethers || !window.ethers.Wallet) {
          alert('Ethers library not available; cannot decrypt keystore in browser.');
          return;
        }
        if (!keystoreJsonString) {
          alert('Please select a keystore.json file first.');
          return;
        }
        const password = keystorePasswordInput.value || '';
        if (!password) {
          alert('Please enter the keystore password.');
          return;
        }

        try {
          log('Attempting to unlock wallet from keystore…');
          const wallet = await window.ethers.Wallet.fromEncryptedJson(keystoreJsonString, password);
          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;
          updateWalletUI();
          logWalletUnlocked();
          keystoreUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          alert('Failed to decrypt keystore: ' + (e.message || e));
          log('ERROR unlocking keystore: ' + (e.message || e));
        }
      });

      // ---- Private key file handling ----
      pkFileInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        pendingPkFromFile = null;

        const reader = new FileReader();
        reader.onload = (e) => {
          try {
            let keyContent = normalizePkHex(e.target.result);
            if (!/^[0-9a-fA-F]{64}$/.test(keyContent)) {
              alert('File content is not a valid 64-hex private key (after removing 0x).');
              log('ERROR: Invalid private key format in file.');
              pendingPkFromFile = null;
            } else {
              pendingPkFromFile = keyContent;
              log(`Loaded private key from file: ${file.name}. Click "Unlock wallet" to use it.`);
            }
          } catch (err) {
            alert('Error reading file: ' + (err.message || err));
            log('File read ERROR: ' + (err.message || err));
            pendingPkFromFile = null;
          }
        };
        if (file) reader.readAsText(file);
      });

      pkFileUnlockBtn.addEventListener('click', () => {
        if (!pendingPkFromFile) {
          alert('Please select a valid private key file first.');
          return;
        }
        if (!window.ethers || !window.ethers.Wallet) {
          currentPrivateKeyHex = pendingPkFromFile;
          currentAddress = null;
          updateWalletUI();
          logWalletUnlocked();
          pkFileUnlockBtn.textContent = 'Unlocked';
          return;
        }
        try {
          const wallet = new window.ethers.Wallet('0x' + pendingPkFromFile);
          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;
          updateWalletUI();
          logWalletUnlocked();
          pkFileUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          alert('Invalid private key: ' + (e.message || e));
          log('ERROR unlocking from private key file: ' + (e.message || e));
        }
      });

      // ---- Manual private key handling ----
      manualUnlockBtn.addEventListener('click', () => {
        const pkHex = normalizePkHex(pkManualInput.value);
        if (!/^[0-9a-fA-F]{64}$/.test(pkHex)) {
          alert('Please enter a 64-hex private key (no 0x).');
          return;
        }
        if (!window.ethers || !window.ethers.Wallet) {
          currentPrivateKeyHex = pkHex;
          currentAddress = null;
          updateWalletUI();
          logWalletUnlocked();
          manualUnlockBtn.textContent = 'Unlocked';
          return;
        }
        try {
          const wallet = new window.ethers.Wallet('0x' + pkHex);
          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;
          updateWalletUI();
          logWalletUnlocked();
          manualUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          alert('Invalid private key: ' + (e.message || e));
          log('ERROR unlocking from manual PK: ' + (e.message || e));
        }
      });

      // ---- Mnemonic + derivation path handling ----
      mnemonicUnlockBtn.addEventListener('click', () => {
        const phrase = (mnemonicInput.value || '').trim();
        let path = (derivationPathInput.value || '').trim();

        if (!phrase) {
          alert('Please enter a mnemonic phrase.');
          return;
        }

        // If user leaves it empty, enforce the default and write it back to the input
        if (!path) {
          path = DEFAULT_DERIVATION_PATH;
          derivationPathInput.value = DEFAULT_DERIVATION_PATH;
        }

        try {
          log(`Deriving key from mnemonic with path: ${path}`);
          const wallet = deriveWalletFromMnemonic(phrase, path);

          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;

          updateWalletUI();
          logWalletUnlocked();
          mnemonicUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          const msg = e && e.message ? e.message : String(e);
          alert('Failed to derive key from mnemonic: ' + msg);
          log('ERROR deriving from mnemonic: ' + msg);
        }
      });

      // ---- Mnemonic + BIP39 passphrase + derivation path handling ----
      mnemonicPassUnlockBtn.addEventListener('click', () => {
        const phrase = (mnemonicInput2.value || '').trim();
        const bip39Passphrase = (mnemonicPassphraseInput.value || '').toString();
        let path = (derivationPathInput2.value || '').trim();

        if (!phrase) {
          alert('Please enter a mnemonic phrase.');
          return;
        }

        // If user leaves it empty, enforce the default and write it back to the input
        if (!path) {
          path = DEFAULT_DERIVATION_PATH;
          derivationPathInput2.value = DEFAULT_DERIVATION_PATH;
        }

        try {
          log(`Deriving key from mnemonic with passphrase and path: ${path}`);
          const wallet = deriveWalletFromMnemonic(phrase, path, bip39Passphrase);

          currentPrivateKeyHex = normalizePkHex(wallet.privateKey);
          currentAddress = wallet.address;

          updateWalletUI();
          logWalletUnlocked();
          mnemonicPassUnlockBtn.textContent = 'Unlocked';
        } catch (e) {
          const msg = e && e.message ? e.message : String(e);
          alert('Failed to derive key from mnemonic + passphrase: ' + msg);
          log('ERROR deriving from mnemonic + passphrase: ' + msg);
        }
      });

      // ---- Scan to server (animated UR assembly) ----
      async function resetServerDecoder() {
        // Keep UI focused on Transaction details when resetting
        try { showRightPanel('tx'); } catch (_) {}

        // Hide tx action buttons until details are successfully re-rendered
        setTxActionsVisible(false);

        seen.clear();
        urDecoder = (window.BCUR && BCUR.URRegistryDecoder) ? new BCUR.URRegistryDecoder() : null;
        try {
          await postJSON('/api/ur/reset', {});
          if (resultEl) {
            resultEl.textContent = 'Decoder reset. Ready to collect frames.';
          }
          const box = document.getElementById('decodedSummary');
          box.innerHTML = '<div class="muted">Scan a transaction request QR code</div>';
        } catch (e) {
          if (resultEl) {
            resultEl.textContent = 'Failed to reset decoder: ' + (e.message || e);
          }
        }
      }

      async function onScanSuccess(decodedText) {
        const part = decodedText.trim();
        if (!/^ur:/i.test(part)) return;
        if (seen.has(part)) return;
        seen.add(part);

        log('Frame → ' + part.slice(0, 60) + (part.length > 60 ? '…' : ''));
        // Multipart UR (animated QR) handling:
        // Collect fragments in-browser and only send the assembled single-part UR to the backend.
        let partToSend = part;
        try {
          if (/^ur:eth-sign-request\/\d+-\d+\//i.test(part)) {
            if (!urDecoder) urDecoder = new BCUR.URRegistryDecoder();
            urDecoder.receivePart(part);
            if (urDecoder.isComplete && !urDecoder.isComplete()) {
              if (resultEl) resultEl.textContent = 'Collecting parts… keep scanning.';
              return;
            }
            if (urDecoder.isComplete && urDecoder.isComplete()) {
              const ur = urDecoder.resultUR();
              if (ur && typeof ur.toString === 'function') partToSend = ur.toString();
            }
          }
        } catch (e) {
          partToSend = part;
        }


        try {
          const reply = await postJSON('/api/ur/part', { part: partToSend });
          if (reply.status === 'collecting') {
            // (1) No camera status UI; keep info in hidden result/log only
            if (resultEl) resultEl.textContent = 'Collecting parts… keep scanning.';
          } else if (reply.status === 'error') {
            if (resultEl) resultEl.textContent = 'Decode error on server: ' + reply.error;
            log('ERROR: ' + reply.error);
          } else if (reply.status === 'complete') {
            if (resultEl) {
              resultEl.innerHTML = `
                <div class="ok">✅ Completed on server.</div>
                <div>Type: <code>${reply.type}</code></div>
                <div>CBOR (hex): <code class="mono">${reply.cborHex.slice(0, 80)}${reply.cborHex.length>80?'…':''}</code></div>
              `;
            }
            await stopCamera();
            await refreshDecoded();
          }
        } catch (e) {
          if (resultEl) resultEl.textContent = 'Network error posting frame: ' + (e.message || e);
          log('Network error: ' + (e.message || e));
        }
      }
      function onScanFailure(_error) {}

      async function startCamera() {
        try {
          await resetServerDecoder();
          if (!html5QrCode) html5QrCode = new Html5Qrcode('reader');
          const configs = { fps: 12, qrbox: { width: 220, height: 220 } };
          await html5QrCode.start({ facingMode: 'environment' }, configs, onScanSuccess, onScanFailure);
          isRunning = true;
          cameraToggleBtn.textContent = 'Stop camera';
          log('Camera started.');
        } catch (e) {
          if (resultEl) resultEl.textContent = 'Failed to start camera: ' + (e.message || e);
          log('Start error: ' + (e.message || e));
        }
      }

      async function stopCamera() {
        try {
          if (html5QrCode && isRunning) {
            await html5QrCode.stop();
            await html5QrCode.clear();
          }
        } catch (e) {
          console.warn('Stop error:', e);
        } finally {
          isRunning = false;
          cameraToggleBtn.textContent = 'Start camera';
          log('Camera stopped.');
        }
      }

      let cameraBusy = false;

      async function toggleCamera() {
        if (cameraBusy) return;
        cameraBusy = true;
        try {
          if (!isRunning) {
            await startCamera();
          } else {
            await stopCamera();
          }
        } finally {
          cameraBusy = false;
        }
      }

      cameraToggleBtn.addEventListener('click', toggleCamera);
      resetBtn.addEventListener('click', resetServerDecoder);

      // ---- Decoded preview ----
      function renderHumanSummary(data) {
        const box = document.getElementById('decodedSummary');

        if (!data || data.error) {
          // Keep tx action buttons hidden on failure/empty
          setTxActionsVisible(false);

          box.innerHTML = `<div class="err">${data?.error || 'No data'}</div>`;
          return;
        }

        // Success: show tx action buttons
        setTxActionsVisible(true);

        const h = data.human || {};
        const tx = data.tx || {};

        // --- Network / chainId to human label ---
        let chainIdRaw = data.chainId ?? tx.chainId ?? null;
        let chainIdNum = null;

        if (chainIdRaw != null) {
          if (typeof chainIdRaw === 'number') {
            chainIdNum = chainIdRaw;
          } else if (typeof chainIdRaw === 'bigint') {
            chainIdNum = Number(chainIdRaw);
          } else if (typeof chainIdRaw === 'string') {
            if (chainIdRaw.startsWith('0x') || chainIdRaw.startsWith('0X')) {
              const parsed = parseInt(chainIdRaw, 16);
              if (!Number.isNaN(parsed)) chainIdNum = parsed;
            } else {
              const parsed = Number(chainIdRaw);
              if (!Number.isNaN(parsed)) chainIdNum = parsed;
            }
          }
        }

        function networkLabelFromChainId(idNum, fallbackRaw) {
          switch (idNum) {
            case 1:
              return 'Ethereum Mainnet';
            case 10:
              return 'OP Mainnet';
            case 42161:
              return 'Arbitrum';
            case 8453:
              return 'Base';
            case 324:
              return 'zkSync Era';
			case 59144:
			  return 'Linea';
			case 130:
			  return 'Unichain';
		    case 42170:
              return 'Arbitrum Nova';
			case 1101:
              return 'Polygon zkEVM';
			case 534352:
              return 'Scroll';
			case 137:
              return 'Polygon PoS';
		    case 43114:
              return 'Avalanche C-Chain';
            case 56:
              return 'BNB Smart Chain';
            default:
              if (idNum != null) return String(idNum);
              if (fallbackRaw != null) return String(fallbackRaw);
              return '(unknown)';
          }
        }

        const networkLabel = networkLabelFromChainId(chainIdNum, chainIdRaw);

        // --- Core fields you want to see ---
        const type =
          tx.type
            ? tx.type.toUpperCase()
            : (data.dataType === 4
                ? 'EIP-1559'
                : data.dataType === 1
                  ? 'LEGACY'
                  : 'OTHER');

        const toAddr = h.toAddress || tx.to || '(unknown)';
        const token  = h.token || (tx.valueEth && tx.valueEth !== '0' ? 'ETH' : 'ERC20');
        const amount = h.amount || (tx.valueEth ?? '0');

        // --- Human-readable action line ---
        let actionLine = h.summary || 'Review carefully on your device.';
        if (h.details?.kind === 'erc20.transfer') {
          actionLine =
            `Send <b>${amount} ${token}</b> to ` +
            `<code style="font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%;"><b>${h.details.recipient}</b></code>`;
        } else if (h.details?.kind === 'eth.transfer') {
          actionLine =
            `Send <b>${amount} ETH</b> to ` +
            `<code style="font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%;"><b>${h.details.recipient}</b></code>`;
        } else if (h.details?.kind === 'contract.call') {
          actionLine =
            `Contract call to <code style="font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%;"><b>${h.details.to}</b></code>` +
            ` (selector <code>${h.details.selector}</code>)`;
        }

box.innerHTML = `
  <div class="tx-grid">
    <div class="muted">Network:</div>
    <div class="tx-val">${networkLabel}</div>

    <div class="muted">Tx type:</div>
    <div class="tx-val">${type}</div>

    <div class="muted">To:</div>
    <div class="tx-val">
      <code class="tx-code">${toAddr}</code>
    </div>

    <div class="muted">Token:</div>
    <div class="tx-val">${token}</div>

    <div class="muted">Amount:</div>
    <div class="tx-val">${amount}</div>

    <div class="muted">Summary:</div>
    <div class="tx-val tx-summary">${actionLine}</div>
  </div>
`;



        // Panel content changed; keep heights aligned
        syncRightPanelHeights();
      }

      async function refreshDecoded() {
        const box = document.getElementById('decodedSummary');

        // Hide buttons until we confirm details successfully render
        setTxActionsVisible(false);

        box.innerHTML = '<div class="muted">(loading…)</div>';
        try {
          const data = await getJSON('/api/ur/decoded');
          renderHumanSummary(data);
        } catch (e) {
          const err = 'Error: ' + (e.message || e);
          setTxActionsVisible(false);
          box.innerHTML = `<div class="err">${err}</div>`;
          syncRightPanelHeights();
        }
      }

      refreshPreviewBtn.addEventListener('click', refreshDecoded);

      // ---- Signing ----
      function renderSigQr(text) {
        if (typeof QRCode === 'undefined') {
          alert('QR library did not load. Try a hard refresh (Ctrl+F5).');
          return;
        }
        const opts = { text, width: 160, height: 160, correctLevel: QRCode.CorrectLevel.L };
        if (!sigQr) {
          sigQr = new QRCode(sigQrEl, opts);
        } else {
          sigQr.clear();
          sigQr.makeCode(text);
        }
      }

      function clearSigUI() {
        sigText.value = '';
        if (rHexEl) rHexEl.textContent = '';
        if (sHexEl) sHexEl.textContent = '';
        if (vParityEl) vParityEl.textContent = '';
        if (sigQr) sigQr.clear();
        sigQrEl.innerHTML = '';
        sigQr = null;
      }

      async function clearSigAndResetTx() {
        // (4) Clear signature + clear scanned transaction details as a true reset
        clearSigUI();
        if (clearSigBtn) clearSigBtn.disabled = true;

        // Clear scanned tx details + reset decoder state
        await resetServerDecoder();

        // Bring user back to Transaction details panel
        showRightPanel('tx');

        // Re-sync heights since panel content changed
        syncRightPanelHeights();
      }

      if (clearSigBtn) {
        clearSigBtn.addEventListener('click', clearSigAndResetTx);
      }

      signBtn.addEventListener('click', async () => {
        // Only available after transaction details successfully render
        if (!currentPrivateKeyHex || !/^[0-9a-fA-F]{64}$/.test(currentPrivateKeyHex)) {
          alert('No wallet unlocked. Please unlock a wallet with a keystore, private key or a seed phrase.');
          // Guide user to the unlock panel
          showRightPanel('unlock');
          return;
        }

        clearSigUI();
        if (clearSigBtn) clearSigBtn.disabled = true;

        try {
          const reply = await postJSON('/api/sign', { privateKeyHex: currentPrivateKeyHex });
          if (!reply.ok) throw new Error(reply.error || 'Unknown signing error');

          if (reply.address && /^0x[0-9a-fA-F]{40}$/.test(reply.address)) {
            currentAddress = reply.address;
            updateWalletUI();
            logWalletUnlocked();
          }

          sigText.value = reply.urSignatureUpper;
          if (rHexEl) rHexEl.textContent = reply.r;
          if (sHexEl) sHexEl.textContent = reply.s;
          if (vParityEl) vParityEl.textContent = String(reply.vParity);
          renderSigQr(reply.urSignatureUpper);

          if (clearSigBtn) clearSigBtn.disabled = false;

          // Replace Transaction details with Signature
          showRightPanel('sig');

          // Height sync after panel swap
          syncRightPanelHeights();
        } catch (e) {
          alert('Sign error: ' + (e.message || e));
        }
      });

      // Initial setup: reflect wallet button state + sync heights when DOM is ready
      document.addEventListener('DOMContentLoaded', () => {
        try { resetWalletAlertToSecurityNote(); } catch (_) {}
        setUnlockWalletButtonLabel();
        // After initial paint, measure and align heights
        setTimeout(syncRightPanelHeights, 0);
      });

      window.addEventListener('resize', () => {
        // Keep layout stable across viewport changes
        syncRightPanelHeights();
      });

      // Also do a one-time sync shortly after load (fonts/layout settling)
      setTimeout(syncRightPanelHeights, 250);
    </script>
  </body>
</html>


